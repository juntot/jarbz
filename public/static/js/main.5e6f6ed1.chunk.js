(this.webpackJsonpjarb=this.webpackJsonpjarb||[]).push([[0],{30:function(e,t,a){},35:function(e,t,a){},46:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(36),r=a.n(n),l=a(37),i=a(59),o=a(58),d=(a(46),a(9)),m=a(10),j=(a(30),a(0)),b=function(){var e=Object(m.g)();return Object(j.jsxs)("div",{className:"error-page",children:[Object(j.jsx)("div",{className:"backdrop-text",children:Object(j.jsx)("i",{className:"fas fa-broadcast-tower"})}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(j.jsx)("h1",{className:"text-center font-weight-bold",children:"404"}),Object(j.jsx)("p",{children:"There's nothing in here"}),Object(j.jsx)("div",{className:"page-error-message",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm py-2",onClick:function(){e.goBack()},children:"Go Back"})})]})]})},u=function(){return Object(j.jsxs)("div",{className:"error-page",children:[Object(j.jsx)("div",{className:"backdrop-text",children:Object(j.jsx)("i",{className:"fas fa-broadcast-tower"})}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(j.jsx)("h1",{className:"text-center font-weight-bold",children:"503"}),Object(j.jsx)("p",{children:"Page under construction"}),Object(j.jsx)("div",{className:"page-error-message"})]})]})},p=a(2),h=a(16),x=a(17),f="",O=new(function(){function e(){if(Object(h.a)(this,e),this.isAuth=!1,this.user="",this.role="",this._id="",this.token="",this.userInfo="",this.cookieName="jarb",this.getCookieValue(this.cookieName)&&localStorage.getItem("user")){var t=JSON.parse(localStorage.getItem("user"));this.isAuth=!0,this._id=t.userId,this.user=t.user,this.role=t.role,this.token=t.token,this.userInfo=t}}return Object(x.a)(e,[{key:"login",value:function(e,t){return localStorage.setItem("user",JSON.stringify(e)),this.token=e.token||"",this._id=e.userId||"",this.user=e.user||"",this.role=e.role||"",this.isAuth=!0,this.userInfo=e,this.setCookieValue(this.cookieName,e.token),this.startTimer(),t()}},{key:"update",value:function(e){var t=Object(p.a)(Object(p.a)({},this.userInfo),e);localStorage.setItem("user",JSON.stringify(t))}},{key:"logout",value:function(e){return localStorage.clear(),this.isAuth=!1,this.deleteAllCookies(),e()}},{key:"startTimer",value:function(){var e=this;this.clearIdleTime(),document.body.addEventListener("mousemove",this.startIdleTime),document.body.addEventListener("scroll",this.startIdleTime),document.body.addEventListener("keydown",this.startIdleTime),document.body.addEventListener("click",this.startIdleTime),document.body.addEventListener("touchstart",this.startIdleTime),window.onblur=function(){e.startIdleTime()}}},{key:"startIdleTime",value:function(){var e=this;f=setTimeout((function(){localStorage.clear(),e.isAuth=!1}),384e4)}},{key:"clearIdleTime",value:function(){clearTimeout(f)}},{key:"setCookieValue",value:function(e,t){var a=new Date,c=a.getTime()+36e5;a.setTime(c),document.cookie="".concat(e,"=").concat(t,";expires=").concat(a.toUTCString(),";path=/;secure")}},{key:"getCookieValue",value:function(e){var t;return(null===(t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))||void 0===t?void 0:t.pop())||""}},{key:"deleteAllCookies",value:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=e[t],c=a.indexOf("="),s=c>-1?a.substr(0,c):a;document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;secure"}}}]),e}()),v=window.$,g=window.Chart,N=function(){return Object(c.useEffect)((function(){var e=v("#salesChart").get(0).getContext("2d");new g(e,{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Digital Goods",backgroundColor:"rgba(60,141,188,0.9)",borderColor:"rgba(60,141,188,0.8)",pointRadius:!1,pointColor:"#3b8bba",pointStrokeColor:"rgba(60,141,188,1)",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(60,141,188,1)",data:[28,48,40,19,86,27,90]},{label:"Electronics",backgroundColor:"rgba(210, 214, 222, 1)",borderColor:"rgba(210, 214, 222, 1)",pointRadius:!1,pointColor:"rgba(210, 214, 222, 1)",pointStrokeColor:"#c1c7d1",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[65,59,80,81,56,55,40]}]},options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]}}})}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-4 col-12",children:Object(j.jsxs)("div",{className:"info-box bg-info",children:[Object(j.jsx)("span",{className:"info-box-icon",children:Object(j.jsx)("i",{className:"far fa-bookmark"})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:"Required Action"}),Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"progress-bar",style:{width:"70%"}})}),Object(j.jsx)("span",{className:"info-box-number",children:"41,410"})]})]})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-4 col-12",children:Object(j.jsxs)("div",{className:"info-box bg-success",children:[Object(j.jsx)("span",{className:"info-box-icon",children:Object(j.jsx)("i",{className:"far fa-thumbs-up"})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:"For Approval"}),Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"progress-bar",style:{width:"70%"}})}),Object(j.jsx)("span",{className:"info-box-number",children:"41,410"})]})]})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-4 col-12",children:Object(j.jsxs)("div",{className:"info-box bg-warning",children:[Object(j.jsx)("span",{className:"info-box-icon",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:"Non-Conformance"}),Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"progress-bar",style:{width:"70%"}})}),Object(j.jsx)("span",{className:"info-box-number",children:"41,410"})]})]})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"card card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Overall Towers Progress Reports"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-8",children:[Object(j.jsx)("p",{className:"text-center",children:Object(j.jsx)("strong",{children:"Progress Year 2021"})}),Object(j.jsx)("div",{className:"chart",children:Object(j.jsx)("canvas",{id:"salesChart",style:{height:"180px",display:"block",width:"574px"},className:"chartjs-render-monitor"})})]}),Object(j.jsxs)("div",{className:"col-md-4",children:[Object(j.jsx)("p",{className:"text-center",children:Object(j.jsx)("strong",{children:"Site Inspection Status"})}),Object(j.jsxs)("div",{className:"progress-group",children:["Foundation",Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"80"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-primary",style:{width:"80%"}})})]}),Object(j.jsxs)("div",{className:"progress-group",children:["Grounding Layout",Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"55"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-danger",style:{width:"75%"}})})]}),Object(j.jsxs)("div",{className:"progress-group",children:[Object(j.jsx)("span",{className:"progress-text",children:"Form Works"}),Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"35"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-success",style:{width:"60%"}})})]}),Object(j.jsxs)("div",{className:"progress-group",children:["Concreting",Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"25"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-warning",style:{width:"50%"}})})]})]})]})}),Object(j.jsx)("div",{className:"card-footer",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block border-right",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-success",children:[Object(j.jsx)("i",{className:"fas fa-caret-up"})," 17%"]})}),Object(j.jsx)("span",{className:"description-text",children:"SITE COMPLETION"})]})}),Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block border-right",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-warning",children:[Object(j.jsx)("i",{className:"fas fa-caret-left"})," 100"]})}),Object(j.jsx)("span",{className:"description-text",children:"ONGOING TOWER CONSTRUCTION"})]})}),Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-success",children:[Object(j.jsx)("i",{className:"fas fa-caret-up"})," 20"]})}),Object(j.jsx)("span",{className:"description-text",children:"DELAYED TOWER CONSTRUCTION"})]})})]})})]})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"card card-success",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Progress Reports"})}),Object(j.jsx)("div",{className:"card-body"}),Object(j.jsx)("div",{className:"card-footer"})]})})})]})},y=function(){return Object(j.jsx)(j.Fragment,{children:(O.role,Object(j.jsx)(N,{}))})},k=a(3),w=a.n(k),C=a(6),P=a(7),I=a(26),D=a(25),S=(a(53),a.p+"static/media/icdi_mini_logo.e0d56278.png"),Y=new(function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,[{key:"post",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a){var c,s,n=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.length>2&&void 0!==n[2]&&n[2],e.next=3,fetch(t,{method:"POST",headers:c?{Authorization:"Bearer ".concat(O.token)}:{Authorization:"Bearer ".concat(O.token),"Content-Type":"application/json"},body:c?a:JSON.stringify(a)});case 3:return s=e.sent,e.next=6,s.json();case 6:return e.t0=e.sent,e.t1=s.status,e.abrupt("return",{data:e.t0,status:e.t1});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(C.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Authorization:"Bearer ".concat(O.token),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.t0=e.sent,e.t1=a.status,e.abrupt("return",{data:e.t0,status:e.t1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),E=a(40),F=a.n(E),T={email:{presence:{message:"Cannot be blank."},email:{message:"Please enter a valid email address"}},firstName:{presence:{message:"Cannot be blank."},format:{pattern:"[a-z A-Z.]+",flags:"i",message:"can only contain a-z"},length:{minimum:1,message:"at least 5 characters"}},lastName:{presence:{message:"Cannot be blank."},format:{pattern:"[a-z A-Z]+",flags:"i",message:"can only contain a-z"},length:{minimum:2,message:"at least 5 characters"}},address:{presence:{message:"Cannot be blank."},format:{pattern:"[a-z A-Z0-9,-.]+",flags:"i",message:"must not have special characters"},length:{minimum:5,message:"at least 5 characters"}},contactNum:{presence:{message:"Cannot be blank."},format:{pattern:new RegExp("^(09|\\+639)\\d{9}$"),message:"Invalid mobile number"},length:{minimum:11,message:"at least 11 characters"}},password:{format:{pattern:new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{6,}$"),message:"atleast of six characters, one uppercase, lowercase, and number"}}},R=function(e,t){var a=T[e],c=F()(Object(P.a)({},e,t),Object(P.a)({},e,a));return console.log(c),c&&c.hasOwnProperty([e])?c[e][0]:null},A="An error encountered please try again",M="Success",_=function(e){var t={teamlead:"Project Supervisor",foreman:"Foreman",siteEnginner:"Site Engineer",safetyOfficer:"Safety Officer",masonCarpenter:"Mason/Carpenter",electrician:"Electrician",rigger:"Structural Erector/ Rigger",labor:"Labor",steelman:"Steel Man",welder:"Welder"};return e?t[e]:t},L=window.toastr;L.options={debug:!1,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,fadeIn:300,fadeOut:1e3,timeOut:1e3};var B=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var c;return Object(h.a)(this,a),(c=t.call(this,e)).handleChange=function(e){c.setState(Object(P.a)({},e.target.name,e.target.value))},c.login=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,s,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Y.post("".concat("https://icdi.herokuapp.com","/api/login"),{email:c.state.email.trim(),password:c.state.password});case 4:200===(a=e.sent).status?(s=c.location.state||{from:{pathname:"/"}},n=s.from,O.login(a.data,(function(){c.history.push(n)}))):L.error(a.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),L.error(A);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),c.register=function(e){e.preventDefault(),c.history.push("/register")},c.forgetPass=function(e){e.preventDefault(),c.history.push("/reset-pass")},c.validate=function(e){var t,a;e.preventDefault();var s=e.target,n=R([s.name],s.value);n?c.setState({errMsg:(t={},Object(P.a)(t,s.name,n),Object(P.a)(t,"count",1),t)}):c.setState({errMsg:(a={},Object(P.a)(a,s.name,n),Object(P.a)(a,"count",0),a)})},c.history=e.history,c.location=e.location,c.state={email:"",password:"",errMsg:{count:0}},c}return Object(x.a)(a,[{key:"render",value:function(){return O.isAuth?this.history.goBack():Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row no-gutter",children:[Object(j.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),Object(j.jsx)("div",{className:"col-md-6 bg-light bg-custom-dark",children:Object(j.jsx)("div",{className:"login d-flex align-items-center",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-9 col-xl-6 mx-auto clr-primary",children:[Object(j.jsx)("img",{src:S,alt:"",style:{width:"100%",height:"auto"}}),Object(j.jsxs)("h3",{className:"display-4",children:["4",Object(j.jsx)("sup",{children:"th"}),"JARB"]}),Object(j.jsx)("p",{className:"text-muted mb-4",children:"Login."}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{id:"inputEmail",name:"email",onChange:this.handleChange,value:this.state.email,onBlur:this.validate,type:"text",placeholder:"Email",required:"",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),Object(j.jsx)("small",{className:"text-danger",children:this.state.errMsg.email||""})]}),Object(j.jsx)("div",{className:"form-group mb-3",children:Object(j.jsx)("input",{id:"inputPassword",name:"password",onChange:this.handleChange,value:this.state.password,type:"password",placeholder:"Password",required:"",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4 text-primary"})}),Object(j.jsx)("div",{className:"mt-4",children:Object(j.jsx)("button",{type:"submit",onClick:this.login,className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm py-3",children:"Sign in"})}),Object(j.jsxs)("p",{className:"col-12 pt-2 text-center",children:[Object(j.jsx)("span",{className:"font-weight-bold text-secondary",children:"Click here to"}),Object(j.jsx)("a",{href:"/#",onClick:this.register,children:" Register"})," / ",Object(j.jsx)("a",{href:"/#",onClick:this.forgetPass,children:"Forget Pass"})]})]})]})})})})})]})})}}]),a}(c.Component),U=a(18),q=a(4),z=function(e){var t=e.children,a=e.title,c=e.size,s=void 0===c?"modal-lg":c,n=e.id,r=void 0===n?"staticBackdrop":n,l=e.headerClass,i=void 0===l?"card-primary":l,o="modal-dialog ".concat(s);return Object(j.jsx)("div",{className:"modal fade",id:r,"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{className:o,children:Object(j.jsxs)("div",{className:"modal-content card "+i,children:[Object(j.jsxs)("div",{className:"modal-header card-header",children:[Object(j.jsx)("h3",{className:"card-title",children:a||""}),Object(j.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),t]})})})},H=function(e){var t=e.props,a=e.callback,c=function(e,a){var c=document.getElementById("img".concat(t.name)),s=document.getElementById("_newtablink".concat(t.name)),n=URL.createObjectURL(e.target.files[0]);c.src=n,s.href=a,O.userInfo.documents[e.target.name]=a,localStorage.setItem("user",JSON.stringify(O.userInfo)),c.onload=function(){URL.revokeObjectURL(c.src)}},s=function(){var e=Object(C.a)(w.a.mark((function e(s){var n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("file",s.target.files[0]),n.append("name",s.target.name),n.append("email",t.email||O.userInfo.email),r=t.userId||O._id,l=t.path?t.path:"/api/contractor/".concat(r,"/documents"),Y.post("".concat("https://icdi.herokuapp.com").concat(l),n,"file").then((function(e){a&&(console.log(e.data),a(e.data)),t.path?c(s,e.data):c(s,e.data.data)})).catch((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"thumbnail w-100",children:[Object(j.jsx)("label",{htmlFor:"ID".concat(t.name),className:"w-100 px-3 my-3",children:t.title||""}),Object(j.jsxs)("div",{className:"docu-attachment",children:[Object(j.jsx)("img",{style:{height:"".concat(t.height||200,"px"),width:"100%",background:"gray",objectFit:"cover"},src:t.src||"../../dist/img/thumbnail.jpg",id:"img".concat(t.name),alt:"DO174"}),Object(j.jsx)("div",{className:"attachment-option",children:Object(j.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(j.jsx)("label",{htmlFor:"ID".concat(t.name),className:t.disable?"d-none":"",children:Object(j.jsx)("i",{className:"fas fa-camera-retro"})}),Object(j.jsx)("a",{href:t.src,id:"_newtablink".concat(t.name),target:"_blank",rel:"noreferrer",children:Object(j.jsx)("i",{className:"far fa-images"})})]})})]}),Object(j.jsx)("input",{type:"file",name:t.name,onChange:s,accept:"image/*",id:"ID".concat(t.name),className:"d-none"})]})},G=function(e){var t=e.props,a=e.callback,c=function(){var e=Object(C.a)(w.a.mark((function e(c){var s,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=new FormData,n=c.target.files[0],s.append("file",n),Y.post("".concat("https://icdi.herokuapp.com").concat(t.path),s,"file").then((function(e){a&&a({name:n.name.split(".").slice(0,-1).join("."),url:e.data})})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("input",{type:"file",name:t.name,onChange:c,accept:"image/*",id:"ID".concat(t.id),className:"d-none"})},$=(a(35),window.$),J=window.toastr,V=window.moment,Q=function(){var e=Object(c.useState)(!1),t=Object(q.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(q.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)({}),d=Object(q.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)({role:"",inputTye:"text",value:""}),h=Object(q.a)(u,2),x=h[0],f=h[1],v={title:"Team 1",status:1,remarks:"",person:[{role:"teamlead",inputTye:"text",value:"",credentials:{}},{role:"siteEnginner",inputTye:"text",value:"",credentials:{}},{role:"safetyOfficer",inputTye:"text",value:"",credentials:{}},{role:"foreman",inputTye:"text",value:"",credentials:{}},{role:"rigger",inputTye:"text",value:"",credentials:{}},{role:"rigger",inputTye:"text",value:"",credentials:{}},{role:"steelman",inputTye:"text",value:"",credentials:{}},{role:"welder",inputTye:"text",value:"",credentials:{}},{role:"electrician",inputTye:"text",value:"",credentials:{}},{role:"masonCarpenter",inputTye:"text",value:"",credentials:{}},{role:"masonCarpenter",inputTye:"text",value:"",credentials:{}},{role:"masonCarpenter",inputTye:"text",value:"",credentials:{}},{role:"labor",inputTye:"text",value:"",credentials:{}},{role:"labor",inputTye:"text",value:"",credentials:{}},{role:"labor",inputTye:"text",value:"",credentials:{}}]},g=Object(c.useState)({email:"",firstName:"",lastName:"",middleName:"",address:"",contactNum:"",region:"",commercialRemarks:"",technicalRemarks:"",team:[v],documents:{}}),N=Object(q.a)(g,2),y=N[0],k=N[1];Object(c.useEffect)((function(){Y.post("".concat("https://icdi.herokuapp.com","/api/contractor/").concat(O._id,"/details"),{email:O.userInfo.email}).then((function(e){200===e.status&&(e.data.team=JSON.parse(e.data.team),e.data.documents=JSON.parse(e.data.documents),k(Object(p.a)(Object(p.a)({},y),e.data)))})).catch((function(e){return console.log(e)})),$(".credential-dropdown li").on("click",(function(e){e.stopPropagation()}))}),[]),Object(c.useEffect)((function(){$(".fa-user-plus").on("click",(function(e){e.preventDefault(),$(this).parent().next().children(".dropdown").show("fast")})),$(".hide-fa-user-plus-dropdown").on("click",(function(e){e.preventDefault(),$(this).closest(".dropdown").hide("linear")})),$(".toastrDefaultError").click((function(){window.toastr.error("Lorem ipsum dolor sit amet, consetetur sadipscing elitr.")})),$("#team-container0").addClass("active"),setTimeout((function(){$("#team-container0").removeClass("active"),s(!1)}),1e3)}),[y.team]);var I=function(e){return"custom-tabs-three-technical-tab"===e.target.id?i(!0):i(!1)},D=function(){s(!0);var e=y.team.length?y.team[0].title.split(" ")[1]:0;e=parseInt(e)+1,k((function(){return Object(p.a)(Object(p.a)({},y),{},{team:[Object(p.a)(Object(p.a)({},v),{},{title:"Team ".concat(e)})].concat(Object(U.a)(y.team))})}))},S=function(e){f(Object(p.a)(Object(p.a)({},x),{},Object(P.a)({},e.target.name,e.target.value)))},E=function(e,t,a){var c=[],s=function(s){c.push(Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{className:"fas fa-trash-restore-alt text-danger mr-3",onClick:function(e){e.stopPropagation(),F(s,t,a,"remove-file")}}),Object(j.jsx)("a",{href:e[s],target:"_blank",rel:"noreferrer",children:s})]},s))};for(var n in e)s(n);return c},F=function(){var e=Object(C.a)(w.a.mark((function e(t,a,c,s){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r=y.team[a],s?delete r.person[c].credentials[n]:r.person[c].credentials[n.name]=n.url,k(Object(p.a)({},y)),k(Object(p.a)({},y));case 5:case"end":return e.stop()}}),e)})));return function(t,a,c,s){return e.apply(this,arguments)}}(),T=function(e,t,a){var c=e.target,s=y.team[t];s.person[a].value=c.value,s.status=1,k(Object(p.a)({},y))},R=function(e){e.preventDefault();var t=e.target.value.replace(/ /g,"");L(e.target.value).length>0&&t?b(Object(p.a)(Object(p.a)({},m),{},Object(P.a)({},t,!0))):(delete m[t],b(m))},L=function(e){return y.team.reduce((function(e,t){return e.push.apply(e,Object(U.a)(t.person)),e}),[]).filter((function(t){return t.value===e}))},B=function(e){k(Object(p.a)(Object(p.a)({},y),{},Object(P.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card card-primary card-outline card-tabs",children:[Object(j.jsx)("div",{className:"card-header p-0 pt-1 border-bottom-0",children:Object(j.jsxs)("ul",{className:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link active",onClick:I,id:"custom-tabs-three-form-tab","data-toggle":"pill",href:"#custom-tabs-three-form",role:"tab","aria-controls":"custom-tabs-three-form","aria-selected":"false",children:"pre-assessment"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:I,id:"custom-tabs-three-team-tab","data-toggle":"pill",href:"#custom-tabs-three-team",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Team"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:I,id:"custom-tabs-three-commercial-tab","data-toggle":"pill",href:"#custom-tabs-three-commercial",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Commercial"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:I,id:"custom-tabs-three-technical-tab","data-toggle":"pill",href:"#custom-tabs-three-technical",role:"tab","aria-controls":"custom-tabs-three-technical","aria-selected":"true",children:"Technical"})})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",style:{overflow:"hidden"},children:[Object(j.jsx)("div",{className:"tab-pane fade active show",id:"custom-tabs-three-form",role:"tabpanel","aria-labelledby":"custom-tabs-three-form-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"First Name"}),Object(j.jsx)("input",{onChange:B,value:y.firstName,readOnly:!0,name:"firstName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"First Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Last Name"}),Object(j.jsx)("input",{onChange:B,value:y.lastName,readOnly:!0,name:"lastName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Last Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Middle Name"}),Object(j.jsx)("input",{onChange:B,value:y.middleName,name:"middleName",readOnly:!0,type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Middle Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{onChange:B,value:y.email,readOnly:!0,name:"email",type:"text",className:"form-control",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Address"}),Object(j.jsx)("input",{onChange:B,value:y.address,readOnly:!0,name:"address",type:"text",className:"form-control",placeholder:"Address"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Number"}),Object(j.jsx)("input",{onChange:B,value:y.contactNum,name:"contactNum",type:"text",className:"form-control",placeholder:"Contact Number"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"region",children:"Region"}),Object(j.jsx)("input",{onChange:B,value:y.region||"",name:"region",type:"number",className:"form-control",placeholder:"Region"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-team",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"col-12 mb-3 text-right",children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:D,disabled:a,children:"New Team"})}),y.team.map((function(e,t){return Object(j.jsxs)("div",{id:"team-container"+t,className:"row col-12 legend-container",children:[Object(j.jsxs)("div",{className:"col-12 pb-1 mb-4 mt-5 font-weight-bold legend-group",children:[e.title,e.status<=1&&Object(j.jsx)("i",{onClick:function(){return function(e){y.team.splice(e,1),k(Object(p.a)({},y))}(t)},className:y.team.length>1?"fas fa-trash-restore-alt text-danger ml-3":"d-none"})]}),Object(j.jsx)("div",{className:"relative",children:Object(j.jsxs)("div",{className:"px-3 pt-3 add-staff dropdown",children:[Object(j.jsx)("button",{type:"button",className:"hide-fa-user-plus-dropdown close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-5 col-md-6",children:[Object(j.jsx)("label",{children:"Select Position"}),Object(j.jsxs)("select",{onChange:S,value:x.role,name:"role",className:"form-control",children:[Object(j.jsx)("option",{value:"",children:"Please Select"}),Object(j.jsx)("option",{value:"teamlead",children:"Project Supervisor/ Team Leader"}),Object(j.jsx)("option",{value:"foreman",children:"Foreman"}),Object(j.jsx)("option",{value:"siteEnginner",children:"Site Engineer"}),Object(j.jsx)("option",{value:"safetyOfficer",children:"Safety Officer"}),Object(j.jsx)("option",{value:"masonCarpenter",children:"Mason/Carpenter"}),Object(j.jsx)("option",{value:"electrician",children:"Electrician"}),Object(j.jsx)("option",{value:"rigger",children:"Structural Erector/ Rigger"}),Object(j.jsx)("option",{value:"labor",children:"Labor"})]})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Name"}),Object(j.jsx)("input",{type:"text",onChange:S,value:x.value,name:"value",className:"form-control",placeholder:"Name"})]}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-1 col-md-6 d-flex",children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary align-bottom align-self-end",disabled:!x.value,onClick:function(e){return function(e,t){t.preventDefault();var a=y.team[e];a.person.push(x);var c=y.team;c[e]=a,k(Object(p.a)(Object(p.a)({},y),{},{team:c})),f({role:"",inputTye:"text",value:""}),$(".add-staff.dropdown").hide("linear")}(t,e,y.title)},children:"Save"})})]})]})}),Object(j.jsx)("div",{className:"col-lg-12 clearfix"}),e.person.map((function(a,c){return function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return e.type,Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsxs)("label",{htmlFor:"exampleInputPassword1",style:{display:"block"},children:[Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsxs)("a",{href:"#/",className:"text-left cursor-pointer","data-toggle":"dropdown",children:[Object(j.jsx)("i",{className:"fas fa-paperclip"})," Attach credentials"]}),Object(j.jsxs)("ul",{className:"dropdown-menu credential-dropdown w-100 px-2",children:[2!==c&&Object(j.jsx)("li",{children:Object(j.jsx)("label",{htmlFor:"ID".concat(a),className:"btn btn-primary w-100",children:"Add New"})}),E(e.credentials,t,a),Object(j.jsx)(G,{props:{id:a,path:"/api/upload/".concat(O._id,"/file")},callback:function(e){F(e,t,a)}})]})]}),Object(j.jsx)("div",{children:_(e.role)})]}),Object(j.jsx)("input",{type:"text",value:e.value,onChange:function(e){c<=1&&(R(e),T(e,t,a))},name:e.role,disabled:c>1,className:"form-control",placeholder:""})]},a)}(a,t,c,e.status)})),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{className:e.remarks?"form-group col-12 p-3 bg-warning":"d-none",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{name:"",id:"",cols:"30",rows:"4",className:"form-control",value:e.remarks,readOnly:!0})]})]},t)}))]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-commercial",role:"tabpanel","aria-labelledby":"custom-tabs-three-commercial-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"bznsPermit",title:"Business Permit",src:y.documents.bznsPermit}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"certOfReg",title:"Certificate of Registration",src:y.documents.certOfReg}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"DTISEC",title:"DTI/SEC",src:y.documents.DTISEC}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"articleOfInc",title:"Articles of Incorporation",src:y.documents.articleOfInc}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"AMO",title:"AMO",src:y.documents.AMO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"PCAB",title:"PCAB Liscense",src:y.documents.PCAB}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"form2316",title:"Form 2316",src:y.documents.form2316}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"auditFinStatement",title:"Audited Financial Statements",src:y.documents.auditFinStatement}})}),Object(j.jsxs)("div",{className:y.commercialRemarks?"form-group col-12 p-3 bg-warning":"d-none",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{value:y.commercialRemarks||"",name:"commercialRemarks",cols:"30",rows:"4",className:"form-control",readOnly:!0})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-technical",role:"tabpanel","aria-labelledby":"custom-tabs-three-technical-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"qualityPlan",title:"Quality Plan, ITP",src:y.documents.qualityPlan}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"safetyPlan",title:"Safety Plan, JHA, RA, Risk Matrix",src:y.documents.safetyPlan}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"methodStatement",title:"Method Statement",src:y.documents.methodStatement}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"stratPlan",title:"Strategy Plan",src:y.documents.stratPlan}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"emerPrepResponse",title:"Emergency Preparedness & Response",src:y.documents.emerPrepResponse}})}),Object(j.jsxs)("div",{className:y.technicalRemarks?"form-group col-12 p-3 bg-warning":"d-none",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{value:y.technicalRemarks||"",name:"technicalRemarks",cols:"30",rows:"4",className:"form-control",readOnly:!0})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-cert",role:"tabpanel","aria-labelledby":"custom-tabs-three-cert-tab"})]})}),Object(j.jsx)("div",{className:"card-footer text-right",children:Object(j.jsx)("button",{type:"button",onClick:function(){if(y.team.length<1)return J.error("Please create atleast 1 team");var e={};for(var t in y)"documents"!==t&&"documents"!==t&&"email"!==t&&"firstName"!==t&&"lastName"!==t&&"middleName"!==t&&"address"!==t&&"contactNum"!==t&&"created_at"!==t&&(e[t]=y[t]);e._email=O.userInfo.email,e._updatedby=O._id,e.updated_at=V(new Date).format("YYYY-MM-DD HH:mm:ss"),e.isUpdatedTeam=1,Y.post("".concat("https://icdi.herokuapp.com","/api/contractor/").concat(O._id,"/update"),e).then((function(e){J.success(M)})).catch((function(e){console.log(e),J.error(A)}))},className:l?"btn btn-primary":"d-none",children:"Finish"})})]}),Object(j.jsxs)(z,{title:"Add More",size:"modal-xl",children:[Object(j.jsx)("div",{className:"card-body row"}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:D,children:"Add"})]})]})]})},W=a(41),K=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-admin-1",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["Manage Users",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-admin-1",children:Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{to:"/manage-user",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Users"})]})})})]}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-admin-2",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["Authorization",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-admin-2",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{to:"/authorization-pages",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Pages"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/authorization-reports",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Reports"})]})})]})]}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-admin-3",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["Approval Cycle",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-admin-3",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{to:"#/authorization-pages",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Pages"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"#/authorization-reports",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Reports"})]})})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/manage-sites",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-map-marked-alt"}),Object(j.jsx)("p",{children:"Manage Sites"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/manage-message",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon far fa-envelope"}),Object(j.jsx)("p",{children:"Manage Messages"})]})})]})},Z=(a(54),window.moment),X=window.$,ee=window.toastr;ee.options={debug:!1,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,fadeIn:300,fadeOut:1e3,timeOut:1e3};var te=function(){var e=Object(c.useState)({address:O.userInfo.address||"",contactNum:O.userInfo.contactNum||"",password:"",confirmPassword:""}),t=Object(q.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({}),r=Object(q.a)(n,2),l=r[0],i=r[1];Object(c.useEffect)((function(){X(".modal").on("shown.bs.modal",(function(){X(".modal-backdrop").css({zIndex:1037})}))}),[]);var o=function(e){var t=e.target;"avatar"===t.name&&function(e,t){var a=document.getElementById("img-avatar"),c=URL.createObjectURL(e.target.files[0]);a.src=c,a.onload=function(){URL.revokeObjectURL(a.src)}}(e),s(Object(p.a)(Object(p.a)({},a),{},Object(P.a)({},t.name,t.value)))},d=function(e){var t=e.target.name,c=R(t,e.target.value);c?i(Object(p.a)(Object(p.a)({},l),{},Object(P.a)({},e.target.name,c))):(delete l[e.target.name],i(Object(p.a)({},l))),"confirmPassword"===t&&(a.password!==e.target.value?i(Object(p.a)(Object(p.a)({},l),{},Object(P.a)({},e.target.name,"Password does not match"))):(delete l[e.target.name],i(Object(p.a)({},l))))},b=function(){var e=Object(C.a)(w.a.mark((function e(){var t,c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a,!((c=Object.values(l)).length>0)){e.next=4;break}return e.abrupt("return",ee.error(c[0]));case 4:if(t.password===t.confirmPassword){e.next=6;break}return e.abrupt("return",i(Object(p.a)(Object(p.a)({},l),{},{confirmPassword:"password does not match"})));case 6:return t.password||delete t.password,delete t.confirmPassword,e.next=10,Y.post("".concat("https://icdi.herokuapp.com","/api/user/").concat(O._id,"/update"),t);case 10:e.sent&&(ee.success("Successfully updated."),delete(n=t).password,O.update(n),s(Object(p.a)(Object(p.a)({},t),{},{password:"",confirmPassword:""}))),X("#userProfileModal").modal("hide");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"user-panel pt-3 pb-3 mb-3 d-flex align-items-center",children:[Object(j.jsx)("div",{className:"image",children:Object(j.jsx)("a",{href:"#/","data-toggle":"modal","data-target":"#userProfileModal",children:Object(j.jsx)("img",{className:"profile-user-img img-fluid img-circle",src:O.userInfo.avatar?O.userInfo.avatar:"../../dist/img/user1-128x128.jpg",alt:"User profile"})})}),Object(j.jsxs)("div",{className:"info brand-text",children:[Object(j.jsx)("a",{href:"#/",className:"d-block",children:O.user}),Object(j.jsx)("a",{href:"#/",className:"d-block",onClick:function(e){O.logout((function(){return Object(j.jsx)(m.a,{to:"/login"})}))},children:"Logout"})]})]}),Object(j.jsxs)(z,{title:"User Profile",size:"modal-md",id:"userProfileModal",headerClass:"card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsxs)("div",{className:"col-lg-12",children:[Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"row p-2 align-items-center bg-primary",children:[Object(j.jsxs)("div",{className:"col-3 text-left",children:[Object(j.jsx)("label",{htmlFor:"avatar",children:Object(j.jsx)("img",{id:"img-avatar",className:"cursor-pointer profile-user-img img-fluid img-circle",src:O.userInfo.avatar?O.userInfo.avatar:"../../dist/img/user1-128x128.jpg",alt:"User profile"})}),Object(j.jsx)("input",{type:"file",name:"avatar",onChange:o,accept:"image/*",id:"avatar",className:"d-none"})]}),Object(j.jsxs)("div",{className:"col-9",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("label",{children:["Name: ",O.user]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("label",{children:["Date Registered: ",Z(O.userInfo.created_at).format("MMM Do, YYYY")]})})]})]})}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header p-2",children:Object(j.jsxs)("ul",{className:"nav nav-pills",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link profile-nav-link active",href:"#about","data-toggle":"tab",children:"Basic-Info"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link profile-nav-link",href:"#settings","data-toggle":"tab",children:"Security"})})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",children:[Object(j.jsxs)("div",{className:"tab-pane active",id:"about",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"email",className:"col-form-label",children:"Email"}),Object(j.jsx)("input",{type:"email",value:O.userInfo.email,readOnly:!0,name:"email",className:"form-control",id:"email",placeholder:"Email Address"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"address",className:"col-form-label",children:"Address"}),Object(j.jsx)("input",{type:"text",onChange:o,value:a.address,onBlur:d,name:"address",className:"form-control",id:"address",placeholder:"Address"}),l.address&&Object(j.jsx)("small",{className:"text-danger",children:l.address||""})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"contact",className:"col-form-label",children:"Contact Number"}),Object(j.jsx)("input",{type:"text",onChange:o,value:a.contactNum,onBlur:d,name:"contactNum",className:"form-control",id:"contact",placeholder:"Contact Number"}),l.contactNum&&Object(j.jsx)("small",{className:"text-danger",children:l.contactNum||""})]})]}),Object(j.jsx)("div",{className:"tab-pane",id:"settings",children:Object(j.jsxs)("form",{className:"form-horizontal",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",className:"col-form-label",children:"New Password"}),Object(j.jsx)("input",{type:"text",onChange:o,value:a.password,onBlur:d,name:"password",className:"form-control",id:"password",placeholder:"Name"}),l.password&&Object(j.jsx)("small",{className:"text-danger",children:l.password||""})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"password",className:"col-form-label",children:"Confirm Password"}),Object(j.jsx)("input",{type:"text",onChange:o,value:a.confirmPassword,onBlur:d,name:"confirmPassword",className:"form-control",id:"password",placeholder:"Name"}),l.confirmPassword&&Object(j.jsx)("small",{className:"text-danger",children:l.confirmPassword||""})]})]})})]})})]})]})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:b,children:"Update"})]})]})]})},ae=function(){return Object(j.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(j.jsx)(te,{}),Object(j.jsx)("div",{className:"sidebarx",children:Object(j.jsx)("nav",{className:"mt-2",children:Object(j.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(j.jsx)("li",{className:"nav-item menu-open",children:Object(j.jsxs)(d.b,{exact:!0,to:"/",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(j.jsx)("p",{children:"Dashboard"})]})}),Object(j.jsx)(K,{})]})})})]})},ce=function(){return Object(c.useEffect)((function(){}),[]),Object(j.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(j.jsx)(te,{}),Object(j.jsx)("div",{className:"sidebarx",children:Object(j.jsx)("nav",{className:"mt-2",children:Object(j.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(j.jsx)("li",{className:"nav-item menu-open",children:Object(j.jsxs)(d.b,{exact:!0,to:"/",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(j.jsx)("p",{children:"Dashboard"})]})}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-th"}),Object(j.jsxs)("p",{children:["Sites",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-0",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/all-sites",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"All Sites"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"My Sites"})]})})]})]}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-1",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["ICDI Team",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-1",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Regional Managers"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Area Supervisor"})]})})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{to:"/partner-documents",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-book"}),Object(j.jsx)("p",{children:"Documents"})]})})]})})})]})},se=window.$,ne=function(e){var t=e.props;return Object(c.useEffect)((function(){se(".collapse").on("show.bs.collapse",(function(){se(this).parent().children(":first-child").addClass("collapse-open")})),se(".collapse").on("hide.bs.collapse",(function(e){se(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("audit")?t.hasOwnProperty("audit")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-file-signature"}),Object(j.jsxs)("p",{children:["Audit",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-0",children:[t.audit.MAINAUDIT&&Object(j.jsxs)("li",{className:"nav-item sub",children:[Object(j.jsxs)("a",{href:"#/",className:"nav-link","data-toggle":"collapse","data-target":"#AUDIT_MAIN",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsxs)("p",{children:["Main Audit",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"AUDIT_MAIN",children:t.audit.MAINAUDIT.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}),t.audit.SAQ&&Object(j.jsxs)("li",{className:"nav-item sub",children:[Object(j.jsxs)("a",{href:"#/",className:"nav-link","data-toggle":"collapse","data-target":"#AUDIT_SAQ",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsxs)("p",{children:["SAQ",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"AUDIT_SAQ",children:t.audit.SAQ.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]})]})]}):Object(j.jsx)(j.Fragment,{})},re=window.$,le=function(e){var t=e.props;return Object(c.useEffect)((function(){re(".collapse").on("show.bs.collapse",(function(){re(this).parent().children(":first-child").addClass("collapse-open")})),re(".collapse").on("hide.bs.collapse",(function(e){re(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("gm")?t.hasOwnProperty("gm")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-gm-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-user-cog"}),Object(j.jsxs)("p",{children:["General Manager",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-collapse-gm-0",children:t.gm.GM.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}):Object(j.jsx)(j.Fragment,{})},ie=window.$,oe=function(e){var t=e.props;return Object(c.useEffect)((function(){ie(".collapse").on("show.bs.collapse",(function(){ie(this).parent().children(":first-child").addClass("collapse-open")})),ie(".collapse").on("hide.bs.collapse",(function(e){ie(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("legal")?t.hasOwnProperty("legal")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-legal-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-balance-scale"}),Object(j.jsxs)("p",{children:["Legal",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-collapse-legal-0",children:t.legal.LEGAL.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}):Object(j.jsx)(j.Fragment,{})},de=window.$,me=function(e){var t=e.props;return Object(c.useEffect)((function(){de(".collapse").on("show.bs.collapse",(function(){de(this).parent().children(":first-child").addClass("collapse-open")})),de(".collapse").on("hide.bs.collapse",(function(e){de(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("operation")?t.hasOwnProperty("operation")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-operation-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-hands-helping"}),Object(j.jsxs)("p",{children:["Operation",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-collapse-operation-0",children:t.operation.OPERATION.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}):Object(j.jsx)(j.Fragment,{})},je=function(){var e=Object(c.useState)([]),t=Object(q.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){Y.post("".concat("https://icdi.herokuapp.com","/api/page/").concat(O._id,"/user")).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(j.jsx)(te,{}),Object(j.jsx)("div",{className:"sidebarx",children:Object(j.jsx)("nav",{className:"mt-2",children:Object(j.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(j.jsx)("li",{className:"nav-item menu-open",children:Object(j.jsxs)(d.b,{exact:!0,to:"/",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(j.jsx)("p",{children:"Dashboard"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/all-sites",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-map-marked-alt"}),Object(j.jsx)("p",{children:"Sites"})]})}),Object(j.jsx)(ne,{props:a}),Object(j.jsx)(me,{props:a}),Object(j.jsx)(oe,{props:a}),Object(j.jsx)(le,{props:a}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-1",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["ICDI Team",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-1",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/regional-team",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Regional Managers"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/area-supervisor-team",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Area Supervisor"})]})})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"#/contractor-progress-report",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-chart-line"}),Object(j.jsx)("p",{children:"Progress"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/reports",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-chart-bar"}),Object(j.jsx)("p",{children:"Reports"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/contractor-payment",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fab fa-cc-visa"}),Object(j.jsx)("p",{children:"Payment History"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/message",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon far fa-envelope"}),Object(j.jsx)("p",{children:"Messages"})]})})]})})})]})},be=a.p+"static/media/JarbLogo.35268314.png",ue=a.p+"static/media/4thQ.ad2cc228.jpg",pe=function(){return Object(j.jsxs)("footer",{className:"main-footer row justify-content-between align-items-center",children:[Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsxs)("div",{className:"row align-items-center",children:[Object(j.jsx)("div",{className:"col-6 col-sm-4 col-md-2",children:Object(j.jsx)("img",{alt:"Jarb Logo",src:be,style:{width:"100%",height:"auto"}})}),Object(j.jsx)("div",{className:"col-6 col-sm-4 col-md-2",children:Object(j.jsx)("img",{alt:"Jarb Logo",src:ue,style:{width:"40%",height:"auto"}})})]})}),Object(j.jsxs)("div",{className:"col-sm-6 text-right d-sm-none",children:["Copyright \xa9 ",Object(j.jsx)("a",{href:"/#",children:"4th-Jarb"})]})]})},he=function(e){var t=e.prop;return Object(j.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white",children:[Object(j.jsxs)("ul",{className:"navbar-nav",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"/#",role:"button",children:Object(j.jsx)("i",{className:"fas fa-bars"})})}),Object(j.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(j.jsx)("a",{href:"#/",className:"nav-link text-uppercase",children:t.title.title})})]}),Object(j.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsx)("a",{className:"nav-link","data-toggle":"dropdownx",href:"#/",children:Object(j.jsx)("i",{className:"far fa-comments"})}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[Object(j.jsx)("a",{href:"/#",className:"dropdown-item",children:Object(j.jsxs)("div",{className:"media",children:[Object(j.jsx)("img",{src:"../../dist/img/user1-128x128.jpg",alt:"User Avatar",className:"img-size-50 mr-3 img-circle"}),Object(j.jsxs)("div",{className:"media-body",children:[Object(j.jsxs)("h3",{className:"dropdown-item-title",children:["Brad Diesel",Object(j.jsx)("span",{className:"float-right text-sm text-danger",children:Object(j.jsx)("i",{className:"fas fa-star"})})]}),Object(j.jsx)("p",{className:"text-sm",children:"Call me whenever you can..."}),Object(j.jsxs)("p",{className:"text-sm text-muted",children:[Object(j.jsx)("i",{className:"far fa-clock mr-1"})," 4 Hours Ago"]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)("a",{href:"/#",className:"dropdown-item",children:Object(j.jsxs)("div",{className:"media",children:[Object(j.jsx)("img",{src:"../../dist/img/user8-128x128.jpg",alt:"User Avatar",className:"img-size-50 img-circle mr-3"}),Object(j.jsxs)("div",{className:"media-body",children:[Object(j.jsxs)("h3",{className:"dropdown-item-title",children:["John Pierce",Object(j.jsx)("span",{className:"float-right text-sm text-muted",children:Object(j.jsx)("i",{className:"fas fa-star"})})]}),Object(j.jsx)("p",{className:"text-sm",children:"I got your message bro"}),Object(j.jsxs)("p",{className:"text-sm text-muted",children:[Object(j.jsx)("i",{className:"far fa-clock mr-1"})," 4 Hours Ago"]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)("a",{href:"/#",className:"dropdown-item",children:Object(j.jsxs)("div",{className:"media",children:[Object(j.jsx)("img",{src:"../../dist/img/user3-128x128.jpg",alt:"User Avatar",className:"img-size-50 img-circle mr-3"}),Object(j.jsxs)("div",{className:"media-body",children:[Object(j.jsxs)("h3",{className:"dropdown-item-title",children:["Nora Silvester",Object(j.jsx)("span",{className:"float-right text-sm text-warning",children:Object(j.jsx)("i",{className:"fas fa-star"})})]}),Object(j.jsx)("p",{className:"text-sm",children:"The subject goes here"}),Object(j.jsxs)("p",{className:"text-sm text-muted",children:[Object(j.jsx)("i",{className:"far fa-clock mr-1"})," 4 Hours Ago"]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)(d.b,{to:"/message",className:"dropdown-item dropdown-footer",children:"See All Messages"})]})]}),Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsx)("a",{className:"nav-link","data-toggle":"dropdownx",href:"#/",children:Object(j.jsx)("i",{className:"far fa-bell"})}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[Object(j.jsx)("span",{className:"dropdown-item dropdown-header",children:"15 Notifications"}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{href:"/#",className:"dropdown-item",children:[Object(j.jsx)("i",{className:"fas fa-envelope mr-2"})," 4 new messages",Object(j.jsx)("span",{className:"float-right text-muted text-sm",children:"3 mins"})]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{href:"/#",className:"dropdown-item",children:[Object(j.jsx)("i",{className:"fas fa-users mr-2"})," 8 friend requests",Object(j.jsx)("span",{className:"float-right text-muted text-sm",children:"12 hours"})]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{href:"/#",className:"dropdown-item",children:[Object(j.jsx)("i",{className:"fas fa-file mr-2"})," 3 new reports",Object(j.jsx)("span",{className:"float-right text-muted text-sm",children:"2 days"})]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)("a",{href:"/#",className:"dropdown-item dropdown-footer",children:"See All Notifications"})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link","data-widget":"fullscreen",href:"#/",role:"button",children:Object(j.jsx)("i",{className:"fas fa-expand-arrows-alt"})})})]})]})},xe=window.$,fe=function(e){Object(c.useEffect)((function(){xe(".collapse").on("show.bs.collapse",(function(){xe(this).parent().children(":first-child").addClass("collapse-open")})),xe(".collapse").on("hide.bs.collapse",(function(e){xe(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[]);return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(he,{prop:e}),function(){switch(O.role){case"admin":return Object(j.jsx)(ae,{});case"contractor":return Object(j.jsx)(ce,{});default:return Object(j.jsx)(je,{})}}(),Object(j.jsxs)("div",{className:"content-wrapper",children:[Object(j.jsx)("div",{className:"content-header"}),Object(j.jsx)("div",{className:"content",children:Object(j.jsx)("div",{className:"container-fluid",children:e.children})})]}),Object(j.jsx)(pe,{})]})},Oe=["component"],ve=function(e){var t=e.component,a=Object(W.a)(e,Oe);return Object(j.jsx)(m.b,Object(p.a)(Object(p.a)({},a),{},{render:function(e){return O.isAuth?Object(j.jsx)(fe,{title:a,children:Object(j.jsx)(t,Object(p.a)({},e))}):Object(j.jsx)(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ge=a(21),Ne=void 0,ye=window.toastr;ye.options={debug:!1,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,fadeIn:300,fadeOut:1e3,timeOut:1e3};var ke=function(e){var t=e.history,a=Object(c.useState)({email:"",firstName:"",lastName:"",middleName:"",address:"",contactNum:"",role:"standard"}),s=Object(q.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)(!1),i=Object(q.a)(l,2),o=i[0],d=i[1],m=Object(c.useState)({}),b=Object(q.a)(m,2),u=b[0],h=b[1],x=function(e){d(!1);var t="role"===e.target.name?e.target.checked:e.target.value;r(Object(p.a)(Object(p.a)({},n),{},Object(P.a)({},e.target.name,t)))},f=function(){var e=Object(C.a)(w.a.mark((function e(a){var c,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n.email&&n.firstName&&n.lastName&&n.address&&n.contactNum){e.next=3;break}return e.abrupt("return",ye.error("Required fields is empty"));case 3:return d(!0),e.prev=4,(c={email:n.email.trim(),firstName:n.firstName.trim(),lastName:n.lastName.trim(),middleName:n.middleName.trim(),address:n.address.trim(),contactNum:n.contactNum.trim()}).role=c.role?"standard":"contractor",e.next=9,Y.post("".concat("https://icdi.herokuapp.com","/api/register"),c);case 9:200===(s=e.sent).status&&O.login(s.data,(function(){t.push("/")})),400===s.status&&ye.error(s.data.message),d(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){e.preventDefault();var t=e.target.name,a=R(t,e.target.value);a?h(Object(p.a)(Object(p.a)({},u),{},Object(P.a)({},e.target.name,a))):(delete u[e.target.name],h(Object(p.a)({},u)))};return O.isAuth?Ne.history.goBack():Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row no-gutter",children:[Object(j.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),Object(j.jsx)("div",{className:"col-md-6 bg-light",children:Object(j.jsx)("div",{className:"login d-flex align-items-center",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-9 col-xl-6 mx-auto",children:[Object(j.jsxs)("h3",{className:"display-4 text-primary",children:["4",Object(j.jsx)("sup",{children:"th"}),"JARB"]}),Object(j.jsx)("p",{className:"text-muted mb-4",children:"Register."}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"email",onChange:x,value:n.email,onBlur:v,placeholder:"Email*",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),u.email&&Object(j.jsx)("small",{className:"text-danger ml-3",children:u.email||""})]}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"firstName",onChange:x,value:n.firstName,onBlur:v,placeholder:"First Name*",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),u.firstName&&Object(j.jsx)("small",{className:"text-danger ml-3",children:u.firstName||""})]}),Object(j.jsx)("div",{className:"form-group mb-3",children:Object(j.jsx)("input",{type:"text",name:"middleName",onChange:x,value:n.middleName,placeholder:"Middle Name",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"})}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"lastName",onChange:x,value:n.lastName,onBlur:v,placeholder:"Last Name*",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),u.lastName&&Object(j.jsx)("small",{className:"text-danger ml-3",children:u.lastName||""})]}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"address",onChange:x,value:n.address,onBlur:v,placeholder:"Address*",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),u.address&&Object(j.jsx)("small",{className:"text-danger ml-3",children:u.address||""})]}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"contactNum",onChange:x,value:n.contactNum,onBlur:v,placeholder:"Contact #*",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),u.contactNum&&Object(j.jsx)("small",{className:"text-danger ml-3",children:u.contactNum||""})]}),Object(j.jsx)("div",{className:"mt-4 text-center",children:Object(j.jsx)("button",{type:"submit",onClick:f,disabled:!(Object(ge.isEmpty)(u)&&!o)||"",className:"btn btn-primary btn-block rounded-pill py-3",children:"Register"})}),Object(j.jsxs)("p",{className:"col-12 pt-3 text-center",children:[Object(j.jsx)("span",{className:"font-weight-bold text-secondary",children:"Click here to"})," ",Object(j.jsx)("a",{href:"/#",onClick:function(e){e.preventDefault(),t.push("/login")},children:"Sign In"})]})]})]})})})})})]})})},we=window.$,Ce=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(e){var c;return Object(h.a)(this,a),(c=t.call(this,e))._isMounted=!1,c.el=s.a.createRef(),c.selectedRow=[],c.state={data:[],header:[]},c}return Object(x.a)(a,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];if(e.length)for(var a in e[0])t.push({title:a,data:a});this.setState({data:e})}},{key:"add",value:function(e){var t=this.state.data;t.push(e),this.setState(Object(p.a)(Object(p.a)({},this.state),{},{data:t}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.state.data;a=a.map((function(a){return a[e]===t[e]&&(a=Object(p.a)(Object(p.a)({},a),t)),a})),this.setState({data:a})}},{key:"remove",value:function(e){var t=Object.entries(e),a=Object(q.a)(t,1)[0],c=this.state.data.filter((function(e){return e[a[0]]!==a[1]}));this.init(c)}},{key:"getSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.getSelected&&this.props.getSelected(e)}},{key:"componentDidUpdate",value:function(){this.$el.clear(),this.$el.rows.add(this.state.data),this.$el.draw()}},{key:"componentDidMount",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isMounted=!0,this.$el=we(this.el.current),this.$el=this.$el.DataTable({columns:this.props.header&&this.props.header.length?this.props.header:[{data:"name",title:"Table Data"}],data:this.state.data,responsive:!0,lengthChange:!1,autoWidth:!1,buttons:this.props.buttons?["csv","print","colvis"]:[]}),this.$el.buttons().container().appendTo("#dataTableComponent_wrapper .col-md-6:eq(0)"),t=this.$el,a=this,we("#dataTableComponent tbody").on("click","tr",(function(){t.row(this).data()&&a.getSelected(t.row(this).data())}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return Object(j.jsx)("table",{id:"dataTableComponent",className:"table table-bordered table-striped",ref:this.el})}}]),a}(s.a.Component),Pe=window.$,Ie=window.moment,De=function(){var e=Object(c.useRef)(),t={userId:"",firstName:"",lastName:"",middleName:"",birthDate:"",civilStatus:"",contactNum:"",address:"",email:"",role:"",primarySch:"",secondarySch:"",tertiarySch:"",course:"",company1:"",year1:"",company2:"",year2:"",company3:"",year3:""},a=Object(c.useState)(!1),s=Object(q.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)(t),i=Object(q.a)(l,2),o=i[0],d=i[1];Object(c.useEffect)((function(){Y.get("".concat("https://icdi.herokuapp.com","/api/user")).then((function(t){e.current.init(t.data)})).catch((function(e){console.log(e)})),Pe('input[name="birthDate"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1980,autoUpdateInput:!1,maxYear:parseInt(Ie().format("YYYY"),10)}).on("apply.daterangepicker",(function(e,t){d((function(e){return Object(p.a)(Object(p.a)({},e),{},{birthDate:t.startDate.format("MM/DD/YYYY")})}))})),Pe('input[name="dateHired"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1980,autoUpdateInput:!1,maxYear:parseInt(Ie().format("YYYY"),10)}).on("apply.daterangepicker",(function(e,t){d((function(e){return Object(p.a)(Object(p.a)({},e),{},{dateHired:t.startDate.format("MM/DD/YYYY")})}))})),Pe("#staticBackdrop").on("hidden.bs.modal",m)}),[]);var m=function(){d(t),r(!1)},b=function(e){var t=e.target;d((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(P.a)({},t.name,t.value))}))},u=function(){var t=Object(C.a)(w.a.mark((function t(a){var c,s,n,r=arguments;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.length>1&&void 0!==r[1]?r[1]:"",s=o,c&&(s=Object(p.a)(Object(p.a)({},s),c)),delete s.birthDate,delete s.created_at,delete s.updated_at,t.next=8,Y.post("".concat("https://icdi.herokuapp.com","/api/user/").concat(o.userId,"/update"),s);case 8:200===(n=t.sent).status?(e.current.update("userId",s),window.toastr.success(M),Pe("#staticBackdrop").modal("hide")):(window.toastr.error(A),console.log(n.data));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,{status:0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,{status:1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Employee Lists"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{getSelected:function(e){d(e),r(!0),Pe("#staticBackdrop").modal("show"),Pe('input[name="birthDate"]').data("daterangepicker").setStartDate(new Date(e.birthDate))},header:[{title:"First Name",data:"firstName"},{title:"Middle Name",data:"middleName"},{title:"Last Name",data:"lastName"},{title:"Email",data:"email"},{title:"Role",data:"role"},{title:"Status",data:"status",render:function(e){return 1===e?"Active":"Disabled"}}],ref:e})})]}),Object(j.jsxs)(z,{title:"Employee Information",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:"Personal Information"}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"First Name"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.firstName,name:"firstName",className:"form-control",id:"exampleInputEmail1",placeholder:"First Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Last Name"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.lastName,name:"lastName",className:"form-control",id:"exampleInputPassword1",placeholder:"Last Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Middle Name"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.middleName,name:"middleName",className:"form-control",id:"exampleInputPassword1",placeholder:"Middle Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Birth Date"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.birthDate,readOnly:!0,name:"birthDate",className:"form-control",id:"exampleInputPassword1",placeholder:"Birth Date"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Age"}),Object(j.jsx)("input",{type:"text",value:o.birthDate?Ie().diff(new Date(o.birthDate),"years"):0,readOnly:!0,className:"form-control",id:"exampleInputPassword1",placeholder:"Age"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Civil Status"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.civilStatus||"",name:"civilStatus",className:"form-control",id:"exampleInputPassword1",placeholder:"Civil Status"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Num"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.contactNum,name:"contactNum",className:"form-control",id:"exampleInputPassword1",placeholder:"Contact Num"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-8 col-md-8",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Address"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.address,name:"address",className:"form-control",id:"exampleInputPassword1",placeholder:"Address"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.email,name:"email",className:"form-control",id:"exampleInputPassword1",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"role",children:"password"}),Object(j.jsx)("input",{type:"text",defaultValue:o.password||"",readOnly:!0,name:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"role",children:"role"}),Object(j.jsxs)("select",{name:"role",onChange:b,value:o.role,className:"custom-select rounded-0",id:"role",children:[Object(j.jsx)("option",{value:"standard",children:"Standard User"}),Object(j.jsx)("option",{value:"contractor",children:"Partner"}),Object(j.jsx)("option",{value:"admin",children:"Admin"})]})]}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:"Educational Background"}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Primary"}),Object(j.jsx)("input",{type:"text",defaultValue:o.primarySch,name:"primarySch",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Secondary"}),Object(j.jsx)("input",{type:"text",defaultValue:o.secondarySch,name:"secondarySch",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Tertiary"}),Object(j.jsx)("input",{type:"text",defaultValue:o.tertiarySch,name:"tertiarySch",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Course"}),Object(j.jsx)("input",{type:"text",defaultValue:o.course,name:"course",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:"Company Background"}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-10 col-md-10",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Company Name"}),Object(j.jsx)("input",{type:"text",defaultValue:o.company1,name:"company1",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-2 col-md-2",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Total years"}),Object(j.jsx)("input",{type:"text",defaultValue:o.year1,name:"year1",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-10 col-md-10",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Company Name"}),Object(j.jsx)("input",{type:"text",defaultValue:o.company2,name:"company2",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-2 col-md-2",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Total years"}),Object(j.jsx)("input",{type:"text",defaultValue:o.year2,name:"year2",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-10 col-md-10",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Company Name"}),Object(j.jsx)("input",{type:"text",defaultValue:o.company3,name:"company3",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-2 col-md-2",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Total years"}),Object(j.jsx)("input",{type:"text",defaultValue:o.year3,name:"year3",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),0===o.status?Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:x,children:"Activate"}):Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:h,children:"Disable"}),n?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:u,children:"Update"})}):Object(j.jsx)("button",{type:"button",className:"btn btn-primary",children:"Save"})]})]})]})},Se=a(15),Ye=window.$,Ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return'<input class="pageCheckBox" type="checkbox" \n  name="'.concat(e,"\"\n  data-id='").concat(t,"'\n  data-obj='").concat(c,"'\n  ").concat(a?"checked":"","\n  />")},Fe=function(){var e=Object(c.useRef)();return Object(c.useEffect)((function(){Y.get("".concat("https://icdi.herokuapp.com","/api/page/users")).then(function(){var t=Object(C.a)(w.a.mark((function t(a){var c,s,n,r,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=[],s=Object(Se.a)(a.data);try{for(s.s();!(n=s.n()).done;)r=n.value,l=JSON.stringify(r.pages),c.push(Object(p.a)(Object(p.a)({},r),{},{pages:{1:Ee(r.userId,1,r.pages[1],l),2:Ee(r.userId,2,r.pages[2],l),3:Ee(r.userId,3,r.pages[3],l),4:Ee(r.userId,4,r.pages[4],l),5:Ee(r.userId,5,r.pages[5],l),6:Ee(r.userId,6,r.pages[6],l),7:Ee(r.userId,7,r.pages[7],l),8:Ee(r.userId,8,r.pages[8],l),9:Ee(r.userId,9,r.pages[9],l),10:Ee(r.userId,10,r.pages[10],l),11:Ee(r.userId,11,r.pages[11],l)}}))}catch(i){s.e(i)}finally{s.f()}return t.next=5,e.current.init(c);case 5:Ye(".pageCheckBox").on("change",(function(){var e=this;console.log(Ye(this).data("id"),"pageCheckBox",Ye(this).attr("name"));var t=Ye(this).attr("name"),a=Ye(this).data("id"),c=Ye(this).prop("checked"),s=Ye(this).closest("tr").data("obj")||Ye(this).data("obj");s[a]=c,Y.post("".concat("https://icdi.herokuapp.com","/api/page/").concat(t,"/update"),s).then((function(){Ye(e).closest("tr").attr("data-obj",JSON.stringify(s))})).catch((function(e){return console.log(e)}))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})),Ye("#staticBackdrop").on("hidden.bs.modal",(function(e){}))}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Employee Lists"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{header:[{title:"First Name",data:"firstName"},{title:"Last Name",data:"lastName"},{title:"Email",data:"email"},{title:"SAQ Sites",orderable:!1,data:"pages.1"},{title:"SAQ Files",orderable:!1,data:"pages.2"},{title:"Site Evaluation Summary",orderable:!1,data:"pages.3"},{title:"Partner Registration",orderable:!1,data:"pages.11"},{title:"Partner Evaluation Summary",orderable:!1,data:"pages.4"},{title:"Site Technical Evaluation",orderable:!1,data:"pages.5"},{title:"Site Technical Summary",orderable:!1,data:"pages.6"},{title:"Site Construction",orderable:!1,data:"pages.7"},{title:"Site legal asssestment",orderable:!1,data:"pages.8"},{title:"Site legal Summary",orderable:!1,data:"pages.9"},{title:"Approve Sites",orderable:!1,data:"pages.10"}],ref:e})})]})})},Te=window.$,Re=window.moment,Ae=window.toastr,Me=function(){var e=Object(c.useRef)(),t=Object(c.useState)(1),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({email:"",firstName:"",lastName:"",middleName:"",address:"",contactNum:"",region:"",commercialRemarks:"",technicalRemarks:"",team:[],documents:{},inspectEval:"",finalEval:""}),l=Object(q.a)(r,2),i=l[0],o=l[1];Object(c.useEffect)((function(){x(),Te("#staticBackdrop").on("hidden.bs.modal",(function(e){u(!1)})),Te("#reservation").daterangepicker({startDate:Re(new Date).subtract(30,"days"),endDate:Re(new Date),opens:"right"},(function(e,t,a){x({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 22:59:59")})})),Te("#staticBackdrop").on("hide.bs.modal",v),Te(".credential-dropdown li a").on("click",(function(e){e.stopPropagation()}))}),[s]);var d=Object(c.useState)(!1),m=Object(q.a)(d,2),b=m[0],u=m[1],h=function(e,t,a,c){e.preventDefault();var s=e.target;if("status"!==s.name){if(t>-1){var r=i.team;return"remarks"===a&&(r[t].remarks=s.value),"buttons"===a&&(r[t].status=c),o(Object(p.a)(Object(p.a)({},i),{},{team:r}))}return o(Object(p.a)(Object(p.a)({},i),{},Object(P.a)({},s.name,s.value)))}n((function(){return e.target.value}))},x=function(t){var a=!0;t||(t={from:Re(new Date).subtract(30,"days").format("YYYY-MM-DD 00:00:00"),end:Re().format("YYYY-MM-DD 23:59:59")},a=!1),Y.post("".concat("https://icdi.herokuapp.com","/api/contractor-evalation/").concat(t.from,"/").concat(t.end),{status:s}).then((function(t){e.current.init(t.data)})).catch((function(e){a&&window.toastr.error(A)}))},f=function(e){var t=[];for(var a in e)t.push(Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:e[a],target:"_blank",rel:"noreferrer",children:a})},a));return t},v=function(){Te("#custom-tabs-three-form-tab").tab("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:s,onChange:h,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"3",children:"Reviewed"}),Object(j.jsx)("option",{value:"2",children:"Confirmed"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12"})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Partner Evaluation Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{getSelected:function(e){u(!0),o(e),Te("#staticBackdrop").modal("show")},header:[{title:"First Name",data:"firstName"},{title:"Middle Name",data:"middleName"},{title:"Last Name",data:"lastName"},{title:"Email",data:"email"}],ref:e,buttons:!0})})]}),Object(j.jsxs)(z,{title:"Partner Information",size:"modal-lg",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsxs)("div",{className:"card card-primary card-outline card-tabs w-100",children:[Object(j.jsx)("div",{className:"card-header p-0 pt-1 border-bottom-0",children:Object(j.jsxs)("ul",{className:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link active",id:"custom-tabs-three-form-tab","data-toggle":"pill",href:"#custom-tabs-three-form",role:"tab","aria-controls":"custom-tabs-three-form","aria-selected":"false",children:"Pre-assessment"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-team-tab","data-toggle":"pill",href:"#custom-tabs-three-team",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Team"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-commercial-tab","data-toggle":"pill",href:"#custom-tabs-three-commercial",role:"tab","aria-controls":"custom-tabs-three-commercial","aria-selected":"true",children:"Commercial"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-technical-tab","data-toggle":"pill",href:"#custom-tabs-three-technical",role:"tab","aria-controls":"custom-tabs-three-technical","aria-selected":"true",children:"Technical"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-inspection-tab","data-toggle":"pill",href:"#custom-tabs-three-inspection",role:"tab","aria-controls":"custom-tabs-three-inspection","aria-selected":"true",children:"Inspection Evaluation"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-finaleval-tab","data-toggle":"pill",href:"#custom-tabs-three-finaleval",role:"tab","aria-controls":"custom-tabs-three-finaleval","aria-selected":"true",children:"Final Evaluation"})})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",style:{overflow:"hidden"},children:[Object(j.jsx)("div",{className:"tab-pane fade active show",id:"custom-tabs-three-form",role:"tabpanel","aria-labelledby":"custom-tabs-three-form-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Name of Contractor"}),Object(j.jsx)("input",{defaultValue:i.firstName,disabled:!0,name:"contractorName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Location"}),Object(j.jsx)("input",{defaultValue:i.address,disabled:!0,name:"location",type:"text",className:"form-control",placeholder:"Location"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Region"}),Object(j.jsx)("input",{defaultValue:i.region,disabled:!0,name:"region",type:"text",className:"form-control",placeholder:"Region"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{defaultValue:i.email,disabled:!0,type:"text",className:"form-control",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Person"}),Object(j.jsx)("input",{defaultValue:i.firstName,disabled:!0,name:"contactPerson",type:"text",className:"form-control",placeholder:"Contact Person"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Number"}),Object(j.jsx)("input",{defaultValue:i.contactNum,disabled:!0,name:"contaactNum2",type:"text",className:"form-control",placeholder:"Contact Number"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-team",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab",children:Object(j.jsx)("div",{className:"mt-3 row",children:i.team.map((function(e,t){return Object(j.jsxs)("div",{id:"team-container"+t,className:"row col-12 legend-container",children:[Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 font-weight-bold legend-group",children:e.title}),Object(j.jsx)("div",{className:"col-lg-12 clearfix"}),e.person.map((function(a,c){return function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return e.type,Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsxs)("label",{htmlFor:"exampleInputPassword1",style:{display:"block"},children:[Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsxs)("a",{href:"#/",className:"text-left cursor-pointer","data-toggle":"dropdown",children:[Object(j.jsx)("i",{className:"fas fa-paperclip"})," Attach credentials"]}),Object(j.jsx)("ul",{className:"dropdown-menu credential-dropdown w-100 px-2",children:f(e.credentials)})]}),Object(j.jsx)("div",{children:_(e.role)})]}),Object(j.jsx)("input",{type:"text",defaultValue:e.value,name:e.role,disabled:c>1,className:"form-control",placeholder:""})]},a)}(a,t,c,e.status)})),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{className:"form-group col-12 p-3 bg-warning",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{value:e.remarks||"",onChange:function(e){return h(e,t,"remarks")},name:"",id:"",cols:"30",rows:"4",className:"form-control"}),Object(j.jsxs)("div",{className:1===e.status?"col-12 text-right pb-0 pr-0 modal-footer":"d-none",children:[Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(e){return h(e,t,"buttons",0)},children:"Reject"}),Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(e){return h(e,t,"buttons",2)},children:"Approve"})]})]})]},t)}))})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-commercial",role:"tabpanel","aria-labelledby":"custom-tabs-three-commercial-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"bznsPermit",title:"Business Permit",src:i.documents.bznsPermit}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"certOfReg",title:"Certificate of Registration",src:i.documents.certOfReg}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"DTISEC",title:"DTI/SEC",src:i.documents.DTISEC}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"articleOfInc",title:"Articles of Incorporation",src:i.documents.articleOfInc}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"AMO",title:"AMO",src:i.documents.AMO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"PCAB",title:"PCAB Liscense",src:i.documents.PCAB}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"form2316",title:"Form 2316",src:i.documents.form2316}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{disable:!0,name:"auditFinStatement",title:"Audited Financial Statements",src:i.documents.auditFinStatement}})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{className:"form-group col-12 p-3 bg-warning",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{onChange:h,value:i.commercialRemarks||"",name:"commercialRemarks",cols:"30",rows:"4",className:"form-control"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-technical",role:"tabpanel","aria-labelledby":"custom-tabs-three-technical-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"qualityPlan",title:"Quality Plan, ITP",src:i.documents.qualityPlan}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"safetyPlan",title:"Safety Plan, JHA, RA, Risk Matrix",src:i.documents.safetyPlan}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"methodStatement",title:"Method Statement",src:i.documents.methodStatement}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"stratPlan",title:"Strategy Plan",src:i.documents.stratPlan}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"emerPrepResponse",title:"Emergency Preparedness & Response",src:i.documents.emerPrepResponse}})}),Object(j.jsxs)("div",{className:"form-group col-12 p-3 bg-warning",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{onChange:h,value:i.technicalRemarks||"",name:"technicalRemarks",cols:"30",rows:"4",className:"form-control"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-inspection",role:"tabpanel","aria-labelledby":"custom-tabs-three-technical-tab",children:Object(j.jsx)("div",{className:"mt-3 row",children:Object(j.jsx)(H,{props:{name:"inspectEval",title:"Inspection Evaluation",src:i.inspectEval,path:"/api/upload/".concat(i._userId,"/file")},callback:function(e){o(Object(p.a)(Object(p.a)({},i),{},{inspectEval:e}))}})})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-finaleval",role:"tabpanel","aria-labelledby":"custom-tabs-three-technical-tab",children:Object(j.jsx)("div",{className:"mt-3 row",children:Object(j.jsx)(H,{props:{name:"finalEval",title:"Final Evaluation",src:i.finalEval,path:"/api/upload/".concat(i._userId,"/file")},callback:function(e){o(Object(p.a)(Object(p.a)({},i),{},{finalEval:e}))}})})})]})})]})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),b&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{type:"button",className:1===s||"1"===s||3===s||"3"===s?"btn btn-primary":"d-none",onClick:function(t,a){t.preventDefault(),i.finalEval&&(i.status=2),i.isUpdatedTeam=2,Y.post("".concat("https://icdi.herokuapp.com","/api/contractor/").concat(O.id,"/evaluate"),i).then((function(t){e.current.remove(i),Ae.success(M),Te("#staticBackdrop").modal("hide")})).catch((function(e){Ae.error(A)}))},children:"Proceed"})})]})]})]})},_e=window.$,Le=window.XLSX,Be=window.moment,Ue=function(){var e=Object(c.useRef)(),t=Object(c.useState)({team:[],documents:{DO174:null,BZNPERMIT:null,COR:null,SEC:null,PCAB:null,BIO:null}}),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)([]),l=Object(q.a)(r,2),i=l[0],o=l[1];Object(c.useEffect)((function(){d(),_e("#staticBackdrop").on("hidden.bs.modal",(function(e){})),_e("#reservation").daterangepicker({opens:"right"},(function(e,t,a){d({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 22:59:59")})}))}),[]);var d=function(t){var a=!0;t||(t={from:Be().format("YYYY-MM-DD 00:00:00"),end:Be().format("YYYY-MM-DD 23:59:59")},a=!1),Y.get("".concat("https://icdi.herokuapp.com","/api/contractor-evalation/").concat(t.from,"/").concat(t.end)).then((function(t){e.current.init(t),o(t),a&&window.toastr.success(M)})).catch((function(e){a&&window.toastr.error(A)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})})}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Contractor Evaluation Summary Table"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{id:"custom-tbl-btn col-12",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Le.utils.book_new(),t=[];t.push(["CONTRACTOR NAME","REMARKS"]),i.forEach((function(e){var a=[e.contactPerson,e.contactPerson];t.push(a)}));var a=Le.utils.aoa_to_sheet(t);Le.utils.book_append_sheet(e,a,"Sheet1"),Le.writeFile(e,"ContractorEvalSummary.xls")},children:"Download XLS"})}),Object(j.jsx)(Ce,{getSelected:function(e){n(e),_e("#staticBackdrop").modal("show")},header:[{title:"First Name",data:"contactPerson"},{title:"Middle Name",data:"contactPerson"},{title:"Last Name",data:"contactPerson"},{title:"Email",data:"contactPerson"}],ref:e})]})]}),Object(j.jsxs)(z,{title:"Contractor Information",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"card card-primary card-outline card-tabs w-100",children:[Object(j.jsx)("div",{className:"card-header p-0 pt-1 border-bottom-0",children:Object(j.jsxs)("ul",{className:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link active",id:"custom-tabs-three-form-tab","data-toggle":"pill",href:"#custom-tabs-three-form",role:"tab","aria-controls":"custom-tabs-three-form","aria-selected":"false",children:"Form"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-team-tab","data-toggle":"pill",href:"#custom-tabs-three-team",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Team"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-docu-tab","data-toggle":"pill",href:"#custom-tabs-three-docu",role:"tab","aria-controls":"custom-tabs-three-docu","aria-selected":"true",children:"Documents"})})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",style:{overflow:"hidden"},children:[Object(j.jsx)("div",{className:"tab-pane fade active show",id:"custom-tabs-three-form",role:"tabpanel","aria-labelledby":"custom-tabs-three-form-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Name of Contractor"}),Object(j.jsx)("input",{disabled:!0,name:"contractorName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Location"}),Object(j.jsx)("input",{name:"location",type:"text",className:"form-control",placeholder:"Location"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Region"}),Object(j.jsx)("input",{name:"region",type:"text",className:"form-control",placeholder:"Region"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{disabled:!0,type:"text",className:"form-control",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Person"}),Object(j.jsx)("input",{name:"contactPerson",type:"text",className:"form-control",placeholder:"Contact Person"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Number"}),Object(j.jsx)("input",{name:"contaactNum2",type:"text",className:"form-control",placeholder:"Contact Number"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-team",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab",children:Object(j.jsx)("div",{className:"mt-3 row",children:s.team.map((function(e,t){return Object(j.jsxs)("div",{id:"team-container"+t,className:"row col-12 legend-container",children:[Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 font-weight-bold legend-group",children:e.title}),Object(j.jsx)("div",{className:"col-lg-12 clearfix"}),e.person.map((function(e,t){return function(e,t,a){return e.type,Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:_(e.role)}),Object(j.jsx)("input",{type:"text",defaultValue:e.value,name:e.role,className:"form-control",placeholder:""})]},a)}(e,0,t)}))]},t)}))})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-docu",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"DO174",title:"DOLE DO174",src:s.documents.DO174}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"BZNPERMIT",title:"Business Permit",src:s.documents.BZNPERMIT}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"COR",title:"Certificate of Registration",src:s.documents.COR}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"SEC",title:"SEC Registration",src:s.documents.SEC}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"PCAB",title:"PCAB Liscense",src:s.documents.PCAB}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{name:"BIO",title:"Billing / Invoice / O.R",src:s.documents.BIO}})})]})})]})})]}),Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter ..."})]})]}),Object(j.jsx)("div",{className:"modal-footer card-footer text-right",children:Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})]})},qe=(a(55),window.$),ze=function(){var e=Object(c.useState)({to:[],from:O._id,subject:"",message:""}),t=Object(q.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),r=Object(q.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)([]),d=Object(q.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)([{from:"Alexander Pierce",subject:"4th-JARB",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"},{from:"Alexander Pierce",subject:"JARB",message:"consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"},{from:"Alexander Pierce",subject:"4",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"},{from:"Alexander Pierce",subject:"Theq quick brown fox jump over the lazy dog",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"}]),h=Object(q.a)(u,1)[0];Object(c.useEffect)((function(){qe("#compose-textarea").summernote({height:300,placeholder:"Compose a message.."}),Y.get("".concat("https://icdi.herokuapp.com","/api/user/").concat(O._id)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),[]);var x=function(){var e=Object(C.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target,s(Object(p.a)(Object(p.a)({},a),{},Object(P.a)({},c.name,c.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,c,s,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value.split(","),i(a),c=a[a.length-1].trim(),e.next=5,Y.post("".concat("https://icdi.herokuapp.com","/api/user/search"),{key:c});case 5:s=e.sent,n=s.data,b(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"card card-primary card-outline col-lg-12",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("h3",{className:"card-title",children:"Inbox"}),Object(j.jsx)("div",{className:"card-tools",children:Object(j.jsxs)("div",{className:"input-group input-group-sm",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Message"}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("div",{className:"btn btn-primary",children:Object(j.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(j.jsxs)("div",{className:"card-body p-0",children:[Object(j.jsxs)("div",{className:"mailbox-controls",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm checkbox-toggle",children:Object(j.jsx)("i",{className:"far fa-square"})}),Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"far fa-trash-alt"})}),Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm","data-toggle":"modal","data-target":"#staticBackdrop",children:Object(j.jsx)("i",{className:"far fa-sticky-note"})})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"fas fa-sync-alt"})}),Object(j.jsxs)("div",{className:"float-right",children:["1-50/200",Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"fas fa-chevron-left"})}),Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"fas fa-chevron-right"})})]})]})]}),Object(j.jsx)("div",{className:"table-responsive mailbox-messages",children:Object(j.jsx)("table",{className:"table table-hover table-striped",children:Object(j.jsx)("tbody",{children:h.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"icheck-primary",children:[Object(j.jsx)("input",{type:"checkbox",name:"checkbox",value:"",id:"check"+t}),Object(j.jsx)("label",{htmlFor:"check"+t})]})}),Object(j.jsx)("td",{className:"mailbox-name",children:Object(j.jsx)("a",{href:"#/",onClick:function(){return function(e){s(Object(p.a)(Object(p.a)({},a),{},{message:e.message,subject:e.subject,to:e.from})),qe("#compose-textarea").summernote("code",e.message),qe("#staticBackdrop").modal("show")}(e)},children:e.from})}),Object(j.jsxs)("td",{className:"mailbox-subject",children:[Object(j.jsx)("b",{children:e.subject})," - ",(e.subject+e.message).slice(e.subject.length,50)+"..."]}),Object(j.jsx)("td",{className:"mailbox-date",children:"5 mins ago"})]},t)}))})})})]})]}),Object(j.jsxs)(z,{title:"New Message",children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"form-group position-relative",children:[Object(j.jsx)("input",{value:l,onChange:f,name:"to",className:"form-control",placeholder:"To:"}),Object(j.jsx)("div",{className:m.length&&l?"message-search-list position-absolute":"d-none",children:m.map((function(e){return Object(j.jsx)("button",{type:"button",onClick:function(){return function(e){var t=(e.firstName+" "+e.lastName).trim(),c=a.to;c.push({_iduser:e._id,name:t,email:e.email}),s(Object(p.a)(Object(p.a)({},a),{},{to:c}));var n=l;l?n[n.length-1]=t:n.push(t),n.push(""),i(n),b([])}(e)},className:"list-group-item list-group-item-action px-4",children:e.firstName+" "+e.lastName},e._id)}))})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{value:a.subject,onChange:x,name:"subject",className:"form-control",placeholder:"Subject:"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{id:"compose-textarea",children:a.message})})]}),Object(j.jsx)("div",{className:"modal-footer card-footer text-right",children:Object(j.jsxs)("button",{type:"button",onClick:function(){var e=qe("#compose-textarea").summernote("code");console.log(e)},className:"btn btn-primary","data-dismiss":"modal",children:["Send",Object(j.jsx)("i",{className:"fab fa-telegram-plane pl-2"})]})})]})]})},He=function(){return Object(j.jsx)("div",{className:"card card-primary card-outline card-tabs",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("iframe",{title:"tae",src:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",style:{width:"100%",height:"100vh",border:0},target:"_self"})})})},Ge=window.XLSX,$e=window.toastr,Je=function(e){var t=e.uploaded;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"btn btn-white",htmlFor:"upload-site",children:Object(j.jsx)("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:".7em"}})}),Object(j.jsx)("input",{type:"file",name:"file",onChange:function(e){var a,c=e.target.files;if(c&&0!==c.length){a=c[0];var s=new FileReader;s.onload=function(){var e=Object(C.a)(w.a.mark((function e(a){var c,s,n,r,l,i,o,d,m,j,b,u,p,h;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c="",s=new Uint8Array(a.target.result),n=s.byteLength,r=0;r<n;r++)c+=String.fromCharCode(s[r]);return l=Ge.read(c,{type:"binary",cellDates:!0,cellStyles:!0}),i=l.SheetNames[0],o=l.Sheets[i],e.next=9,Ge.utils.sheet_to_json(o);case 9:d=e.sent,m=0,j=[],b=Object(Se.a)(d),e.prev=13,b.s();case 15:if((u=b.n()).done){e.next=26;break}if(p=u.value,h=p.Coordinates.replace(/ /g,"").trim(),m<=200&&(j.push({location:h||"",address:"".concat(p.Barangays||""," ").concat(p.Barangays_1||""," ").concat(p.Municipality||""),siteContactPerson:p["Owner/s"]||"",_idcontractor:p.Team||""}),m++),200!==m){e.next=24;break}return e.next=22,Y.post("".concat("https://icdi.herokuapp.com","/api/site/upload"),j).then((function(e){t(e.data)})).catch((function(e){console.log(e),$e.error("An error encountered, please try again")}));case 22:m=0,j=[];case 24:e.next=15;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(13),b.e(e.t0);case 31:return e.prev=31,b.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[13,28,31,34]])})));return function(t){return e.apply(this,arguments)}}(),s.readAsArrayBuffer(a)}},className:"d-none",id:"upload-site"})]})},Ve=window.XLSX,Qe=function(e){var t=e.title,a=e.data;return Object(j.jsx)("span",{onClick:function(){var e=Ve.utils.book_new(),c=Ve.utils.json_to_sheet(a);Ve.utils.book_append_sheet(e,c,"Sheet1"),Ve.writeFile(e,t+".xls")},children:"Download"})},We=function(e){var t=e.icon,a=void 0===t?"far fa-envelope":t,c=e.title,s=void 0===c?"":c,n=e.value,r=void 0===n?0:n,l=e.bgClass,i=void 0===l?"bg-info":l;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"info-box",children:[Object(j.jsx)("span",{className:"info-box-icon "+i,children:Object(j.jsx)("i",{className:a})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:s||""}),Object(j.jsx)("span",{className:"info-box-number",children:new Intl.NumberFormat("en-IN",{maximumSignificantDigits:3}).format(Number(r))})]})]})})},Ke=window.moment,Ze=window.google,Xe=window.$,et=window.toastr,tt={},at=[],ct=function(){var e=Object(c.useState)({TotalApproved:1,TotalPending:0,TotalRejected:0,TotalSites:0}),t=Object(q.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(q.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)(""),d=Object(q.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)([]),h=Object(q.a)(u,2),x=h[0],f=h[1],v=Object(c.useState)(""),g=Object(q.a)(v,2),N=g[0],y=g[1],k=Object(c.useState)([]),I=Object(q.a)(k,2),D=I[0],S=I[1],E=Object(c.useState)({location:"",address:"",_saqfileurl:"",siteContactPerson:"",siteContactNum:"",_idcontractor:"",contractor:"",taxDec:!1,taxClearance:!1,sketchPlan:!1,contactPerID:!1,coordPhoto:!1,photoLandOwner:!1,visinityPlan:!1,LIS:!1}),F=Object(q.a)(E,2),T=F[0],R=F[1];Object(c.useEffect)((function(){var e=0,t=D.filter((function(t){return(t.address.toLowerCase().includes(m)||t.siteContactPerson.toLowerCase().includes(m))&&e++<10}));f(t)}),[D,m]),Object(c.useEffect)((function(){Y.get("".concat("https://icdi.herokuapp.com","/api/site/1/stat")).then((function(e){S(e.data)})).catch((function(e){console.log(e),et.error("An error encountered, please try again")})),Xe(".modal").on("show.bs.modal",(function(){var e,t=Object(Se.a)(at);try{for(t.s();!(e=t.n()).done;){e.value.close()}}catch(a){t.e(a)}finally{t.f()}})),Y.get("".concat("https://icdi.herokuapp.com","/api/site/count")).then((function(e){s(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(c.useEffect)((function(){var e=new Ze.maps.Map(document.getElementById("map"),{center:{lat:10.714222484489797,lng:123.92758604369578},zoom:6});y(e);for(var t=0;t<D.length;t++)_(e,D[t],at,tt)}),[D]);var _=function(e,t,a,c){var s="standard"!==O.role,n=t.location.split(","),r=new Ze.maps.Marker({position:new Ze.maps.LatLng(Number(n[0]),Number(n[1])),map:e});c[t.location]=r;var l='\n            <form id="infowindowMap">\n             <div class="container">\n               <div class="row mt-3">\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">\n                       Site Document Link/<a href='.concat(t._saqfileurl?t._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_new">Check Site Link</a>\n                     </label>\n                     <span style="float:right">').concat(t.auditPercent,'% completed</span>\n                     <input \n                     value="').concat(t._saqfileurl,'"\n                     ').concat(s&&"readOnly",'\n                     name="_saqfileurl"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Doc url link" />\n                 </div>\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">Site Address</label>\n                     <input \n                     value="').concat(t.address,'"\n                     ').concat(s&&"readOnly",'\n                     name="address"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Land Owner</label>\n                     <input \n                     value="').concat(t.siteContactPerson,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactPerson"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Contact Number</label>\n                     <input \n                     value="').concat(t.siteContactNum,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactNum"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinates</label>\n                     <input \n                     value="').concat(n.join(", "),'"\n                     readOnly\n                     name="location"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 \n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinator</label>\n                     <input \n                     value="').concat(t._idcontractor,'"\n                     ').concat(s&&"readOnly",'\n                     name="_idcontractor"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="').concat(0!==t.status?"d-none":"form-group col-12",' style="width: 100%">\n                    <label htmlFor="exampleInputEmail1">Remarks</label>\n                    <textarea class="form-control" rows="3" placeholder="Type here ..." \n                    readOnly\n                    name="actionRemarks">').concat(t.actionRemarks,'</textarea>\n                </div>\n                \x3c!---checklist ---\x3e\n                <div class="col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary">\n                  <span data-toggle="collapse" data-target="#updatesitechecklist" class="cursor-pointer">\n                    <i class="fas fa-tasks"></i> &nbsp;Checklist\n                  </span>\n                </div>\n                <div class="col-12">\n                    <div id="updatesitechecklist" class="collapse row">\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="LIS">Lease Information Sheet (LIS)\n                              <input id="LIS" name="LIS" type="checkbox" value="1" ').concat(t.LIS&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="visinityPlan">Vicinity Plan\n                              <input id="visinityPlan" name="visinityPlan" type="checkbox" value="1" ').concat(t.visinityPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxDec">Tax Dec/Land Title\n                              <input id="taxDec" name="taxDec" type="checkbox" value="1" ').concat(t.taxDec&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="coordPhoto">Coordinates Photo\n                              <input id="coordPhoto" name="coordPhoto" type="checkbox" value="1" ').concat(t.coordPhoto&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxClearance">Tax Clearance\n                              <input id="taxClearance" name="taxClearance" type="checkbox" value="1" ').concat(t.taxClearance&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="contactPerID">Land Owner ID with 3 Signature\n                              <input id="contactPerID" name="contactPerID" type="checkbox" value="1" ').concat(t.contactPerID&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="sketchPlan">Sketch Plan\n                              <input id="sketchPlan" name="sketchPlan" type="checkbox" value="1" ').concat(t.sketchPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="photoLandOwner">Photo with Land Owner\n                              <input id="photoLandOwner" name="photoLandOwner" type="checkbox" value="1" ').concat(t.photoLandOwner&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                    </div>\n                </div>\n\n                \x3c!---end checklist ---\x3e\n               </div>\n               <div class="form-group col-12 text-right">\n                  <div class="').concat(1!==t.status||0===t.docstat?"d-none":"",'">\n                    <button class="btn btn-danger" id="btn0">Delete</button>   \n                    <button class="btn btn-primary" id="btn1">Update</button>\n                  </div>\n                  <button class="').concat(0!==t.docstat?"d-none":"btn btn-primary",'" id="btn-restore">Restore</button>\n               </div>\n             </div>\n           </form>');r.addListener("click",(function(){var c=new Ze.maps.InfoWindow({content:l});a.push(c);var s,n=Object(Se.a)(a);try{for(n.s();!(s=n.n()).done;){s.value.close()}}catch(i){n.e(i)}finally{n.f()}c.open(e,r),Ze.maps.event.addListener(c,"domready",(function(){document.getElementById("btn1").addEventListener("click",function(){var e=Object(C.a)(w.a.mark((function e(a){var s,n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s=document.querySelector("#infowindowMap"),(n=Object.fromEntries(new FormData(s).entries()))._updatedby=O._id,n.updated_at=Ke(new Date).format("YYYY-MM-DD HH:mm:ss"),n.status=1,delete n.contractorName,r=((r=(n.location?1:0)+(n.address?1:0)+(n.siteContactPerson?1:0)+(n.siteContactNum?1:0)+(n._idcontractor?1:0)+(n._saqfileurl?1:0)+(n.taxDec?1:0)+(n.taxClearance?1:0)+(n.sketchPlan?1:0)+(n.contactPerID?1:0)+(n.coordPhoto?1:0)+(n.photoLandOwner?1:0)+(n.visinityPlan?1:0)+(n.LIS?1:0))/14*100).toFixed(0),n.auditPercent=r,e.next=12,Y.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t.location,"/update"),n);case 12:200===e.sent.status?(et.success(M),l=D.findIndex((function(e){return e.location===t.location})),D[l]=Object(p.a)(Object(p.a)({},D[l]),n),S([]),S(D),c.close()):et.error(A);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("btn0").addEventListener("click",function(){var e=Object(C.a)(w.a.mark((function e(a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),window.confirm("Are you sure you want to delete this location?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Y.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t.location,"/update"),{docstat:0});case 5:200===e.sent.status?(c=D.filter((function(e){return e.location!==t.location})),S(c),et.success(M)):et.error(A);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("btn-restore").addEventListener("click",function(){var e=Object(C.a)(w.a.mark((function e(a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Y.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t.location,"/update"),{docstat:1});case 3:200===e.sent.status?(c=D.filter((function(e){return e.location!==t.location})),S(c),et.success(M)):et.error(A);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}))},L=function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=((t=(T.location?1:0)+(T.address?1:0)+(T.siteContactPerson?1:0)+(T.siteContactNum?1:0)+(T._idcontractor?1:0)+(T._saqfileurl?1:0)+(T.taxDec||0)+(T.taxClearance||0)+(T.sketchPlan||0)+(T.contactPerID||0)+(T.coordPhoto||0)+(T.photoLandOwner||0)+(T.visinityPlan||0)+(T.LIS||0))/14*100).toFixed(0),e.next=4,Y.post("".concat("https://icdi.herokuapp.com","/api/site/create"),{location:T.location.replace(/ /g,"").trim(),address:T.address,siteContactPerson:T.siteContactPerson,siteContactNum:T.siteContactNum,_idcontractor:T._idcontractor,_saqfileurl:T._saqfileurl,_createdby:O._id,taxDec:T.taxDec,taxClearance:T.taxClearance,sketchPlan:T.sketchPlan,contactPerID:T.contactPerID,coordPhoto:T.coordPhoto,photoLandOwner:T.photoLandOwner,visinityPlan:T.visinityPlan,LIS:T.LIS,auditPercent:t,status:1});case 4:if(400!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",et.error("Location already exist"));case 7:S([].concat(Object(U.a)(D),[a.data])),Xe("#staticBackdrop").modal("hide");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){var t=e.target;"location"===t.name&&(t.value=t.value.replace(/ /g,"")),"checkbox"===t.type?R(Object(p.a)(Object(p.a)({},T),{},Object(P.a)({},t.name,t.checked))):R(Object(p.a)(Object(p.a)({},T),{},Object(P.a)({},t.name,t.value)))},H=function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,i(!0),!t){e.next=10;break}return e.next=5,t.split(",");case 5:t=e.sent,tt[t].setAnimation(Ze.maps.Animation.BOUNCE),setTimeout((function(){tt[t].setAnimation(null)}),2e3),N.setCenter({lat:Number(t[0]),lng:Number(t[1])}),N.setZoom(15);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){Y.get(e).then((function(e){S(e.data)})).catch((function(e){console.log(e),et.error("An error encountered, please try again")}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(We,{icon:"fas fa-map-marker-alt",title:"Total Sites",value:a.TotalSites,bgClass:"bg-info"})}),Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(We,{icon:"far fa-thumbs-up",title:"Total Approved",value:a.TotalApproved,bgClass:"bg-gradient-success"})}),Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(We,{icon:"fas fa-spell-check text-light",title:"Total Pending",value:a.TotalPending,bgClass:"bg-warning"})}),Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(We,{icon:"far fa-thumbs-down",title:"Total Rejected",value:a.TotalRejected,bgClass:"bg-danger"})})]}),Object(j.jsx)("div",{"aria-label":"breadcrumb",children:Object(j.jsxs)("ol",{className:"breadcrumb",children:[Object(j.jsx)("li",{className:"breadcrumb-item",children:Object(j.jsx)("a",{href:"#/",onClick:function(){G("".concat("https://icdi.herokuapp.com","/api/site/1/stat"))},children:"Pending"})}),Object(j.jsx)("li",{className:"breadcrumb-item",children:Object(j.jsx)("a",{href:"#/",onClick:function(){G("".concat("https://icdi.herokuapp.com","/api/site/2/stat"))},children:"Approved"})}),Object(j.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:Object(j.jsx)("a",{href:"#/",onClick:function(){G("".concat("https://icdi.herokuapp.com","/api/site/0/stat"))},children:"Rejected"})}),Object(j.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:Object(j.jsx)("a",{href:"#/",onClick:function(){G("".concat("https://icdi.herokuapp.com","/api/site/-1/stat"))},children:"Deleted"})}),Object(j.jsx)("li",{className:"flex-grow-1 text-right",children:Object(j.jsx)("a",{href:"#/",children:Object(j.jsx)(Qe,{title:"XlsFile",data:D})})})]})}),Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)("button",{className:"btn btn-white",style:{position:"absolute",zIndex:1,top:50,right:0,margin:10},"data-toggle":"modal","data-target":"#staticBackdrop",children:Object(j.jsx)("i",{className:"fas fa-map-marker-alt",style:{fontSize:"1.1em",color:"red"}})}),Object(j.jsx)("button",{className:"btn btn-white d-nonex",onClick:function(){return H()},style:{position:"absolute",zIndex:1,top:100,right:0,margin:10},children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})}),Object(j.jsx)("div",{style:{position:"absolute",zIndex:1,top:150,right:0,margin:10},children:Object(j.jsx)(Je,{uploaded:function(e){S(e)}})}),Object(j.jsx)("div",{id:"map",style:{width:"100%",height:"80vh",position:"relative"}}),Object(j.jsx)("div",{id:"fadeInRight",style:{position:"fixed",width:"240px",height:"80%",right:22,top:127,zIndex:1,background:"rgba(255,255,255,1)",overflow:"hidden"},className:l?"row active":"row",children:Object(j.jsxs)("div",{className:"container-fluid py-4 mt-3",children:[Object(j.jsx)("div",{className:"close",style:{position:"absolute",top:10,right:10,cursor:"pointer"},children:Object(j.jsx)("span",{"aria-hidden":"true",onClick:function(){return i(!1)},children:"\xd7"})}),Object(j.jsxs)("div",{className:"input-group col-12",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text bg-primary",children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})})}),Object(j.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value.trim();b(t)},name:"firstName",className:"form-control",id:"exampleInputEmail1",placeholder:"search"})]}),Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"list-group-flush mt-2",children:x.map((function(e,t){return Object(j.jsx)("button",{type:"button",className:"list-group-item list-group-item-action px-0",onClick:function(){return H(e.location)},children:e.address},t)}))})})]})}),Object(j.jsxs)(z,{title:"Add New Site",size:"modal-md",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:Object(j.jsx)("a",{href:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",target:"_blank",rel:"noreferrer",children:"Site Document Link"})}),Object(j.jsx)("input",{onChange:B,value:T._saqfileurl,name:"_saqfileurl",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"doc url link"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Site Address"}),Object(j.jsx)("input",{onChange:B,value:T.address,name:"address",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Land Owner"}),Object(j.jsx)("input",{onChange:B,value:T.siteContactPerson,name:"siteContactPerson",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Number"}),Object(j.jsx)("input",{onChange:B,value:T.siteContactNum,name:"siteContactNum",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinates"}),Object(j.jsx)("input",{onChange:B,value:T.location,name:"location",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinator"}),Object(j.jsx)("input",{onChange:B,value:T._idcontractor,name:"_idcontractor",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:Object(j.jsxs)("span",{"data-toggle":"collapse","data-target":"#newsitechecklist",className:"cursor-pointer",children:[Object(j.jsx)("i",{className:"fas fa-tasks"})," \xa0Checklist"]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{id:"newsitechecklist",className:"collapse row",children:[Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"LIS",value:"1",onChange:B,id:"LIS"}),Object(j.jsx)("label",{htmlFor:"LIS",children:"Lease Information Sheet (LIS)"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"visinityPlan",value:"1",onChange:B,id:"visinityPlan"}),Object(j.jsx)("label",{htmlFor:"visinityPlan",children:"Vicinity Plan"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"taxDec",value:"1",onChange:B,id:"taxDec1"}),Object(j.jsx)("label",{htmlFor:"taxDec1",children:"Tax Dec/Land Title"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"coordPhoto",value:"1",onChange:B,id:"coordPhoto1"}),Object(j.jsx)("label",{htmlFor:"coordPhoto1",children:"Coordinates Photo"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"taxClearance",value:"1",onChange:B,id:"taxClearance1"}),Object(j.jsx)("label",{htmlFor:"taxClearance1",children:"Tax Clearance"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"contactPerID",value:"1",onChange:B,id:"contactPerID1"}),Object(j.jsx)("label",{htmlFor:"contactPerID1",children:"Land Owner ID with 3 Signature"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"sketchPlan",value:"1",onChange:B,id:"sketchPlan1"}),Object(j.jsx)("label",{htmlFor:"sketchPlan1",children:"Sketch Plan"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"photoLandOwner",value:"1",onChange:B,id:"photoLandOwner"}),Object(j.jsx)("label",{htmlFor:"photoLandOwner",children:"Photo with Land Owner"})]})})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:L,children:"Add"})]})]})]})]})},st=window.$,nt=window.moment,rt=function(){var e=Object(c.useRef)(),t=Object(c.useState)({location:"",actionRemarks:""}),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),l=Object(q.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:nt(new Date).subtract(30,"days").format("YYYY-MM-DD 00:00:00"),end:nt(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(q.a)(d,2),b=m[0],u=m[1],h=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Site Files",data:"_saqfileurl",render:function(e,t,a,c){return'<a onclick="event.stopPropagation();" href='.concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Lease Information Sheet (LIS)",data:"LIS",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tax Dec",data:"taxDec",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tax Clearance",data:"taxClearance",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Sketch Plan",data:"sketchPlan",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Vicinity Plan",data:"visinityPlan",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Coordinates Photo",data:"coordPhoto",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Land Owner 3 ID",data:"contactPerID",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Photo with land owner",data:"photoLandOwner",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Created By",visible:!1,data:"_createdby"},{title:"Date Created",visible:!1,data:"created_at",render:function(e){return nt(e).format("YYYY-MM-DD")}},{title:"Remarks",orderable:!1,data:"actionRemarks"},{title:"Action",orderable:!1,data:"status",render:function(e,t,a,c){return 1===e?'<button data-id="'.concat(a.location,'" class="btn btn-primary site-eval-proceed-btn">Approved</button>\n                <button data-id="').concat(a.location,'" class="btn btn-danger site-eval-reject-btn">Reject</button>\n                      '):2===e?"Approved":"Rejected"}},{title:"Action By",visible:!1,data:"_actionby"},{title:"Action Date",visible:!1,data:"action_date",render:function(e){return nt(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){x(),st("#staticBackdrop").on("hidden.bs.modal",(function(e){})),st("#reservation").daterangepicker({startDate:nt(new Date).subtract(30,"days"),endDate:nt(new Date),opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),x({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[i]);var x=function(t,a){var c=!0;t||(t=b,c=!1),Y.post("".concat("https://icdi.herokuapp.com","/api/site/eval-summary/").concat(t.from,"/").concat(t.end),{status:a||i}).then(function(){var t=Object(C.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:st(".site-eval-proceed-btn").on("click",(function(){var e=st(this).data("id");f(e,2)})),st(".site-eval-reject-btn").on("click",(function(){var e=st(this).data("id");g(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},f=function(t,a){Y.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t,"/update"),{status:a,_actionby:O._id,action_date:nt(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){e.current.remove({location:t})})).catch((function(e){}))},v=function(e){var t=e.target;"status"===t.name?o((function(){return e.target.value})):n(Object(p.a)(Object(p.a)({},s),{},Object(P.a)({},t.name,t.value)))},g=function(e){n({location:e}),st("#staticBackdrop").modal("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:v,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Evaluation Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{header:h,ref:e,buttons:!0})})]}),Object(j.jsxs)(z,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsx)("div",{className:"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",onChange:v,value:s.actionRemarks})]})})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){Y.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(s.location,"/update"),{actionRemarks:s.actionRemarks||"",_actionby:O._id,action_date:nt(new Date).format("YYYY-MM-DD HH:mm:ss"),status:0}).then((function(t){st("#staticBackdrop").modal("hide"),e.current.remove({location:s.location})})).catch((function(e){console.log(e)}))},children:"Confirm Reject"})]})]})]})},lt=window.$,it=window.moment,ot=function(){var e=Object(c.useRef)(),t=Object(c.useState)(1),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({_saqfileurl:"",address:"",siteContactPerson:"",siteContactNum:"",location:"",_idcontractor:"",siteSurvey:0,soilTest:0,siteEvalForm:0}),l=Object(q.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:it(new Date).subtract(30,"days").format("YYYY-MM-DD 00:00:00"),end:it(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(q.a)(d,2),b=m[0],u=m[1],h=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return'<a onclick="event.stopPropagation();" href='.concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Created By",data:"_createdby"},{title:"Date Created",data:"created_at",render:function(e){return it(e).format("YYYY-MM-DD")}},{title:"Tax Dec",data:"taxDec",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tax Clearance",data:"taxClearance",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Sketch Plan",data:"sketchPlan",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Land Title",data:"landTitle",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Coordinates Photo",data:"coordPhoto",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Photo with land owner",data:"photoLandOwner",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Visinity Plan",data:"visinityPlan",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Lease Information Sheet (LIS)",data:"LIS",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tech Eval Percentage",data:"techEvalPercent",visible:!0,render:function(e,t,a,c){return(e||"0")+"%"}},{title:"Evaluated By",data:"_evaluatedby",visible:!0},{title:"Date Evaluated",data:"updated_at",visible:!0,render:function(e){return it(e).format("YYYY-MM-DD")}},{title:"Status",orderable:!1,data:"status",visible:!1,render:function(e){return 1===e?"For approval":2===e?"Approved":"Rejected"}},{title:"Action By",data:"_actionby",visible:!0},{title:"Action Date",data:"action_date",visible:!0,render:function(e){return it(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){x(),lt("#staticBackdrop").on("hidden.bs.modal",(function(e){})),lt("#reservation").daterangepicker({startDate:it(new Date).subtract(30,"days"),endDate:it(new Date),opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),x({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[s]);var x=function(t,a){var c=!0;t||(t=b,c=!1),Y.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(t.from,"/").concat(t.end),{status:a||s}).then(function(){var t=Object(C.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:lt(".site-eval-proceed-btn").on("click",(function(){var e=lt(this).data("id");f(e,2)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},f=function(e,t){Y.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(e,"/update"),{status:t}).then((function(e){console.log(e)})).catch((function(e){}))},v=function(e){var t=e.target;"status"===t.name?n((function(){return e.target.value})):o(Object(p.a)(Object(p.a)({},i),{},Object(P.a)({},t.name,t.checked)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:s,onChange:v,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Technical Evaluation Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{getSelected:function(e){o(e),lt("#staticBackdrop").modal("show")},header:h,ref:e,buttons:!0})})]}),Object(j.jsxs)(z,{title:"Site Technical Information",size:"modal-md",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsxs)("label",{htmlFor:"exampleInputEmail1",children:["Site Docs/",Object(j.jsx)("a",{href:i._saqfileurl?i._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",target:"_new",children:"Check Docs"})]}),Object(j.jsx)("span",{className:"float-right",children:"".concat(i.techEvalPercent||0,"% completed")}),Object(j.jsx)("input",{value:i._saqfileurl||"",readOnly:!0,name:"_saqfileurl",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"doc url link"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Site Address"}),Object(j.jsx)("input",{value:i.address||"",readOnly:!0,name:"address",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Person"}),Object(j.jsx)("input",{value:i.siteContactPerson||"",readOnly:!0,name:"siteContactPerson",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Number"}),Object(j.jsx)("input",{value:i.siteContactNum||"",readOnly:!0,name:"siteContactNum",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinates"}),Object(j.jsx)("input",{value:i.location||"",readOnly:!0,name:"location",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinator"}),Object(j.jsx)("input",{value:i._idcontractor||"",readOnly:!0,name:"_idcontractor",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsx)("div",{className:0!==i.status?"d-none":"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",value:i.actionRemarks||"",readOnly:!0})]})}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:Object(j.jsxs)("span",{"data-toggle":"collapse","data-target":"#newsitechecklist",className:"cursor-pointer",children:[Object(j.jsx)("i",{className:"fas fa-tasks"})," \xa0Checklist"]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{id:"newsitechecklist",className:"collapse row",children:[Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"siteSurvey",value:"1",onChange:v,checked:i.siteSurvey||!1,id:"siteSurvey"}),Object(j.jsx)("label",{htmlFor:"siteSurvey",children:"Site Survey"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"soilTest",value:"1",onChange:v,checked:i.soilTest||!1,id:"soilTest"}),Object(j.jsx)("label",{htmlFor:"soilTest",children:"Soil Test Result"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"siteEvalForm",value:"1",onChange:v,checked:i.siteEvalForm||!1,id:"siteEvalForm"}),Object(j.jsx)("label",{htmlFor:"siteEvalForm",children:"Site Technical Evaluation Form"})]})})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:1!==i.status&&null!==i.status?"d-none":"btn btn-primary",onClick:function(){var t=(i.siteSurvey||0)+(i.soilTest||0)+(i.siteEvalForm||0);t=(t/3*100).toFixed(0);var a={siteSurvey:i.siteSurvey,soilTest:i.soilTest,siteEvalForm:i.siteEvalForm,techEvalPercent:t,_evaluatedby:O._id,updated_at:it(new Date).format("YYYY-MM-DD HH:mm:ss"),status:1};Y.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(i.location,"/update"),a).then((function(t){e.current.update("location",Object(p.a)(Object(p.a)({},i),a)),lt("#staticBackdrop").modal("hide")}))},children:"Update"})]})]})]})},dt=window.$,mt=window.moment,jt=function(){var e=Object(c.useRef)(),t=Object(c.useState)({location:"",actionRemarks:""}),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),l=Object(q.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:mt(new Date).subtract(30,"days").format("YYYY-MM-DD 00:00:00"),end:mt(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(q.a)(d,2),b=m[0],u=m[1],h=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Site Survey",data:"siteSurvey",visible:!0,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Soil Test",data:"soilTest",visible:!0,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Site Evaluation Form",data:"siteEvalForm",visible:!0,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tech Eval Percentage",data:"techEvalPercent",visible:!0,render:function(e,t,a,c){return e+"%"}},{title:"Evaluated By",data:"_evaluatedby",visible:!0},{title:"Date Evaluated",data:"created_at",visible:!0,render:function(e){return mt(e).format("YYYY-MM-DD")}},{title:"Action",orderable:!1,data:"status",render:function(e,t,a,c){return 1===e?'<button data-id="'.concat(a.location,'" class="btn btn-primary site-eval-proceed-btn">Approved</button>\n                        <button data-id="').concat(a.location,'" class="btn btn-danger site-eval-reject-btn">Reject</button>\n                      '):2===e?"Approved":"Rejected"}},{title:"Remarks",data:"actionRemarks",visible:!1},{title:"Action By",data:"_actionby",visible:!1},{title:"Action Date",data:"action_date",visible:!1,render:function(e){return mt(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){x(),dt("#staticBackdrop").on("hidden.bs.modal",(function(e){})),dt("#reservation").daterangepicker({startDate:mt(new Date).subtract(30,"days"),endDate:mt(new Date),opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),x({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[i]);var x=function(t,a){var c=!0;t||(t=b,c=!1),Y.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval-summary/").concat(t.from,"/").concat(t.end),{status:a||i}).then(function(){var t=Object(C.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:dt(".site-eval-proceed-btn").on("click",(function(){var e=dt(this).data("id");f(e,2)})),dt(".site-eval-reject-btn").on("click",(function(){var e=dt(this).data("id");g(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},f=function(t,a){Y.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(t,"/update"),{status:a,_actionby:O._id,action_date:mt(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){console.log(a),e.current.remove({location:t})})).catch((function(e){}))},v=function(e){var t=e.target;"status"===t.name?o((function(){return e.target.value})):n(Object(p.a)(Object(p.a)({},s),{},Object(P.a)({},t.name,t.value)))},g=function(e){n({location:e}),dt("#staticBackdrop").modal("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:v,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Technical Evaluation Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{header:h,ref:e,buttons:!0})})]}),Object(j.jsxs)(z,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsx)("div",{className:"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",onChange:v,value:s.actionRemarks})]})})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){Y.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(s.location,"/update"),{actionRemarks:s.actionRemarks||"",_actionby:O._id,action_date:mt(new Date).format("YYYY-MM-DD HH:mm:ss"),status:0}).then((function(t){dt("#staticBackdrop").modal("hide"),e.current.remove({location:s.location})})).catch((function(e){console.log(e)}))},children:"Confirm Reject"})]})]})]})},bt=window.$,ut=window.moment,pt=function(){var e=Object(c.useRef)(),t=Object(c.useState)(1),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({}),l=Object(q.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:ut(new Date).subtract(30,"days").format("YYYY-MM-DD 00:00:00"),end:ut(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(q.a)(d,2),b=m[0],u=m[1],h=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Legal Assess Percentage",data:"legalAssessPercent",render:function(e){return(e||"0")+"%"}},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return'<a onclick="event.stopPropagation();" href='.concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Contracts",data:"contracts",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"LCR",data:"LCR",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tower Construction Permit",data:"towerConsPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Fencing Permit",data:"fencingPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Excavation Permit",data:"excavationPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Bldg Permit",data:"bldgPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Cutting Permit",data:"cenroPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Assess By",data:"_legalAssessBy",visible:!1},{title:"Date Assess",data:"updated_at",visible:!1,render:function(e){return ut(e).format("YYYY-MM-DD")}},{title:"Status",orderable:!1,data:"status",visible:!1,render:function(e){return 1===e?"For approval":2===e?"Approved":"Rejected"}},{title:"Remarks",data:"actionRemarks",visible:!1},{title:"Action By",data:"_actionby",visible:!1},{title:"Action Date",data:"action_date",visible:!1,render:function(e){return ut(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){x(),bt("#staticBackdrop").on("hidden.bs.modal",(function(e){})),bt("#reservation").daterangepicker({startDate:ut(new Date).subtract(30,"days"),endDate:ut(new Date),opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),x({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[s]);var x=function(t,a){var c=!0;t||(t=b,c=!1),Y.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(t.from,"/").concat(t.end),{status:a||s}).then(function(){var t=Object(C.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:bt(".site-eval-proceed-btn").on("click",(function(){var e=bt(this).data("id");f(e,2)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},f=function(e,t){Y.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(e,"/update"),{status:t}).then((function(e){console.log(e)})).catch((function(e){}))},v=function(e){var t=e.target;"status"===t.name?n((function(){return e.target.value})):o(Object(p.a)(Object(p.a)({},i),{},Object(P.a)({},t.name,t.checked)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:s,onChange:v,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Legal Assessment Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{getSelected:function(e){o(e),bt("#staticBackdrop").modal("show")},header:h,ref:e,buttons:!0})})]}),Object(j.jsxs)(z,{title:"Site Technical Information",size:"modal-lg",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsxs)("label",{htmlFor:"exampleInputEmail1",children:["Site Docs/",Object(j.jsx)("a",{href:i._saqfileurl?i._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",target:"_new",children:"Check Docs"})]}),Object(j.jsx)("span",{className:"float-right",children:"".concat(i.legalAssessPercent||0,"% completed")}),Object(j.jsx)("input",{value:i._saqfileurl||"",readOnly:!0,name:"_saqfileurl",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"doc url link"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Site Address"}),Object(j.jsx)("input",{value:i.address||"",readOnly:!0,name:"address",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Person"}),Object(j.jsx)("input",{value:i.siteContactPerson||"",readOnly:!0,name:"siteContactPerson",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Number"}),Object(j.jsx)("input",{value:i.siteContactNum||"",readOnly:!0,name:"siteContactNum",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinates"}),Object(j.jsx)("input",{value:i.location||"",readOnly:!0,name:"location",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinator"}),Object(j.jsx)("input",{value:i._idcontractor||"",readOnly:!0,name:"_idcontractor",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsx)("div",{className:0!==i.status?"d-none":"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",value:i.actionRemarks||"",readOnly:!0})]})}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:Object(j.jsxs)("span",{"data-toggle":"collapse","data-target":"#newsitechecklist",className:"cursor-pointer",children:[Object(j.jsx)("i",{className:"fas fa-tasks"})," \xa0Checklist"]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{id:"newsitechecklist",className:"collapse row",children:[Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"contracts",value:"1",onChange:v,checked:i.contracts||!1,id:"contracts"}),Object(j.jsx)("label",{htmlFor:"contracts",children:"Contracts"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"LCR",value:"1",onChange:v,checked:i.LCR||!1,id:"LCR"}),Object(j.jsx)("label",{htmlFor:"LCR",children:"Lease Certificate & Receipt(LCR)"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"towerConsPermit",value:"1",onChange:v,checked:i.towerConsPermit||!1,id:"towerConsPermit"}),Object(j.jsx)("label",{htmlFor:"towerConsPermit",children:"Tower Construction Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"fencingPermit",value:"1",onChange:v,checked:i.fencingPermit||!1,id:"fencingPermit"}),Object(j.jsx)("label",{htmlFor:"fencingPermit",children:"Fencing Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"excavationPermit",value:"1",onChange:v,checked:i.excavationPermit||!1,id:"excavationPermit"}),Object(j.jsx)("label",{htmlFor:"excavationPermit",children:"Excavation Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"bldgPermit",value:"1",onChange:v,checked:i.bldgPermit||!1,id:"bldgPermit"}),Object(j.jsx)("label",{htmlFor:"bldgPermit",children:"Bldg. Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"cenroPermit",value:"1",onChange:v,checked:i.cenroPermit||!1,id:"cenroPermit"}),Object(j.jsx)("label",{htmlFor:"cenroPermit",children:"Cutting permit"})]})})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:1!==i.status&&null!==i.status?"d-none":"btn btn-primary",onClick:function(){var t=(i.contracts||0)+(i.LCR||0)+(i.towerConsPermit||0)+(i.fencingPermit||0)+(i.excavationPermit||0)+(i.bldgPermit||0)+(i.cenroPermit||0);t=(t/7*100).toFixed(0);var a={contracts:i.contracts,LCR:i.LCR,towerConsPermit:i.towerConsPermit,fencingPermit:i.fencingPermit,excavationPermit:i.excavationPermit,bldgPermit:i.bldgPermit,cenroPermit:i.cenroPermit,legalAssessPercent:t,_legalAssessBy:O._id,updated_at:ut(new Date).format("YYYY-MM-DD HH:mm:ss"),status:1};Y.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(i.location,"/update"),a).then((function(t){e.current.update("location",Object(p.a)(Object(p.a)({},i),a)),bt("#staticBackdrop").modal("hide")}))},children:"Update"})]})]})]})},ht=window.$,xt=window.moment,ft=function(){var e=Object(c.useRef)(),t=Object(c.useState)({location:"",actionRemarks:""}),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),l=Object(q.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:xt(new Date).subtract(30,"days").format("YYYY-MM-DD 00:00:00"),end:xt(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(q.a)(d,2),b=m[0],u=m[1],h=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Legal Assess Percentage",data:"legalAssessPercent",render:function(e){return e+"%"}},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Contracts",data:"contracts",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"LCR",data:"LCR",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tower Construction Permit",data:"towerConsPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Fencing Permit",data:"fencingPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Excavation Permit",data:"excavationPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Bldg Permit",data:"bldgPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Cutting Permit",data:"cenroPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Assess By",data:"_legalAssessBy",visible:!1},{title:"Date Assess",data:"updated_at",visible:!1,render:function(e){return xt(e).format("YYYY-MM-DD")}},{title:"Remarks",orderable:!1,data:"actionRemarks"},{title:"Action",orderable:!1,data:"status",render:function(e,t,a,c){return 1===e?'<button data-id="'.concat(a.location,'" class="btn btn-primary site-eval-proceed-btn">Approved</button>\n                        <button data-id="').concat(a.location,'" class="btn btn-danger site-eval-reject-btn">Reject</button>\n                      '):2===e?"Approved":"Rejected"}},{title:"Action By",visible:!1,data:"_actionby"},{title:"Action Date",visible:!1,data:"action_date",render:function(e){return xt(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){x(),ht("#staticBackdrop").on("hidden.bs.modal",(function(e){})),ht("#reservation").daterangepicker({startDate:xt(new Date).subtract(30,"days"),endDate:xt(new Date),opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),x({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[i]);var x=function(t,a){var c=!0;t||(t=b,c=!1),Y.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess-summary/").concat(t.from,"/").concat(t.end),{status:a||i}).then(function(){var t=Object(C.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:ht(".site-eval-proceed-btn").on("click",(function(){var e=ht(this).data("id");f(e,2)})),ht(".site-eval-reject-btn").on("click",(function(){var e=ht(this).data("id");g(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},f=function(t,a){Y.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(t,"/update"),{status:a,_actionby:O._id,action_date:xt(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){console.log(a),e.current.remove({location:t})})).catch((function(e){}))},v=function(e){var t=e.target;"status"===t.name?o((function(){return e.target.value})):n(Object(p.a)(Object(p.a)({},s),{},Object(P.a)({},t.name,t.value)))},g=function(e){n({location:e}),ht("#staticBackdrop").modal("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:v,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Legal Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{header:h,ref:e,buttons:!0})})]}),Object(j.jsxs)(z,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsx)("div",{className:"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",onChange:v,value:s.actionRemarks})]})})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){Y.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(s.location,"/update"),{actionRemarks:s.actionRemarks||"",_actionby:O._id,action_date:xt(new Date).format("YYYY-MM-DD"),status:0}).then((function(t){ht("#staticBackdrop").modal("hide"),e.current.remove({location:s.location})})).catch((function(e){console.log(e)}))},children:"Confirm Reject"})]})]})]})},Ot=window.google,vt=window.$,gt=window.toastr,Nt={},yt=[],kt=function(){var e=Object(c.useState)(!1),t=Object(q.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(q.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)([]),d=Object(q.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)(""),p=Object(q.a)(u,2),h=p[0],x=p[1],f=Object(c.useState)([]),v=Object(q.a)(f,2),g=v[0],N=v[1];Object(c.useEffect)((function(){var e=0,t=g.filter((function(t){return(t.address.toLowerCase().includes(l)||t.siteContactPerson.toLowerCase().includes(l))&&e++<10}));b(t)}),[g,l]),Object(c.useEffect)((function(){Y.get("".concat("https://icdi.herokuapp.com","/api/site")).then((function(e){N(e.data)})).catch((function(e){console.log(e),gt.error("An error encountered, please try again")})),vt(".modal").on("show.bs.modal",(function(){var e,t=Object(Se.a)(yt);try{for(t.s();!(e=t.n()).done;){e.value.close()}}catch(a){t.e(a)}finally{t.f()}}))}),[]),Object(c.useEffect)((function(){var e=new Ot.maps.Map(document.getElementById("map"),{center:{lat:10.714222484489797,lng:123.92758604369578},zoom:6});x(e);for(var t=0;t<g.length;t++)y(e,g[t],yt,Nt)}),[g]);var y=function(e,t,a,c){var s="standard"!==O.role,n=t.location.split(","),r=new Ot.maps.Marker({position:new Ot.maps.LatLng(Number(n[0]),Number(n[1])),map:e});c[t.location]=r;var l='\n            <form id="infowindowMap">\n             <div class="container">\n               <div class="row mt-3">\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">\n                       Site Docs/<a href='.concat(t._saqfileurl?t._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_new">Check Docs</a>\n                     </label>\n                     <span style="float:right">').concat(t.auditPercent,'% completed</span>\n                     <input \n                     value="').concat(t._saqfileurl,'"\n                     ').concat(s&&"readOnly",'\n                     name="_saqfileurl"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Doc url link" />\n                 </div>\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">Site Address</label>\n                     <input \n                     value="').concat(t.address,'"\n                     ').concat(s&&"readOnly",'\n                     name="address"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Contact Person</label>\n                     <input \n                     value="').concat(t.siteContactPerson,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactPerson"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Contact Number</label>\n                     <input \n                     value="').concat(t.siteContactNum,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactNum"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinates</label>\n                     <input \n                     value="').concat(n.join(", "),'"\n                     readOnly\n                     name="location"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 \n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinator</label>\n                     <input \n                     value="').concat(t._idcontractor,'"\n                     ').concat(s&&"readOnly",'\n                     name="_idcontractor"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="').concat(0!==t.status?"d-none":"form-group col-12",' style="width: 100%">\n                    <label htmlFor="exampleInputEmail1">Remarks</label>\n                    <textarea class="form-control" rows="3" placeholder="Type here ..." \n                    readOnly\n                    name="actionRemarks">').concat(t.actionRemarks,'</textarea>\n                </div>\n                \x3c!---checklist ---\x3e\n                <div class="col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary">\n                  <span data-toggle="collapse" data-target="#updatesitechecklist" class="cursor-pointer">\n                    <i class="fas fa-tasks"></i> &nbsp;Checklist\n                  </span>\n                </div>\n                <div class="col-12">\n                    <div id="updatesitechecklist" class="collapse row">\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxDec">Tax Dec\n                              <input id="taxDec" name="taxDec" type="checkbox" value="1" ').concat(t.taxDec&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxClearance">Tax Clearance\n                              <input id="taxClearance" name="taxClearance" type="checkbox" value="1" ').concat(t.taxClearance&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="sketchPlan">Sketch Plan\n                              <input id="sketchPlan" name="sketchPlan" type="checkbox" value="1" ').concat(t.sketchPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="landTitle">Land Title\n                              <input id="landTitle" name="landTitle" type="checkbox" value="1" ').concat(t.landTitle&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="coordPhoto">Coordinates Photo\n                              <input id="coordPhoto" name="coordPhoto" type="checkbox" value="1" ').concat(t.coordPhoto&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="photoLandOwner">Photo with land owner\n                              <input id="photoLandOwner" name="photoLandOwner" type="checkbox" value="1" ').concat(t.photoLandOwner&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="visinityPlan">Visinity Plan\n                              <input id="visinityPlan" name="visinityPlan" type="checkbox" value="1" ').concat(t.visinityPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="LIS">Lease Information Sheet (LIS)\n                              <input id="LIS" name="LIS" type="checkbox" value="1" ').concat(t.LIS&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                    </div>\n                </div>\n\n                \x3c!---end checklist ---\x3e\n               </div>\n               <div class="form-group col-12 text-right">\n                 \n               </div>\n             </div>\n           </form>');r.addListener("click",(function(){var t=new Ot.maps.InfoWindow({content:l});a.push(t);var c,s=Object(Se.a)(a);try{for(s.s();!(c=s.n()).done;){c.value.close()}}catch(n){s.e(n)}finally{s.f()}t.open(e,r),Ot.maps.event.addListener(t,"domready",(function(){}))}))},k=function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,s(!0),!t){e.next=10;break}return e.next=5,t.split(",");case 5:t=e.sent,Nt[t].setAnimation(Ot.maps.Animation.BOUNCE),setTimeout((function(){Nt[t].setAnimation(null)}),2e3),h.setCenter({lat:Number(t[0]),lng:Number(t[1])}),h.setZoom(15);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{"aria-label":"breadcrumb",children:Object(j.jsx)("ol",{className:"breadcrumb",children:Object(j.jsx)("li",{className:"flex-grow-1 text-right",children:Object(j.jsx)("a",{href:"#/",children:Object(j.jsx)(Qe,{title:"XlsFile",data:g})})})})}),Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)("button",{className:"btn btn-white d-nonex",onClick:function(){return k()},style:{position:"absolute",zIndex:1,top:50,right:0,margin:10},children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})}),Object(j.jsx)("div",{id:"map",style:{width:"100%",height:"80vh",position:"relative"}}),Object(j.jsx)("div",{id:"fadeInRight",style:{position:"fixed",width:"240px",height:"80%",right:22,top:127,zIndex:1,background:"rgba(255,255,255,1)",overflow:"hidden"},className:a?"row active":"row",children:Object(j.jsxs)("div",{className:"container-fluid py-4 mt-3",children:[Object(j.jsx)("div",{className:"close",style:{position:"absolute",top:10,right:10,cursor:"pointer"},children:Object(j.jsx)("span",{"aria-hidden":"true",onClick:function(){return s(!1)},children:"\xd7"})}),Object(j.jsxs)("div",{className:"input-group col-12",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text bg-primary",children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})})}),Object(j.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value.trim();i(t)},name:"firstName",className:"form-control",id:"exampleInputEmail1",placeholder:"search"})]}),Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"list-group-flush mt-2",children:m.map((function(e,t){return Object(j.jsx)("button",{type:"button",className:"list-group-item list-group-item-action px-0",onClick:function(){return k(e.location)},children:e.address},t)}))})})]})})]})]})},wt=window.$,Ct=window.moment,Pt=function(){var e=Object(c.useRef)(),t=Object(c.useState)({region:"",partner:"",team:"",selected:{team:[]}}),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({}),l=Object(q.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)([]),m=Object(q.a)(d,2),b=m[0],u=m[1],h=Object(c.useState)(1),x=Object(q.a)(h,2),f=x[0],v=x[1],g=Object(c.useState)({from:Ct(new Date).format("YYYY-MM-DD 00:00:00"),end:Ct(new Date).format("YYYY-MM-DD 23:59:59")}),N=Object(q.a)(g,2),y=N[0],k=N[1],I=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Legal Assess Percentage",data:"legalAssessPercent",render:function(e){return e+"%"}},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return'<a onclick="event.stopPropagation();" href='.concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Contracts",data:"contracts",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"LCR",data:"LCR",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tower Construction Permit",data:"towerConsPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Fencing Permit",data:"fencingPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Excavation Permit",data:"excavationPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Bldg Permit",data:"bldgPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Cutting Permit",data:"cenroPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Assess By",data:"_legalAssessBy",visible:!1},{title:"Date Assess",data:"updated_at",visible:!1,render:function(e){return Ct(e).format("YYYY-MM-DD")}},{title:"Remarks",orderable:!1,data:"actionRemarks"},{title:"Action By",visible:!1,data:"_actionby"},{title:"Action Date",visible:!1,data:"action_date",render:function(e){return Ct(e).format("YYYY-MM-DD")}},{title:"Partner",orderable:!1,data:"actionRemarks"},{title:"Team",orderable:!1,data:"actionRemarks"},{title:"Status",orderable:!1,data:"actionRemarks"}];Object(c.useEffect)((function(){D(),wt("#staticBackdrop").on("hidden.bs.modal",(function(e){})),wt("#reservation").daterangepicker({opens:"right"},(function(e,t,a){k({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),D({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[f]),Object(c.useEffect)((function(){wt("#staticBackdrop").on("hide.bs.modal",R)}),[]);var D=function(t,a){var c=!0;t||(t=y,c=!1),Y.post("".concat("https://icdi.herokuapp.com","/api/site/gm/approved"),{status:a||f}).then(function(){var t=Object(C.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:wt(".site-eval-proceed-btn").on("click",(function(){var e=wt(this).data("id");S(e,2)})),wt(".site-eval-reject-btn").on("click",(function(){var e=wt(this).data("id");F(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},S=function(t,a){Y.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(t,"/update"),{status:a,_actionby:O._id,action_date:Ct(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){console.log(a),e.current.remove({location:t})})).catch((function(e){}))},E=function(e){var t,a=e.target;switch(a.name){case"partner":var c=b.filter((function(e){return e._userId===a.value}));n(Object(p.a)(Object(p.a)({},s),{},(t={},Object(P.a)(t,a.name,a.value),Object(P.a)(t,"team",""),Object(P.a)(t,"selected",c[0]),t)));break;case"status":v((function(){return a.value}));break;default:n(Object(p.a)(Object(p.a)({},s),{},Object(P.a)({},a.name,a.value)))}},F=function(e){n({location:e}),wt("#staticBackdrop").modal("show")},T=function(){var t=Object(C.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.post("".concat("https://icdi.herokuapp.com","/api/site/gm/set-team"),{_location:i.location,_partner:s.partner,teamName:s.team,_createdby:O._id});case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",window.toastr.error(A));case 8:return t.next=10,e.current.remove(i);case 10:wt("#staticBackdrop").modal("hide");case 11:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),R=function(){n({region:"",partner:"",team:"",selected:{team:[]}}),u([])};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:f,onChange:E,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Team Assign"}),Object(j.jsx)("option",{value:"2",children:"Site On Progress"}),Object(j.jsx)("option",{value:"0",children:"Site Completed"})]})]})})})}),Object(j.jsx)("div",{className:"card-footer mb-3",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block border-right",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-info",children:[Object(j.jsx)("i",{className:"fas fa-caret-down"}),"17"]})}),Object(j.jsx)("span",{className:"description-text",children:"SITE FOR TEAM ASSIGNMENT"})]})}),Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block border-right",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-warning",children:[Object(j.jsx)("i",{className:"fas fa-caret-left"}),"100"]})}),Object(j.jsx)("span",{className:"description-text",children:"SITE ON PROGRESS"})]})}),Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-success",children:[Object(j.jsx)("i",{className:"fas fa-caret-up"}),"20"]})}),Object(j.jsx)("span",{className:"description-text",children:"SITE COMPLETED"})]})})]})}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Legal Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ce,{getSelected:function(e){o(e),wt("#staticBackdrop").modal("show")},header:I,ref:e,buttons:!0})})]}),Object(j.jsxs)(z,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Region:"}),Object(j.jsxs)("select",{className:"form-control",value:s.region,onChange:function(e){var t,a=e.target;n(Object(p.a)(Object(p.a)({},s),{},(t={},Object(P.a)(t,a.name,a.value),Object(P.a)(t,"partner",""),Object(P.a)(t,"selected",{team:[]}),t))),Y.post("".concat("https://icdi.herokuapp.com","/api/contractor/search"),{isUpdatedTeam:a.value}).then((function(e){u(e.data)})).catch((function(e){window.toastr.error(A)}))},name:"region",children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"------"}),Object(ge.times)(17,(function(e){return Object(j.jsxs)("option",{value:e+1,children:["Region ",e+1]},e)}))]})]})}),Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Partner:"}),Object(j.jsxs)("select",{className:"form-control",value:s.partner,onChange:E,name:"partner",children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"------"}),b.map((function(e,t){return Object(j.jsxs)("option",{value:e._userId,children:[e.firstName," ",e.lastName]},e._userId)}))]})]})}),Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Team:"}),Object(j.jsxs)("select",{className:"form-control",value:s.team,onChange:E,name:"team",children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"------"}),s.selected.team.map((function(e,t){return Object(j.jsx)("option",{value:e.title,children:e.title},t)}))]})]})})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:T,children:"Continue"})]})]})]})},It=void 0,Dt=window.toastr;Dt.options={debug:!1,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,fadeIn:300,fadeOut:1e3,timeOut:1e3};var St=function(e){var t=e.history,a=Object(c.useState)({email:""}),s=Object(q.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)({}),i=Object(q.a)(l,2),o=i[0],d=i[1],m=function(){var e=Object(C.a)(w.a.mark((function e(a){var c,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n.email){e.next=3;break}return e.abrupt("return",Dt.error("Email not found"));case 3:return e.prev=3,c=n,e.next=7,Y.post("".concat("https://icdi.herokuapp.com","/api/forgetpass"),c);case 7:200===(s=e.sent).status&&(Dt.success("Please check your email for your password."),setTimeout((function(){t.push("/")}),2e3)),400===s.status&&Dt.error(s.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),Dt.error(A);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return O.isAuth?It.history.goBack():Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row no-gutter",children:[Object(j.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),Object(j.jsx)("div",{className:"col-md-6 bg-light",children:Object(j.jsx)("div",{className:"login d-flex align-items-center",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-9 col-xl-6 mx-auto",children:[Object(j.jsxs)("h3",{className:"display-4 text-primary",children:["4",Object(j.jsx)("sup",{children:"th"}),"JARB"]}),Object(j.jsx)("p",{className:"text-muted mb-4",children:"Forget Password."}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"email",onChange:function(e){var t="role"===e.target.name?e.target.checked:e.target.value;r(Object(p.a)(Object(p.a)({},n),{},Object(P.a)({},e.target.name,t)))},value:n.email,onBlur:function(e){e.preventDefault();var t=e.target.name,a=R(t,e.target.value);a?d(Object(p.a)(Object(p.a)({},o),{},Object(P.a)({},e.target.name,a))):(delete o[e.target.name],d(Object(p.a)({},o)))},placeholder:"Email",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),o.email&&Object(j.jsx)("small",{className:"text-danger ml-3",children:o.email||""})]}),Object(j.jsx)("div",{className:"mt-4 text-center",children:Object(j.jsx)("button",{type:"submit",onClick:m,disabled:!Object(ge.isEmpty)(o)||"",className:"btn btn-primary btn-block rounded-pill py-3",children:"Reset Password"})}),Object(j.jsxs)("p",{className:"col-12 pt-3 text-center",children:[Object(j.jsx)("span",{className:"font-weight-bold text-secondary",children:"Click here to"})," ",Object(j.jsx)("a",{href:"/#",onClick:function(e){e.preventDefault(),t.push("/login")},children:"Sign In"})]})]})]})})})})})]})})},Yt=window.$,Et=window.toastr,Ft=window.moment,Tt=function(){var e=Object(c.useRef)(),t=Object(c.useState)(!1),a=Object(q.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(!1),l=Object(q.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)(!1),m=Object(q.a)(d,2),b=m[0],u=m[1],h=Object(c.useState)(!1),x=Object(q.a)(h,2),f=x[0],v=x[1],g=Object(c.useState)({}),N=Object(q.a)(g,2),y=N[0],k=N[1],I=Object(c.useState)(""),D=Object(q.a)(I,2),S=D[0],E=D[1],F=Object(c.useState)({role:"",inputTye:"text",value:""}),T=Object(q.a)(F,2),L=T[0],B=T[1],$={title:"Team 1",status:1,remarks:"",person:[{role:"teamlead",inputTye:"text",value:"",credentials:{}},{role:"siteEnginner",inputTye:"text",value:"",credentials:{}},{role:"safetyOfficer",inputTye:"text",value:"",credentials:{}},{role:"foreman",inputTye:"text",value:"",credentials:{}},{role:"rigger",inputTye:"text",value:"",credentials:{}},{role:"rigger",inputTye:"text",value:"",credentials:{}},{role:"steelman",inputTye:"text",value:"",credentials:{}},{role:"welder",inputTye:"text",value:"",credentials:{}},{role:"electrician",inputTye:"text",value:"",credentials:{}},{role:"masonCarpenter",inputTye:"text",value:"",credentials:{}},{role:"masonCarpenter",inputTye:"text",value:"",credentials:{}},{role:"masonCarpenter",inputTye:"text",value:"",credentials:{}},{role:"labor",inputTye:"text",value:"",credentials:{}},{role:"labor",inputTye:"text",value:"",credentials:{}},{role:"labor",inputTye:"text",value:"",credentials:{}}]},J=Object(c.useState)({email:"",firstName:"",lastName:"",middleName:"",address:"",contactNum:"",region:"",commercialRemarks:"",technicalRemarks:"",team:[$],documents:{}}),V=Object(q.a)(J,2),Q=V[0],W=V[1];Object(c.useEffect)((function(){Y.post("".concat("https://icdi.herokuapp.com","/api/contractor/list")).then(function(){var t=Object(C.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==a.status){t.next=3;break}return t.next=3,e.current.init(a.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)})),Yt("#staticBackdrop").on("hide.bs.modal",le),Yt(".credential-dropdown li").on("click",(function(e){e.stopPropagation()}))}),[]),Object(c.useEffect)((function(){Yt(".fa-user-plus").on("click",(function(e){e.preventDefault(),Yt(this).parent().next().children(".dropdown").show("fast")})),Yt(".hide-fa-user-plus-dropdown").on("click",(function(e){e.preventDefault(),Yt(this).closest(".dropdown").hide("linear")})),Yt(".toastrDefaultError").click((function(){window.toastr.error("Lorem ipsum dolor sit amet, consetetur sadipscing elitr.")})),Yt("#team-container0").addClass("active"),setTimeout((function(){Yt("#team-container0").removeClass("active"),n(!1)}),1e3)}),[Q.team]);var K=function(e){return"custom-tabs-three-technical-tab"===e.target.id?o(!0):o(!1)},Z=function(e){B(Object(p.a)(Object(p.a)({},L),{},Object(P.a)({},e.target.name,e.target.value)))},X=function(e,t,a){var c=[],s=function(s){c.push(Object(j.jsxs)("li",{children:[Object(j.jsx)("i",{className:"fas fa-trash-restore-alt text-danger mr-3 cursor-pointer",onClick:function(e){e.stopPropagation(),ee(s,t,a,"remove-file")}}),Object(j.jsx)("a",{href:e[s],target:"_blank",rel:"noreferrer",children:s})]},s))};for(var n in e)s(n);return c},ee=function(){var e=Object(C.a)(w.a.mark((function e(t,a,c,s){var n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,r=Q.team[a],!s){e.next=10;break}return e.next=5,r.person[c].credentials[n];case 5:l=e.sent,delete r.person[c].credentials[n],Y.post("".concat("https://icdi.herokuapp.com","/api/file/delete"),{path:l.slice(l.indexOf("i/U")+2)}).then((function(e){})).catch((function(e){return console.log(e)})),e.next=11;break;case 10:r.person[c].credentials[n.name]=n.url;case 11:W(Object(p.a)({},Q));case 12:case"end":return e.stop()}}),e)})));return function(t,a,c,s){return e.apply(this,arguments)}}(),te=function(e,t,a){var c=e.target,s=Q.team[t];s.person[a].value=c.value,s.status=1,W(Object(p.a)({},Q))},ae=function(e){e.preventDefault();var t=e.target.value.replace(/ /g,"");ce(e.target.value).length>0&&t?k(Object(p.a)(Object(p.a)({},y),{},Object(P.a)({},t,!0))):(delete y[t],k(y))},ce=function(e){return Q.team.reduce((function(e,t){return e.push.apply(e,Object(U.a)(t.person)),e}),[]).filter((function(t){return t.value===e}))},se=function(e){W(Object(p.a)(Object(p.a)({},Q),{},Object(P.a)({},e.target.name,e.target.value)))},ne=function(t){var a={region:Q.region,team:Q.team,_email:Q.email,isUpdatedTeam:1};if(Q.team.length<1)return Et.error("Please create atleast 1 team");a="update"===t?Object(p.a)(Object(p.a)({},a),{},{_updatedby:O._id,updated_at:Ft(new Date).format("YYYY-MM-DD HH:mm:ss")}):Object(p.a)(Object(p.a)({},a),{},{_createdby:O._id}),Y.post("".concat("https://icdi.herokuapp.com","/api/contractor/").concat(S,"/update"),a).then(function(){var a=Object(C.a)(w.a.mark((function a(c){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("update"!==t){a.next=5;break}return a.next=3,e.current.update("_userId",Q);case 3:a.next=7;break;case 5:return a.next=7,e.current.add(Object(p.a)(Object(p.a)({},Q),{},{_userId:S}));case 7:Yt("#staticBackdrop").modal("hide"),Et.success(M);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e),Et.error(A)}))},re=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,c,s,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),e.t0=w.a.keys(Q);case 2:if((e.t1=e.t0()).done){e.next=9;break}if(a=e.t1.value,!(c=R(a,Q[a]))){e.next=7;break}return e.abrupt("return",Et.error(c));case 7:e.next=2;break;case 9:if(Q.email&&Q.firstName&&Q.lastName&&Q.address&&Q.contactNum){e.next=11;break}return e.abrupt("return",Et.error("Required fields is empty"));case 11:return s={email:Q.email,firstName:Q.firstName,lastName:Q.lastName,middleName:Q.middleName,address:Q.address,contactNum:Q.contactNum,role:"contractor",region:Q.region},e.prev=12,e.next=15,Y.post("".concat("https://icdi.herokuapp.com","/api/register/contractor"),s);case 15:200===(n=e.sent).status&&(E(n.data.userId),u(!0)),400===n.status&&Et.error(n.data.message),e.next=23;break;case 20:e.prev=20,e.t2=e.catch(12),console.log(e.t2);case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){Yt("#custom-tabs-three-form-tab").tab("show"),u(!1),v(!1),o(!1),W({email:"",firstName:"",lastName:"",middleName:"",address:"",contactNum:"",region:"",commercialRemarks:"",technicalRemarks:"",team:[$],documents:{}})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Partner Registration Table"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primary mb-4","data-toggle":"modal","data-target":"#staticBackdrop",children:"Add New"}),Object(j.jsx)(Ce,{getSelected:function(e){v(!0),E(e._userId),e.team="string"===typeof e.team?JSON.parse(e.team):e.team,e.documents="string"===typeof e.documents?JSON.parse(e.documents):e.documents,W(e),Yt("#staticBackdrop").modal("show")},header:[{title:"First Name",data:"firstName"},{title:"Last Name",data:"lastName"},{title:"Email",data:"email"},{title:"Middle Name",data:"middleName",visible:!1},{title:"Address",data:"address"},{title:"Contact Num",data:"contactNum"},{title:"Region",data:"region"},{title:"Status",data:"isUpdatedTeam",render:function(e,t,a){return-1===e?"incomplete":1===e?"for-approval":"reviewed"}}],ref:e,buttons:!0})]})]}),Object(j.jsx)(z,{title:f?"Update Partner Informatioin":"Add New Partner",size:"modal-xl",children:Object(j.jsx)("div",{className:"card-body row px-2 pb-0",children:Object(j.jsxs)("div",{className:"card card-primary card-outline card-tabs mb-0 w-100",children:[Object(j.jsx)("div",{className:"card-header p-0 pt-1 border-bottom-0",children:Object(j.jsxs)("ul",{className:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link active",onClick:K,id:"custom-tabs-three-form-tab","data-toggle":"pill",href:"#custom-tabs-three-form",role:"tab","aria-controls":"custom-tabs-three-form","aria-selected":"false",children:"pre-assessment"})}),(b||f)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:K,id:"custom-tabs-three-team-tab","data-toggle":"pill",href:"#custom-tabs-three-team",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Team"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:K,id:"custom-tabs-three-commercial-tab","data-toggle":"pill",href:"#custom-tabs-three-commercial",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Commercial"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:K,id:"custom-tabs-three-technical-tab","data-toggle":"pill",href:"#custom-tabs-three-technical",role:"tab","aria-controls":"custom-tabs-three-technical","aria-selected":"true",children:"Technical"})})]})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",style:{overflow:"hidden"},children:[Object(j.jsx)("div",{className:"tab-pane fade active show",id:"custom-tabs-three-form",role:"tabpanel","aria-labelledby":"custom-tabs-three-form-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"First Name"}),Object(j.jsx)("input",{onChange:se,value:Q.firstName,readOnly:b,name:"firstName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"First Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Last Name"}),Object(j.jsx)("input",{onChange:se,value:Q.lastName,readOnly:b,name:"lastName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Last Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Middle Name"}),Object(j.jsx)("input",{onChange:se,value:Q.middleName,name:"middleName",readOnly:b,type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Middle Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{onChange:function(e){f||se(e)},value:Q.email,readOnly:b||f,name:"email",type:"text",className:"form-control",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Address"}),Object(j.jsx)("input",{onChange:se,value:Q.address,readOnly:b,name:"address",type:"text",className:"form-control",placeholder:"Address"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Number"}),Object(j.jsx)("input",{onChange:se,value:Q.contactNum,name:"contactNum",readOnly:b,type:"text",className:"form-control",placeholder:"Contact Number"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Region"}),Object(j.jsx)("input",{onChange:se,value:Q.region||"",readOnly:b,name:"region",type:"number",className:"form-control",placeholder:"Region"})]}),!b&&!f&&Object(j.jsx)("div",{className:"col-12 modal-footer",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:re,children:"Next"})})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-team",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"col-12 mb-3 text-right",children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){n(!0);var e=Q.team.length?Q.team[0].title.split(" ")[1]:0;e=parseInt(e)+1,W((function(){return Object(p.a)(Object(p.a)({},Q),{},{team:[Object(p.a)(Object(p.a)({},$),{},{title:"Team ".concat(e)})].concat(Object(U.a)(Q.team))})}))},disabled:s,children:"New Team"})}),Q.team.map((function(e,t){return Object(j.jsxs)("div",{id:"team-container"+t,className:"row col-12 legend-container",children:[Object(j.jsxs)("div",{className:"col-12 pb-1 mb-4 mt-5 font-weight-bold legend-group",children:[e.title,e.status<=1&&Object(j.jsx)("i",{onClick:function(){return function(e){Q.team.splice(e,1),W(Object(p.a)({},Q))}(t)},className:Q.team.length>1?"fas fa-trash-restore-alt text-danger ml-3":"d-none"}),2===e.status&&Object(j.jsx)("i",{className:"fas fa-user-check text-success ml-3"})]}),Object(j.jsx)("div",{className:"relative",children:Object(j.jsxs)("div",{className:"px-3 pt-3 add-staff dropdown",children:[Object(j.jsx)("button",{type:"button",className:"hide-fa-user-plus-dropdown close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-5 col-md-6",children:[Object(j.jsx)("label",{children:"Select Position"}),Object(j.jsxs)("select",{onChange:Z,value:L.role,name:"role",className:"form-control",children:[Object(j.jsx)("option",{value:"",children:"Please Select"}),Object(j.jsx)("option",{value:"teamlead",children:"Project Supervisor/ Team Leader"}),Object(j.jsx)("option",{value:"foreman",children:"Foreman"}),Object(j.jsx)("option",{value:"siteEnginner",children:"Site Engineer"}),Object(j.jsx)("option",{value:"safetyOfficer",children:"Safety Officer"}),Object(j.jsx)("option",{value:"masonCarpenter",children:"Mason/Carpenter"}),Object(j.jsx)("option",{value:"electrician",children:"Electrician"}),Object(j.jsx)("option",{value:"rigger",children:"Structural Erector/ Rigger"}),Object(j.jsx)("option",{value:"labor",children:"Labor"})]})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Name"}),Object(j.jsx)("input",{type:"text",onChange:Z,value:L.value,name:"value",className:"form-control",placeholder:"Name"})]}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-1 col-md-6 d-flex",children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary align-bottom align-self-end",disabled:!L.value,onClick:function(e){return function(e,t){t.preventDefault();var a=Q.team[e];a.person.push(L);var c=Q.team;c[e]=a,W(Object(p.a)(Object(p.a)({},Q),{},{team:c})),B({role:"",inputTye:"text",value:""}),Yt(".add-staff.dropdown").hide("linear")}(t,e,Q.title)},children:"Save"})})]})]})}),Object(j.jsx)("div",{className:"col-lg-12 clearfix"}),e.person.map((function(a,c){return function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return e.type,Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsxs)("label",{htmlFor:"exampleInputPassword1",style:{display:"block"},children:[Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsxs)("a",{href:"#/",className:"text-left cursor-pointer","data-toggle":"dropdown",children:[Object(j.jsx)("i",{className:"fas fa-paperclip"})," Attach credentials"]}),Object(j.jsxs)("ul",{className:"dropdown-menu credential-dropdown w-100 px-2",children:[2!==c&&Object(j.jsx)("li",{children:Object(j.jsx)("label",{htmlFor:"ID".concat(a),className:"btn btn-primary w-100",children:"Add New"})}),X(e.credentials,t,a),Object(j.jsx)(G,{props:{id:a,path:"/api/upload/".concat(S,"/file")},callback:function(e){ee(e,t,a)}})]})]}),Object(j.jsx)("div",{children:_(e.role)})]}),Object(j.jsx)("input",{type:"text",value:e.value,onChange:function(e){c<=1&&(ae(e),te(e,t,a))},name:e.role,disabled:c>1,className:"form-control",placeholder:""})]},a)}(a,t,c,e.status)})),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{className:e.remarks?"form-group col-12 p-3 bg-warning":"d-none",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{name:"",id:"",cols:"30",rows:"4",className:"form-control",value:e.remarks||"",readOnly:!0})]})]},t)}))]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-commercial",role:"tabpanel","aria-labelledby":"custom-tabs-three-commercial-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"bznsPermit",title:"Business Permit",src:Q.documents.bznsPermit},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{bznsPermit:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"certOfReg",title:"Certificate of Registration",src:Q.documents.certOfReg},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{certOfReg:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"DTISEC",title:"DTI/SEC",src:Q.documents.DTISEC},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{DTISEC:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"articleOfInc",title:"Articles of Incorporation",src:Q.documents.articleOfInc},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{articleOfInc:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"AMO",title:"AMO",src:Q.documents.AMO},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{AMO:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"PCAB",title:"PCAB Liscense",src:Q.documents.PCAB},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{PCAB:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"form2316",title:"Form 2316",src:Q.documents.form2316},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{form2316:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"auditFinStatement",title:"Audited Financial Statements",src:Q.documents.auditFinStatement},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{auditFinStatement:e.data})}))}})}),Object(j.jsxs)("div",{className:Q.commercialRemarks?"form-group col-12 p-3 bg-warning":"d-none",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{value:Q.commercialRemarks||"",name:"commercialRemarks",cols:"30",rows:"4",className:"form-control",readOnly:!0})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-technical",role:"tabpanel","aria-labelledby":"custom-tabs-three-technical-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"qualityPlan",title:"Quality Plan, ITP",src:Q.documents.qualityPlan},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{qualityPlan:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"safetyPlan",title:"Safety Plan, JHA, RA, Risk Matrix",src:Q.documents.safetyPlan},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{safetyPlan:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"methodStatement",title:"Method Statement",src:Q.documents.methodStatement},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{methodStatement:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"stratPlan",title:"Strategy Plan",src:Q.documents.stratPlan},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{stratPlan:e.data})}))}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(H,{props:{email:Q.email,userId:S,name:"emerPrepResponse",title:"Emergency Preparedness & Response",src:Q.documents.emerPrepResponse},callback:function(e){W(Object(p.a)(Object(p.a)({},Q),{},{documents:Object(p.a)(Object(p.a)({},Q.documents),{},{emerPrepResponse:e.data})}))}})}),Object(j.jsxs)("div",{className:Q.technicalRemarks?"form-group col-12 p-3 bg-warning":"d-none",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Remarks"}),Object(j.jsx)("textarea",{value:Q.technicalRemarks||"",name:"technicalRemarks",cols:"30",rows:"4",className:"form-control",readOnly:!0})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-cert",role:"tabpanel","aria-labelledby":"custom-tabs-three-cert-tab"})]})}),Object(j.jsxs)("div",{className:"card-footer text-right",children:[Object(j.jsx)("button",{type:"button",onClick:function(){return ne("update")},disabled:!S,className:i&&f?"btn btn-primary":"d-none",children:"Update"}),Object(j.jsx)("button",{type:"button",onClick:ne,disabled:!S,className:i&&!f?"btn btn-primary":"d-none",children:"Finish"})]})]})})})]})};var Rt=function(){return Object(j.jsx)(d.a,{children:Object(j.jsxs)(m.d,{children:[Object(j.jsx)(ve,{exact:!0,path:"/",component:y,title:"dashboard"}),Object(j.jsx)(ve,{exact:!0,path:"/manage-user",component:De,title:"Manage Users"}),Object(j.jsx)(ve,{exact:!0,path:"/manage-message",component:ze,title:"Messages"}),Object(j.jsx)(ve,{exact:!0,path:"/manage-sites",component:ct,title:"Messages"}),Object(j.jsx)(ve,{exact:!0,path:"/all-sites",component:kt,title:"ALL SITES"}),Object(j.jsx)(ve,{exact:!0,path:"/saq-files",component:He,title:"SAQ FILES"}),Object(j.jsx)(ve,{exact:!0,path:"/saq-sites",component:ct,title:"SAQ Sites"}),Object(j.jsx)(ve,{exact:!0,path:"/site-evaluation-summary",component:rt,title:"Site evaluation summary"}),Object(j.jsx)(ve,{exact:!0,path:"/site-technical-evaluation",component:ot,title:"Site technical evaluation"}),Object(j.jsx)(ve,{exact:!0,path:"/site-technical-summary",component:jt,title:"Site technical summary"}),Object(j.jsx)(ve,{exact:!0,path:"/site-construction",component:u,title:"Site Construction"}),Object(j.jsx)(ve,{exact:!0,path:"/site-legal-assessment",component:pt,title:"Site legal assessment"}),Object(j.jsx)(ve,{exact:!0,path:"/site-legal-summary",component:ft,title:"Site legal Summary"}),Object(j.jsx)(ve,{exact:!0,path:"/approved-site",component:Pt,title:"APPROVED SITES"}),Object(j.jsx)(ve,{exact:!0,path:"/authorization-pages",component:Fe,title:"Page Authorization"}),Object(j.jsx)(ve,{exact:!0,path:"/partner-evaluation",component:Me,title:"team evaluation"}),Object(j.jsx)(ve,{exact:!0,path:"/partner-eval-summary",component:Ue,title:"contractor evaluation Summary "}),Object(j.jsx)(ve,{exact:!0,path:"/partner-documents",component:Q,title:"My Documents"}),Object(j.jsx)(ve,{exact:!0,path:"/partner-payment",component:u,title:"Payment History"}),Object(j.jsx)(ve,{exact:!0,path:"/partner-progress-report",component:u,title:"Progress Report"}),Object(j.jsx)(ve,{exact:!0,path:"/partner-registration",component:Tt,title:"Partner Registration"}),Object(j.jsx)(ve,{exact:!0,path:"/message",component:ze,title:"Messages"}),Object(j.jsx)(ve,{exact:!0,path:"/reports",component:u,title:"Reports"}),Object(j.jsx)(ve,{exact:!0,path:"/regional-team",component:u,title:"Regional Team"}),Object(j.jsx)(ve,{exact:!0,path:"/area-supervisor-team",component:u,title:"Regional Team"}),Object(j.jsx)(m.b,{exact:!0,path:"/login",component:B}),Object(j.jsx)(m.b,{exact:!0,path:"/register",component:ke}),Object(j.jsx)(m.b,{exact:!0,path:"/reset-pass",component:St}),Object(j.jsx)(m.b,{exact:!0,path:"/404",component:b}),Object(j.jsx)(m.b,{path:"*",component:b})]})})},At=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))},Mt=new i.a;r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsxs)(o.a,{client:Mt,children:[Object(j.jsx)(Rt,{}),Object(j.jsx)(l.ReactQueryDevtools,{initialIsOpen:!1})]})}),document.getElementById("root")),At()}},[[56,1,2]]]);
//# sourceMappingURL=main.5e6f6ed1.chunk.js.map