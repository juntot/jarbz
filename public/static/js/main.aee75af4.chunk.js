(this.webpackJsonpjarb=this.webpackJsonpjarb||[]).push([[0],{29:function(e,t,a){},45:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(34),r=a.n(n),l=a(35),i=a(58),o=a(57),d=(a(45),a(9)),m=a(10),j=(a(29),a(0)),b=function(){var e=Object(m.g)();return Object(j.jsxs)("div",{className:"error-page",children:[Object(j.jsx)("div",{className:"backdrop-text",children:Object(j.jsx)("i",{className:"fas fa-broadcast-tower"})}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(j.jsx)("h1",{className:"text-center font-weight-bold",children:"404"}),Object(j.jsx)("p",{children:"There's nothing in here"}),Object(j.jsx)("div",{className:"page-error-message",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm py-2",onClick:function(){e.goBack()},children:"Go Back"})})]})]})},u=function(){return Object(j.jsxs)("div",{className:"error-page",children:[Object(j.jsx)("div",{className:"backdrop-text",children:Object(j.jsx)("i",{className:"fas fa-broadcast-tower"})}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Object(j.jsx)("h1",{className:"text-center font-weight-bold",children:"503"}),Object(j.jsx)("p",{children:"Page under construction"}),Object(j.jsx)("div",{className:"page-error-message"})]})]})},p=a(16),h=a(17),x="",f=new(function(){function e(){if(Object(p.a)(this,e),this.isAuth=!1,this.user="",this.role="",this._id="",this.token="",this.userInfo="",this.cookieName="jarb",this.getCookieValue(this.cookieName)&&localStorage.getItem("user")){var t=JSON.parse(localStorage.getItem("user"));this.isAuth=!0,this._id=t.userId,this.user=t.user,this.role=t.role,this.token=t.token,this.userInfo=t}}return Object(h.a)(e,[{key:"login",value:function(e,t){return localStorage.setItem("user",JSON.stringify(e)),this.token=e.token||"",this._id=e.userId||"",this.user=e.user||"",this.role=e.role||"",this.isAuth=!0,this.userInfo=e,this.setCookieValue(this.cookieName,e.token),this.startTimer(),t()}},{key:"logout",value:function(e){return localStorage.clear(),this.isAuth=!1,this.deleteAllCookies(),e()}},{key:"startTimer",value:function(){var e=this;this.clearIdleTime(),document.body.addEventListener("mousemove",this.startIdleTime),document.body.addEventListener("scroll",this.startIdleTime),document.body.addEventListener("keydown",this.startIdleTime),document.body.addEventListener("click",this.startIdleTime),document.body.addEventListener("touchstart",this.startIdleTime),window.onblur=function(){e.startIdleTime()}}},{key:"startIdleTime",value:function(){var e=this;x=setTimeout((function(){localStorage.clear(),e.isAuth=!1}),384e4)}},{key:"clearIdleTime",value:function(){clearTimeout(x)}},{key:"setCookieValue",value:function(e,t){var a=new Date,c=a.getTime()+36e5;a.setTime(c),document.cookie="".concat(e,"=").concat(t,";expires=").concat(a.toUTCString(),";path=/;secure")}},{key:"getCookieValue",value:function(e){var t;return(null===(t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))||void 0===t?void 0:t.pop())||""}},{key:"deleteAllCookies",value:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=e[t],c=a.indexOf("="),s=c>-1?a.substr(0,c):a;document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;secure"}}}]),e}()),O=window.$,v=window.Chart,g=function(){return Object(c.useEffect)((function(){var e=O("#salesChart").get(0).getContext("2d");new v(e,{type:"line",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Digital Goods",backgroundColor:"rgba(60,141,188,0.9)",borderColor:"rgba(60,141,188,0.8)",pointRadius:!1,pointColor:"#3b8bba",pointStrokeColor:"rgba(60,141,188,1)",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(60,141,188,1)",data:[28,48,40,19,86,27,90]},{label:"Electronics",backgroundColor:"rgba(210, 214, 222, 1)",borderColor:"rgba(210, 214, 222, 1)",pointRadius:!1,pointColor:"rgba(210, 214, 222, 1)",pointStrokeColor:"#c1c7d1",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[65,59,80,81,56,55,40]}]},options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]}}})}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-4 col-12",children:Object(j.jsxs)("div",{className:"info-box bg-info",children:[Object(j.jsx)("span",{className:"info-box-icon",children:Object(j.jsx)("i",{className:"far fa-bookmark"})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:"Required Action"}),Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"progress-bar",style:{width:"70%"}})}),Object(j.jsx)("span",{className:"info-box-number",children:"41,410"})]})]})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-4 col-12",children:Object(j.jsxs)("div",{className:"info-box bg-success",children:[Object(j.jsx)("span",{className:"info-box-icon",children:Object(j.jsx)("i",{className:"far fa-thumbs-up"})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:"For Approval"}),Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"progress-bar",style:{width:"70%"}})}),Object(j.jsx)("span",{className:"info-box-number",children:"41,410"})]})]})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-4 col-12",children:Object(j.jsxs)("div",{className:"info-box bg-warning",children:[Object(j.jsx)("span",{className:"info-box-icon",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:"Non-Conformance"}),Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"progress-bar",style:{width:"70%"}})}),Object(j.jsx)("span",{className:"info-box-number",children:"41,410"})]})]})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"card card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Overall Towers Progress Reports"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-8",children:[Object(j.jsx)("p",{className:"text-center",children:Object(j.jsx)("strong",{children:"Progress Year 2021"})}),Object(j.jsx)("div",{className:"chart",children:Object(j.jsx)("canvas",{id:"salesChart",style:{height:"180px",display:"block",width:"574px"},className:"chartjs-render-monitor"})})]}),Object(j.jsxs)("div",{className:"col-md-4",children:[Object(j.jsx)("p",{className:"text-center",children:Object(j.jsx)("strong",{children:"Site Inspection Status"})}),Object(j.jsxs)("div",{className:"progress-group",children:["Foundation",Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"80"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-primary",style:{width:"80%"}})})]}),Object(j.jsxs)("div",{className:"progress-group",children:["Grounding Layout",Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"55"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-danger",style:{width:"75%"}})})]}),Object(j.jsxs)("div",{className:"progress-group",children:[Object(j.jsx)("span",{className:"progress-text",children:"Form Works"}),Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"35"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-success",style:{width:"60%"}})})]}),Object(j.jsxs)("div",{className:"progress-group",children:["Concreting",Object(j.jsxs)("span",{className:"float-right",children:[Object(j.jsx)("b",{children:"25"}),"/100"]}),Object(j.jsx)("div",{className:"progress progress-sm",children:Object(j.jsx)("div",{className:"progress-bar bg-warning",style:{width:"50%"}})})]})]})]})}),Object(j.jsx)("div",{className:"card-footer",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block border-right",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-success",children:[Object(j.jsx)("i",{className:"fas fa-caret-up"})," 17%"]})}),Object(j.jsx)("span",{className:"description-text",children:"SITE COMPLETION"})]})}),Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block border-right",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-warning",children:[Object(j.jsx)("i",{className:"fas fa-caret-left"})," 100"]})}),Object(j.jsx)("span",{className:"description-text",children:"ONGOING TOWER CONSTRUCTION"})]})}),Object(j.jsx)("div",{className:"col-sm-4 col-6",children:Object(j.jsxs)("div",{className:"description-block",children:[Object(j.jsx)("span",{children:"\xa0"}),Object(j.jsx)("h5",{className:"description-header",children:Object(j.jsxs)("span",{className:"description-percentage text-success",children:[Object(j.jsx)("i",{className:"fas fa-caret-up"})," 20"]})}),Object(j.jsx)("span",{className:"description-text",children:"DELAYED TOWER CONSTRUCTION"})]})})]})})]})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"card card-success",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Progress Reports"})}),Object(j.jsx)("div",{className:"card-body"}),Object(j.jsx)("div",{className:"card-footer"})]})})})]})},N=function(){return Object(j.jsx)(j.Fragment,{children:(f.role,Object(j.jsx)(g,{}))})},y=a(4),k=a.n(y),w=a(7),C=a(8),P=a(25),D=a(24),I=(a(52),a.p+"static/media/icdi_mini_logo.ac2e8c48.png"),S=new(function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,[{key:"post",value:function(){var e=Object(w.a)(k.a.mark((function e(t,a){var c,s,n=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.length>2&&void 0!==n[2]&&n[2],e.next=3,fetch(t,{method:"POST",headers:c?{Authorization:"Bearer ".concat(f.token)}:{Authorization:"Bearer ".concat(f.token),"Content-Type":"application/json"},body:c?a:JSON.stringify(a)});case 3:return s=e.sent,e.next=6,s.json();case 6:return e.t0=e.sent,e.t1=s.status,e.abrupt("return",{data:e.t0,status:e.t1});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Authorization:"Bearer ".concat(f.token),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.t0=e.sent,e.t1=a.status,e.abrupt("return",{data:e.t0,status:e.t1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Y=a(38),E=a.n(Y),M={email:{presence:{message:"Cannot be blank."},email:{message:"Please enter a valid email address"}},firstName:{presence:{message:"Cannot be blank."},format:{pattern:"[a-z A-Z.]+",flags:"i",message:"can only contain a-z"},length:{minimum:1,message:"at least 5 characters"}},lastName:{presence:{message:"Cannot be blank."},format:{pattern:"[a-z A-Z]+",flags:"i",message:"can only contain a-z"},length:{minimum:2,message:"at least 5 characters"}},address:{presence:{message:"Cannot be blank."},format:{pattern:"[a-z A-Z0-9]+",flags:"i",message:"can only contain a-z and 0-9"},length:{minimum:5,message:"at least 5 characters"}},contactNum:{presence:{message:"Cannot be blank."},format:{pattern:new RegExp("^(09|\\+639)\\d{9}$"),message:"Invalid mobile number"},length:{minimum:5,message:"at least 5 characters"}}},F=function(e,t){var a=M[e],c=E()(Object(C.a)({},e,t),Object(C.a)({},e,a));return console.log(c),c&&c.hasOwnProperty([e])?c[e][0]:null},A="An error encountered please try again",T="Success",R=function(e){var t={teamlead:"Project Supervisor/ Team Leader",foreman:"Foreman",siteEnginner:"Site Engineer",safetyOfficer:"Safety Officer",masonCarpenter:"Mason/Carpenter",electrician:"Electrician",rigger:"Structural Erector/ Rigger",labor:"Labor"};return e?t[e]:t},_=window.toastr;_.options={debug:!1,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,fadeIn:300,fadeOut:1e3,timeOut:1e3};var L=function(e){Object(P.a)(a,e);var t=Object(D.a)(a);function a(e){var c;return Object(p.a)(this,a),(c=t.call(this,e)).handleChange=function(e){c.setState(Object(C.a)({},e.target.name,e.target.value))},c.login=function(){var e=Object(w.a)(k.a.mark((function e(t){var a,s,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,S.post("".concat("https://icdi.herokuapp.com","/api/login"),{email:c.state.email,password:c.state.password});case 4:200===(a=e.sent).status?(s=c.location.state||{from:{pathname:"/"}},n=s.from,f.login(a.data,(function(){c.history.push(n)}))):_.error(a.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),_.error(A);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),c.register=function(e){e.preventDefault(),c.history.push("/register")},c.validate=function(e){var t,a;e.preventDefault();var s=e.target,n=F([s.name],s.value);n?c.setState({errMsg:(t={},Object(C.a)(t,s.name,n),Object(C.a)(t,"count",1),t)}):c.setState({errMsg:(a={},Object(C.a)(a,s.name,n),Object(C.a)(a,"count",0),a)})},c.history=e.history,c.location=e.location,c.state={email:"",password:"",errMsg:{count:0}},c}return Object(h.a)(a,[{key:"render",value:function(){return f.isAuth?this.history.goBack():Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row no-gutter",children:[Object(j.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),Object(j.jsx)("div",{className:"col-md-6 bg-light",children:Object(j.jsx)("div",{className:"login d-flex align-items-center",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-9 col-xl-6 mx-auto clr-primary",children:[Object(j.jsx)("img",{src:I,alt:"",style:{width:"100%",height:"auto"}}),Object(j.jsxs)("h3",{className:"display-4",children:["4",Object(j.jsx)("sup",{children:"th"}),"JARB"]}),Object(j.jsx)("p",{className:"text-muted mb-4",children:"Login."}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{id:"inputEmail",name:"email",onChange:this.handleChange,value:this.state.email,onBlur:this.validate,type:"text",placeholder:"Email",required:"",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),Object(j.jsx)("small",{className:"text-danger",children:this.state.errMsg.email||""})]}),Object(j.jsx)("div",{className:"form-group mb-3",children:Object(j.jsx)("input",{id:"inputPassword",name:"password",onChange:this.handleChange,value:this.state.password,type:"password",placeholder:"Password",required:"",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4 text-primary"})}),Object(j.jsx)("div",{className:"mt-4",children:Object(j.jsx)("button",{type:"submit",onClick:this.login,className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm py-3",children:"Sign in"})}),Object(j.jsxs)("p",{className:"col-12 pt-2 text-center",children:[Object(j.jsx)("span",{className:"font-weight-bold text-secondary",children:"Click here to"})," ",Object(j.jsx)("a",{href:"/#",onClick:this.register,children:"Register"})]})]})]})})})})})]})})}}]),a}(c.Component),B=a(22),q=a(2),z=a(3),U=function(e){var t=e.children,a=e.title,c=e.size,s=void 0===c?"modal-lg":c,n=e.id,r=void 0===n?"staticBackdrop":n,l="modal-dialog ".concat(s);return Object(j.jsx)("div",{className:"modal fade",id:r,"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{className:l,children:Object(j.jsxs)("div",{className:"modal-content card card-primary",children:[Object(j.jsxs)("div",{className:"modal-header card-header",children:[Object(j.jsx)("h3",{className:"card-title",children:a||""}),Object(j.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),t]})})})},G=function(e){var t=e.props,a=function(e,a){var c=document.getElementById("img".concat(t.name)),s=document.getElementById("_newtablink".concat(t.name)),n=URL.createObjectURL(e.target.files[0]);c.src=n,s.href=a,f.userInfo.documents[e.target.name]=a,localStorage.setItem("user",JSON.stringify(f.userInfo)),c.onload=function(){URL.revokeObjectURL(c.src)}},c=function(){var e=Object(w.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=new FormData).append("file",t.target.files[0]),c.append("name",t.target.name),S.post("".concat("https://icdi.herokuapp.com","/api/contractor/").concat(f._id,"/documents"),c,"file").then((function(e){a(t,e.data.data)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"thumbnail",children:[Object(j.jsx)("label",{htmlFor:"ID".concat(t.name),className:"w-100 px-3 my-3",children:t.title||""}),Object(j.jsxs)("div",{className:"docu-attachment",children:[Object(j.jsx)("img",{style:{height:"".concat(t.height||200,"px"),width:"100%",background:"gray",objectFit:"cover"},src:t.src||"https://images.unsplash.com/photo-1540206395-68808572332f?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=581&q=80",id:"img".concat(t.name),alt:"DO174"}),Object(j.jsx)("div",{className:"attachment-option",children:Object(j.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(j.jsx)("label",{htmlFor:"ID".concat(t.name),children:Object(j.jsx)("i",{className:"fas fa-camera-retro"})}),Object(j.jsx)("a",{href:t.src,id:"_newtablink".concat(t.name),target:"_blank",rel:"noreferrer",children:Object(j.jsx)("i",{className:"far fa-images"})})]})})]}),Object(j.jsx)("input",{type:"file",name:t.name,onChange:c,accept:"image/*",id:"ID".concat(t.name),className:"d-none"})]})},H=(a(53),window.$),$=window.toastr,V=function(){var e=Object(c.useState)(!1),t=Object(z.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(z.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)({}),d=Object(z.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)({role:"",inputTye:"text",value:""}),p=Object(z.a)(u,2),h=p[0],x=p[1],O={title:"Team 1",person:[{role:"teamlead",inputTye:"text",value:""},{role:"foreman",inputTye:"text",value:""},{role:"siteEnginner",inputTye:"text",value:""},{role:"safetyOfficer",inputTye:"text",value:""},{role:"masonCarpenter",inputTye:"text",value:""},{role:"masonCarpenter",inputTye:"text",value:""},{role:"electrician",inputTye:"text",value:""},{role:"rigger",inputTye:"text",value:""},{role:"rigger",inputTye:"text",value:""},{role:"rigger",inputTye:"text",value:""},{role:"labor",inputTye:"text",value:""}]},v=Object(c.useState)({email:"",firstName:"",lastName:"",middleName:"",address:"",contactNum:"",civilStatus:"",contactPerson:"",contactNum2:"",bankNumber:"",bankName:"",bankBranch:"",region:"",team:[O],documents:{}}),g=Object(z.a)(v,2),N=g[0],y=g[1];Object(c.useEffect)((function(){S.get("".concat("https://icdi.herokuapp.com","/api/contractor/").concat(f._id,"/details")).then((function(e){200===e.status&&(e.data.team=JSON.parse(e.data.team),e.data.documents=JSON.parse(e.data.documents),y(Object(q.a)(Object(q.a)({},N),{},{team:e.data.team,documents:e.data.documents})))})).catch((function(e){return console.log(e)}))}),[]),Object(c.useEffect)((function(){H(".fa-user-plus").on("click",(function(e){e.preventDefault(),H(this).parent().next().children(".dropdown").show("fast")})),H(".hide-fa-user-plus-dropdown").on("click",(function(e){e.preventDefault(),H(this).closest(".dropdown").hide("linear")})),H(".toastrDefaultError").click((function(){window.toastr.error("Lorem ipsum dolor sit amet, consetetur sadipscing elitr.")})),H("#team-container0").addClass("active"),setTimeout((function(){H("#team-container0").removeClass("active"),s(!1)}),1e3)}),[N.team]);var k=function(e){return"custom-tabs-three-docu-tab"===e.target.id?i(!0):i(!1)},w=function(){s(!0);var e=N.team.length?N.team[0].title.split(" ")[1]:0;e=parseInt(e)+1,y((function(){return Object(q.a)(Object(q.a)({},N),{},{team:[Object(q.a)(Object(q.a)({},O),{},{title:"Team ".concat(e)})].concat(Object(B.a)(N.team))})}))},P=function(e){x(Object(q.a)(Object(q.a)({},h),{},Object(C.a)({},e.target.name,e.target.value)))},D=function(e,t,a){var c=e.target;N.team[t].person[a].value=c.value,y(Object(q.a)({},N))},I=function(e){e.preventDefault();var t=e.target.value.replace(/ /g,"");Y(e.target.value).length>0&&t?b(Object(q.a)(Object(q.a)({},m),{},Object(C.a)({},t,!0))):(delete m[t],b(m))},Y=function(e){return N.team.reduce((function(e,t){return e.push.apply(e,Object(B.a)(t.person)),e}),[]).filter((function(t){return t.value===e}))},E=function(e){y(Object(q.a)(Object(q.a)({},N),{},Object(C.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card card-primary card-outline card-tabs",children:[Object(j.jsx)("div",{className:"card-header p-0 pt-1 border-bottom-0",children:Object(j.jsxs)("ul",{className:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link active",onClick:k,id:"custom-tabs-three-form-tab","data-toggle":"pill",href:"#custom-tabs-three-form",role:"tab","aria-controls":"custom-tabs-three-form","aria-selected":"false",children:"pre-assessment"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:k,id:"custom-tabs-three-team-tab","data-toggle":"pill",href:"#custom-tabs-three-team",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Commercial"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",onClick:k,id:"custom-tabs-three-docu-tab","data-toggle":"pill",href:"#custom-tabs-three-docu",role:"tab","aria-controls":"custom-tabs-three-docu","aria-selected":"true",children:"Technical"})})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",style:{overflow:"hidden"},children:[Object(j.jsx)("div",{className:"tab-pane fade active show",id:"custom-tabs-three-form",role:"tabpanel","aria-labelledby":"custom-tabs-three-form-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Name of Contractor"}),Object(j.jsx)("input",{defaultValue:f.userInfo.firstName,readOnly:!0,name:"contractorName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Address"}),Object(j.jsx)("input",{defaultValue:f.userInfo.address,readOnly:!0,name:"location",type:"text",className:"form-control",placeholder:"Location"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Region"}),Object(j.jsx)("input",{defaultValue:N.region,name:"region",type:"text",className:"form-control",placeholder:"Region"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{defaultValue:f.userInfo.email,readOnly:!0,type:"text",className:"form-control",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Person"}),Object(j.jsx)("input",{onChange:E,value:N.contactPerson,name:"contactPerson",type:"text",className:"form-control",placeholder:"Contact Person"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Number"}),Object(j.jsx)("input",{onChange:E,value:N.contactNum2,name:"contaactNum2",type:"text",className:"form-control",placeholder:"Contact Number"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-team",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"col-12 mb-3 text-right",children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:w,disabled:a,children:"New Team"})}),N.team.map((function(e,t){return Object(j.jsxs)("div",{id:"team-container"+t,className:"row col-12 legend-container",children:[Object(j.jsxs)("div",{className:"col-12 pb-1 mb-4 mt-5 font-weight-bold legend-group",children:[e.title,Object(j.jsx)("i",{onClick:function(){return function(e){N.team.splice(e,1),y(Object(q.a)({},N))}(t)},className:N.team.length>1?"fas fa-trash-restore-alt text-danger ml-3":"d-none"}),Object(j.jsx)("i",{className:"fas fa-user-plus text-info ml-3"})]}),Object(j.jsx)("div",{className:"relative",children:Object(j.jsxs)("div",{className:"px-3 pt-3 add-staff dropdown",children:[Object(j.jsx)("button",{type:"button",className:"hide-fa-user-plus-dropdown close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-5 col-md-6",children:[Object(j.jsx)("label",{children:"Select Position"}),Object(j.jsxs)("select",{onChange:P,value:h.role,name:"role",className:"form-control",children:[Object(j.jsx)("option",{value:"",children:"Please Select"}),Object(j.jsx)("option",{value:"teamlead",children:"Project Supervisor/ Team Leader"}),Object(j.jsx)("option",{value:"foreman",children:"Foreman"}),Object(j.jsx)("option",{value:"siteEnginner",children:"Site Engineer"}),Object(j.jsx)("option",{value:"safetyOfficer",children:"Safety Officer"}),Object(j.jsx)("option",{value:"masonCarpenter",children:"Mason/Carpenter"}),Object(j.jsx)("option",{value:"electrician",children:"Electrician"}),Object(j.jsx)("option",{value:"rigger",children:"Structural Erector/ Rigger"}),Object(j.jsx)("option",{value:"labor",children:"Labor"})]})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Name"}),Object(j.jsx)("input",{type:"text",onChange:P,value:h.value,name:"value",className:"form-control",placeholder:"Name"})]}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-1 col-md-6 d-flex",children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary align-bottom align-self-end",disabled:!h.value,onClick:function(e){return function(e,t){t.preventDefault();var a=N.team[e];a.person.push(h);var c=N.team;c[e]=a,y(Object(q.a)(Object(q.a)({},N),{},{team:c})),x({role:"",inputTye:"text",value:""}),H(".add-staff.dropdown").hide("linear")}(t,e,N.title)},children:"Save"})})]})]})}),Object(j.jsx)("div",{className:"col-lg-12 clearfix"}),e.person.map((function(e,a){return function(e,t,a){return e.type,Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:R(e.role)}),Object(j.jsx)("input",{type:"text",value:e.value,onChange:function(e){I(e),D(e,t,a)},name:e.role,className:"form-control",placeholder:""})]},a)}(e,t,a)}))]},t)}))]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-docu",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"DO174",title:"DOLE DO174",src:N.documents.DO174}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BZNPERMIT",title:"Business Permit",src:N.documents.BZNPERMIT}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"COR",title:"Certificate of Registration",src:N.documents.COR}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"SEC",title:"SEC Registration/DTI",src:N.documents.SEC}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"PCAB",title:"PCAB Liscense",src:N.documents.PCAB}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Billing / Invoice / O.R",src:N.documents.BIO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Quality Plan with ITP",src:N.documents.BIO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Safety Plan with JHA, RA and Risk Matrix",src:N.documents.BIO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Method Statement",src:N.documents.BIO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Strategy plan",src:N.documents.BIO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"ERP (Emergency Response & Preparedness)",src:N.documents.BIO}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Financial Statement",src:N.documents.BIO}})})]})})]})}),Object(j.jsx)("div",{className:"card-footer text-right",children:Object(j.jsx)("button",{type:"button",onClick:function(){var e={team:N.team};S.post("".concat("https://icdi.herokuapp.com","/api/contractor/").concat(f._id,"/update"),e).then((function(e){f.userInfo=Object(q.a)(Object(q.a)({},f.userInfo),N),localStorage.setItem("user",JSON.stringify(f.userInfo)),$.success(T)})).catch((function(e){console.log(e),$.error(A)}))},className:l?"btn btn-primary":"d-none",children:"Finish"})})]}),Object(j.jsxs)(U,{title:"Add More",size:"modal-xl",children:[Object(j.jsx)("div",{className:"card-body row"}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:w,children:"Add"})]})]})]})},J=a(40),Q=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-admin-1",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["Manage Users",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-admin-1",children:Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{to:"/manage-user",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Users"})]})})})]}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-admin-2",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["Authorization",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-admin-2",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{to:"/authorization-pages",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Pages"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/authorization-reports",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Reports"})]})})]})]}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-admin-3",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["Approval Cycle",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-admin-3",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{to:"#/authorization-pages",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Pages"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"#/authorization-reports",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Reports"})]})})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/manage-sites",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-map-marked-alt"}),Object(j.jsx)("p",{children:"Manage Sites"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/manage-message",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon far fa-envelope"}),Object(j.jsx)("p",{children:"Manage Messages"})]})})]})},W=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"user-panel pt-3 pb-3 mb-3 d-flex align-items-center",children:[Object(j.jsx)("div",{className:"image",children:Object(j.jsx)("i",{className:"fas fa-user-circle",style:{color:"white",fontSize:"3em"}})}),Object(j.jsxs)("div",{className:"info brand-text",children:[Object(j.jsx)("a",{href:"/#",className:"d-block","data-toggle":"modal","data-target":"#userProfileModal",children:f.user}),Object(j.jsx)("a",{href:"/#",className:"d-block",onClick:function(e){f.logout((function(){return Object(j.jsx)(m.a,{to:"/login"})}))},children:"Logout"})]})]})})},K=function(){return Object(j.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(j.jsx)(W,{}),Object(j.jsx)("div",{className:"sidebarx",children:Object(j.jsx)("nav",{className:"mt-2",children:Object(j.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(j.jsx)("li",{className:"nav-item menu-open",children:Object(j.jsxs)(d.b,{exact:!0,to:"/",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(j.jsx)("p",{children:"Dashboard"})]})}),Object(j.jsx)(Q,{})]})})})]})},Z=function(e){var t=e.page||[];return Object(j.jsx)(j.Fragment,{children:t.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.path,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:e.title})]})},e.path)}))})},X=function(){var e=Object(c.useState)([{title:"Documents",path:"/partner-documents"}]),t=Object(z.a)(e,1)[0];return Object(c.useEffect)((function(){}),[]),Object(j.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(j.jsx)(W,{}),Object(j.jsx)("div",{className:"sidebarx",children:Object(j.jsx)("nav",{className:"mt-2",children:Object(j.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(j.jsx)("li",{className:"nav-item menu-open",children:Object(j.jsxs)(d.b,{exact:!0,to:"/",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(j.jsx)("p",{children:"Dashboard"})]})}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-th"}),Object(j.jsxs)("p",{children:["Sites",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-0",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/all-sites",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"All Sites"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"My Sites"})]})})]})]}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-1",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["ICDI Team",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-1",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Regional Managers"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Area Supervisor"})]})})]})]}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-2",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-book"}),Object(j.jsxs)("p",{children:["PAGES",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-collapse-2",children:Object(j.jsx)(Z,{page:t})})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-chart-line"}),Object(j.jsx)("p",{children:"Progress"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-chart-bar"}),Object(j.jsx)("p",{children:"Reports"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/contractor-payment",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fab fa-cc-visa"}),Object(j.jsx)("p",{children:"Payment History"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"/#",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon far fa-envelope"}),Object(j.jsx)("p",{children:"Messages"})]})})]})})})]})},ee=window.$,te=function(e){var t=e.props;return Object(c.useEffect)((function(){ee(".collapse").on("show.bs.collapse",(function(){ee(this).parent().children(":first-child").addClass("collapse-open")})),ee(".collapse").on("hide.bs.collapse",(function(e){ee(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("audit")?t.hasOwnProperty("audit")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-file-signature"}),Object(j.jsxs)("p",{children:["Audit",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-0",children:[t.audit.MAINAUDIT&&Object(j.jsxs)("li",{className:"nav-item sub",children:[Object(j.jsxs)("a",{href:"#/",className:"nav-link","data-toggle":"collapse","data-target":"#AUDIT_MAIN",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsxs)("p",{children:["Main Audit",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"AUDIT_MAIN",children:t.audit.MAINAUDIT.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}),t.audit.SAQ&&Object(j.jsxs)("li",{className:"nav-item sub",children:[Object(j.jsxs)("a",{href:"#/",className:"nav-link","data-toggle":"collapse","data-target":"#AUDIT_SAQ",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsxs)("p",{children:["SAQ",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"AUDIT_SAQ",children:t.audit.SAQ.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]})]})]}):Object(j.jsx)(j.Fragment,{})},ae=window.$,ce=function(e){var t=e.props;return Object(c.useEffect)((function(){ae(".collapse").on("show.bs.collapse",(function(){ae(this).parent().children(":first-child").addClass("collapse-open")})),ae(".collapse").on("hide.bs.collapse",(function(e){ae(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("gm")?t.hasOwnProperty("gm")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-gm-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-user-cog"}),Object(j.jsxs)("p",{children:["General Manager",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-collapse-gm-0",children:t.gm.GM.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}):Object(j.jsx)(j.Fragment,{})},se=window.$,ne=function(e){var t=e.props;return Object(c.useEffect)((function(){se(".collapse").on("show.bs.collapse",(function(){se(this).parent().children(":first-child").addClass("collapse-open")})),se(".collapse").on("hide.bs.collapse",(function(e){se(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("legal")?t.hasOwnProperty("legal")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-legal-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-balance-scale"}),Object(j.jsxs)("p",{children:["Legal",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-collapse-legal-0",children:t.legal.LEGAL.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}):Object(j.jsx)(j.Fragment,{})},re=window.$,le=function(e){var t=e.props;return Object(c.useEffect)((function(){re(".collapse").on("show.bs.collapse",(function(){re(this).parent().children(":first-child").addClass("collapse-open")})),re(".collapse").on("hide.bs.collapse",(function(e){re(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[t]),t.hasOwnProperty("operation")?t.hasOwnProperty("operation")&&Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-operation-0",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-hands-helping"}),Object(j.jsxs)("p",{children:["Operation",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsx)("ul",{className:"nav collapse",id:"sidenav-collapse-operation-0",children:t.operation.OPERATION.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:e.navlink,className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-dot-circle nav-icon"}),Object(j.jsx)("p",{children:e.title||""})]})},e.navlink)}))})]}):Object(j.jsx)(j.Fragment,{})},ie=function(){var e=Object(c.useState)([]),t=Object(z.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){S.post("".concat("https://icdi.herokuapp.com","/api/page/").concat(f._id,"/user")).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(j.jsx)(W,{}),Object(j.jsx)("div",{className:"sidebarx",children:Object(j.jsx)("nav",{className:"mt-2",children:Object(j.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(j.jsx)("li",{className:"nav-item menu-open",children:Object(j.jsxs)(d.b,{exact:!0,to:"/",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(j.jsx)("p",{children:"Dashboard"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/all-sites",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-map-marked-alt"}),Object(j.jsx)("p",{children:"Sites"})]})}),Object(j.jsx)(te,{props:a}),Object(j.jsx)(le,{props:a}),Object(j.jsx)(ne,{props:a}),Object(j.jsx)(ce,{props:a}),Object(j.jsxs)("li",{className:"nav-item",children:[Object(j.jsxs)("a",{href:"/#",className:"nav-link","data-toggle":"collapse","data-target":"#sidenav-collapse-1",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-copy"}),Object(j.jsxs)("p",{children:["ICDI Team",Object(j.jsx)("i",{className:"fas fa-angle-left right"})]})]}),Object(j.jsxs)("ul",{className:"nav collapse",id:"sidenav-collapse-1",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/regional-team",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Regional Managers"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/area-supervisor-team",className:"nav-link",children:[Object(j.jsx)("i",{className:"far fa-circle nav-icon"}),Object(j.jsx)("p",{children:"Area Supervisor"})]})})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{href:"#/contractor-progress-report",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-chart-line"}),Object(j.jsx)("p",{children:"Progress"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/reports",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fas fa-chart-bar"}),Object(j.jsx)("p",{children:"Reports"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/contractor-payment",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon fab fa-cc-visa"}),Object(j.jsx)("p",{children:"Payment History"})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(d.b,{exact:!0,to:"/message",className:"nav-link",children:[Object(j.jsx)("i",{className:"nav-icon far fa-envelope"}),Object(j.jsx)("p",{children:"Messages"})]})})]})})})]})},oe=a.p+"static/media/JarbLogo.35268314.png",de=a.p+"static/media/4thQ.ad2cc228.jpg",me=function(){return Object(j.jsxs)("footer",{className:"main-footer row justify-content-between align-items-center",children:[Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsxs)("div",{className:"row align-items-center",children:[Object(j.jsx)("div",{className:"col-6 col-sm-4 col-md-2",children:Object(j.jsx)("img",{alt:"Jarb Logo",src:oe,style:{width:"100%",height:"auto"}})}),Object(j.jsx)("div",{className:"col-6 col-sm-4 col-md-2",children:Object(j.jsx)("img",{alt:"Jarb Logo",src:de,style:{width:"40%",height:"auto"}})})]})}),Object(j.jsxs)("div",{className:"col-sm-6 text-right",children:["Copyright \xa9 ",Object(j.jsx)("a",{href:"/#",children:"4th-Jarb"})]})]})},je=function(e){var t=e.prop;return Object(j.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white",children:[Object(j.jsxs)("ul",{className:"navbar-nav",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"/#",role:"button",children:Object(j.jsx)("i",{className:"fas fa-bars"})})}),Object(j.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(j.jsx)("a",{href:"#/",className:"nav-link text-uppercase",children:t.title.title})})]}),Object(j.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsxs)("a",{className:"nav-link","data-toggle":"dropdown",href:"/#",children:[Object(j.jsx)("i",{className:"far fa-comments"}),Object(j.jsx)("span",{className:"badge badge-danger navbar-badge",children:"3"})]}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[Object(j.jsx)("a",{href:"/#",className:"dropdown-item",children:Object(j.jsxs)("div",{className:"media",children:[Object(j.jsx)("img",{src:"../../dist/img/user1-128x128.jpg",alt:"User Avatar",className:"img-size-50 mr-3 img-circle"}),Object(j.jsxs)("div",{className:"media-body",children:[Object(j.jsxs)("h3",{className:"dropdown-item-title",children:["Brad Diesel",Object(j.jsx)("span",{className:"float-right text-sm text-danger",children:Object(j.jsx)("i",{className:"fas fa-star"})})]}),Object(j.jsx)("p",{className:"text-sm",children:"Call me whenever you can..."}),Object(j.jsxs)("p",{className:"text-sm text-muted",children:[Object(j.jsx)("i",{className:"far fa-clock mr-1"})," 4 Hours Ago"]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)("a",{href:"/#",className:"dropdown-item",children:Object(j.jsxs)("div",{className:"media",children:[Object(j.jsx)("img",{src:"../../dist/img/user8-128x128.jpg",alt:"User Avatar",className:"img-size-50 img-circle mr-3"}),Object(j.jsxs)("div",{className:"media-body",children:[Object(j.jsxs)("h3",{className:"dropdown-item-title",children:["John Pierce",Object(j.jsx)("span",{className:"float-right text-sm text-muted",children:Object(j.jsx)("i",{className:"fas fa-star"})})]}),Object(j.jsx)("p",{className:"text-sm",children:"I got your message bro"}),Object(j.jsxs)("p",{className:"text-sm text-muted",children:[Object(j.jsx)("i",{className:"far fa-clock mr-1"})," 4 Hours Ago"]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)("a",{href:"/#",className:"dropdown-item",children:Object(j.jsxs)("div",{className:"media",children:[Object(j.jsx)("img",{src:"../../dist/img/user3-128x128.jpg",alt:"User Avatar",className:"img-size-50 img-circle mr-3"}),Object(j.jsxs)("div",{className:"media-body",children:[Object(j.jsxs)("h3",{className:"dropdown-item-title",children:["Nora Silvester",Object(j.jsx)("span",{className:"float-right text-sm text-warning",children:Object(j.jsx)("i",{className:"fas fa-star"})})]}),Object(j.jsx)("p",{className:"text-sm",children:"The subject goes here"}),Object(j.jsxs)("p",{className:"text-sm text-muted",children:[Object(j.jsx)("i",{className:"far fa-clock mr-1"})," 4 Hours Ago"]})]})]})}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)(d.b,{to:"/message",className:"dropdown-item dropdown-footer",children:"See All Messages"})]})]}),Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsxs)("a",{className:"nav-link","data-toggle":"dropdown",href:"/#",children:[Object(j.jsx)("i",{className:"far fa-bell"}),Object(j.jsx)("span",{className:"badge badge-warning navbar-badge",children:"15"})]}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[Object(j.jsx)("span",{className:"dropdown-item dropdown-header",children:"15 Notifications"}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{href:"/#",className:"dropdown-item",children:[Object(j.jsx)("i",{className:"fas fa-envelope mr-2"})," 4 new messages",Object(j.jsx)("span",{className:"float-right text-muted text-sm",children:"3 mins"})]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{href:"/#",className:"dropdown-item",children:[Object(j.jsx)("i",{className:"fas fa-users mr-2"})," 8 friend requests",Object(j.jsx)("span",{className:"float-right text-muted text-sm",children:"12 hours"})]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{href:"/#",className:"dropdown-item",children:[Object(j.jsx)("i",{className:"fas fa-file mr-2"})," 3 new reports",Object(j.jsx)("span",{className:"float-right text-muted text-sm",children:"2 days"})]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsx)("a",{href:"/#",className:"dropdown-item dropdown-footer",children:"See All Notifications"})]})]}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link","data-widget":"fullscreen",href:"/#",role:"button",children:Object(j.jsx)("i",{className:"fas fa-expand-arrows-alt"})})})]})]})},be=window.$,ue=function(e){Object(c.useEffect)((function(){be(".collapse").on("show.bs.collapse",(function(){be(this).parent().children(":first-child").addClass("collapse-open")})),be(".collapse").on("hide.bs.collapse",(function(e){be(e.target).parent().children(":first-child").removeClass("collapse-open")}))}),[]);return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(je,{prop:e}),function(){switch(f.role){case"admin":return Object(j.jsx)(K,{});case"contractor":return Object(j.jsx)(X,{});default:return Object(j.jsx)(ie,{})}}(),Object(j.jsxs)("div",{className:"content-wrapper",children:[Object(j.jsx)("div",{className:"content-header"}),Object(j.jsx)("div",{className:"content",children:Object(j.jsx)("div",{className:"container-fluid",children:e.children})})]}),Object(j.jsx)(me,{})]})},pe=["component"],he=function(e){var t=e.component,a=Object(J.a)(e,pe);return Object(j.jsx)(m.b,Object(q.a)(Object(q.a)({},a),{},{render:function(e){return f.isAuth?Object(j.jsx)(ue,{title:a,children:Object(j.jsx)(t,Object(q.a)({},e))}):Object(j.jsx)(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},xe=a(39),fe=void 0,Oe=function(e){var t=e.history,a=Object(c.useState)({email:"",firstName:"",lastName:"",middleName:"",address:"",contactNum:"",role:"standard"}),s=Object(z.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)({}),i=Object(z.a)(l,2),o=i[0],d=i[1],m=function(e){var t="role"===e.target.name?e.target.checked:e.target.value;r(Object(q.a)(Object(q.a)({},n),{},Object(C.a)({},e.target.name,t)))},b=function(){var e=Object(w.a)(k.a.mark((function e(a){var c,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,(c=n).role=c.role?"contractor":"standard-user",e.next=6,S.post("".concat("https://icdi.herokuapp.com","/api/register"),c);case 6:200===(s=e.sent).status&&f.login(s.data,(function(){t.push("/")})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){e.preventDefault();var t=e.target.name,a=F(t,e.target.value);a?d(Object(q.a)(Object(q.a)({},o),{},Object(C.a)({},e.target.name,a))):(delete o[e.target.name],d(Object(q.a)({},o)))};return f.isAuth?fe.history.goBack():Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row no-gutter",children:[Object(j.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),Object(j.jsx)("div",{className:"col-md-6 bg-light",children:Object(j.jsx)("div",{className:"login d-flex align-items-center",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-9 col-xl-6 mx-auto",children:[Object(j.jsxs)("h3",{className:"display-4 text-primary",children:["4",Object(j.jsx)("sup",{children:"th"}),"JARB"]}),Object(j.jsx)("p",{className:"text-muted mb-4",children:"Register."}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"email",onChange:m,value:n.email,onBlur:u,placeholder:"Email",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),o.email&&Object(j.jsx)("small",{className:"text-danger ml-3",children:o.email||""})]}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"firstName",onChange:m,value:n.firstName,onBlur:u,placeholder:"First Name",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),o.firstName&&Object(j.jsx)("small",{className:"text-danger ml-3",children:o.firstName||""})]}),Object(j.jsx)("div",{className:"form-group mb-3",children:Object(j.jsx)("input",{type:"text",name:"middleName",onChange:m,value:n.middleName,placeholder:"Middle Name",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"})}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"lastName",onChange:m,value:n.lastName,onBlur:u,placeholder:"Last Name",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),o.lastName&&Object(j.jsx)("small",{className:"text-danger ml-3",children:o.lastName||""})]}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"address",onChange:m,value:n.address,onBlur:u,placeholder:"Address",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),o.address&&Object(j.jsx)("small",{className:"text-danger ml-3",children:o.address||""})]}),Object(j.jsxs)("div",{className:"form-group mb-3",children:[Object(j.jsx)("input",{type:"text",name:"contactNum",onChange:m,value:n.contactNum,onBlur:u,placeholder:"Contact #",className:"form-control rounded-pill border-0 shadow-sm px-4 py-4"}),o.contactNum&&Object(j.jsx)("small",{className:"text-danger ml-3",children:o.contactNum||""})]}),Object(j.jsx)("div",{className:"mt-4 text-center",children:Object(j.jsx)("button",{type:"submit",onClick:b,disabled:!Object(xe.isEmpty)(o)||"",className:"btn btn-primary btn-block rounded-pill py-3",children:"Register"})}),Object(j.jsxs)("p",{className:"col-12 pt-3 text-center",children:[Object(j.jsx)("span",{className:"font-weight-bold text-secondary",children:"Click here to"})," ",Object(j.jsx)("a",{href:"/#",onClick:function(e){e.preventDefault(),t.push("/login")},children:"Sign In"})]})]})]})})})})})]})})},ve=window.$,ge=function(e){Object(P.a)(a,e);var t=Object(D.a)(a);function a(e){var c;return Object(p.a)(this,a),(c=t.call(this,e))._isMounted=!1,c.el=s.a.createRef(),c.selectedRow=[],c.state={data:[],header:[]},c}return Object(h.a)(a,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];if(e.length)for(var a in e[0])t.push({title:a,data:a});this.setState({data:e})}},{key:"add",value:function(e){var t=this.state.data;t.push(e),this.setState(Object(q.a)(Object(q.a)({},this.state),{},{data:t}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.state.data;a=a.map((function(a){return a[e]===t[e]&&(a=Object(q.a)(Object(q.a)({},a),t)),a})),this.setState({data:a})}},{key:"remove",value:function(e){var t=Object.entries(e),a=Object(z.a)(t,1)[0],c=this.state.data.filter((function(e){return e[a[0]]!==a[1]}));this.init(c)}},{key:"getSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.getSelected&&this.props.getSelected(e)}},{key:"componentDidUpdate",value:function(){this.$el.clear(),this.$el.rows.add(this.state.data),this.$el.draw()}},{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isMounted=!0,this.$el=ve(this.el.current),this.$el=this.$el.DataTable({columns:this.props.header&&this.props.header.length?this.props.header:[{data:"name",title:"Table Data"}],data:this.state.data,responsive:!0,lengthChange:!1,autoWidth:!1,buttons:this.props.buttons?["csv","print","colvis"]:[]}),this.$el.buttons().container().appendTo("#dataTableComponent_wrapper .col-md-6:eq(0)"),t=this.$el,a=this,ve("#dataTableComponent tbody").on("click","tr",(function(){t.row(this).data()&&a.getSelected(t.row(this).data())}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return Object(j.jsx)("table",{id:"dataTableComponent",className:"table table-bordered table-striped",ref:this.el})}}]),a}(s.a.Component),Ne=window.$,ye=window.moment,ke=function(){var e=Object(c.useRef)(),t={userId:"",firstName:"",lastName:"",middleName:"",birthDate:"",civilStatus:"",contactNum:"",address:"",email:"",role:"",primarySch:"",secondarySch:"",tertiarySch:"",course:"",company1:"",year1:"",company2:"",year2:"",company3:"",year3:""},a=Object(c.useState)(!1),s=Object(z.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)(t),i=Object(z.a)(l,2),o=i[0],d=i[1];Object(c.useEffect)((function(){S.get("".concat("https://icdi.herokuapp.com","/api/user")).then((function(t){e.current.init(t.data)})).catch((function(e){console.log(e)})),Ne('input[name="birthDate"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1980,autoUpdateInput:!1,maxYear:parseInt(ye().format("YYYY"),10)}).on("apply.daterangepicker",(function(e,t){d((function(e){return Object(q.a)(Object(q.a)({},e),{},{birthDate:t.startDate.format("MM/DD/YYYY")})}))})),Ne('input[name="dateHired"]').daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1980,autoUpdateInput:!1,maxYear:parseInt(ye().format("YYYY"),10)}).on("apply.daterangepicker",(function(e,t){d((function(e){return Object(q.a)(Object(q.a)({},e),{},{dateHired:t.startDate.format("MM/DD/YYYY")})}))})),Ne("#staticBackdrop").on("hidden.bs.modal",m)}),[]);var m=function(){d(t),r(!1)},b=function(e){var t=e.target;d((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(C.a)({},t.name,t.value))}))},u=function(){var t=Object(w.a)(k.a.mark((function t(a){var c,s,n,r=arguments;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.length>1&&void 0!==r[1]?r[1]:"",s=o,c&&(s=Object(q.a)(Object(q.a)({},s),c)),delete s.birthDate,delete s.created_at,delete s.updated_at,t.next=8,S.post("".concat("https://icdi.herokuapp.com","/api/user/").concat(o.userId,"/update"),s);case 8:200===(n=t.sent).status?(e.current.update("userId",s),window.toastr.success(T),Ne("#staticBackdrop").modal("hide")):(window.toastr.error(A),console.log(n.data));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,{status:0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,{status:1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Employee Lists"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{getSelected:function(e){d(e),r(!0),Ne("#staticBackdrop").modal("show"),Ne('input[name="birthDate"]').data("daterangepicker").setStartDate(new Date(e.birthDate))},header:[{title:"First Name",data:"firstName"},{title:"Middle Name",data:"middleName"},{title:"Last Name",data:"lastName"},{title:"Email",data:"email"},{title:"Role",data:"role"},{title:"Status",data:"status",render:function(e){return 1===e?"Active":"Disabled"}}],ref:e})})]}),Object(j.jsxs)(U,{title:"Employee Information",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:"Personal Information"}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"First Name"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.firstName,name:"firstName",className:"form-control",id:"exampleInputEmail1",placeholder:"First Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Last Name"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.lastName,name:"lastName",className:"form-control",id:"exampleInputPassword1",placeholder:"Last Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Middle Name"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.middleName,name:"middleName",className:"form-control",id:"exampleInputPassword1",placeholder:"Middle Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Birth Date"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.birthDate,readOnly:!0,name:"birthDate",className:"form-control",id:"exampleInputPassword1",placeholder:"Birth Date"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Age"}),Object(j.jsx)("input",{type:"text",value:o.birthDate?ye().diff(new Date(o.birthDate),"years"):0,readOnly:!0,className:"form-control",id:"exampleInputPassword1",placeholder:"Age"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Civil Status"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.civilStatus||"",name:"civilStatus",className:"form-control",id:"exampleInputPassword1",placeholder:"Civil Status"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Num"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.contactNum,name:"contactNum",className:"form-control",id:"exampleInputPassword1",placeholder:"Contact Num"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-8 col-md-8",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Address"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.address,name:"address",className:"form-control",id:"exampleInputPassword1",placeholder:"Address"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{type:"text",onChange:b,value:o.email,name:"email",className:"form-control",id:"exampleInputPassword1",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"role",children:"password"}),Object(j.jsx)("input",{type:"text",defaultValue:o.password||"",readOnly:!0,name:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"role",children:"role"}),Object(j.jsxs)("select",{name:"role",onChange:b,value:o.role,className:"custom-select rounded-0",id:"role",children:[Object(j.jsx)("option",{value:"standard",children:"Standard User"}),Object(j.jsx)("option",{value:"contractor",children:"Partner"}),Object(j.jsx)("option",{value:"admin",children:"Admin"})]})]}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:"Educational Background"}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Primary"}),Object(j.jsx)("input",{type:"text",defaultValue:o.primarySch,name:"primarySch",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Secondary"}),Object(j.jsx)("input",{type:"text",defaultValue:o.secondarySch,name:"secondarySch",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Tertiary"}),Object(j.jsx)("input",{type:"text",defaultValue:o.tertiarySch,name:"tertiarySch",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Course"}),Object(j.jsx)("input",{type:"text",defaultValue:o.course,name:"course",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:"Company Background"}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-10 col-md-10",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Company Name"}),Object(j.jsx)("input",{type:"text",defaultValue:o.company1,name:"company1",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-2 col-md-2",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Total years"}),Object(j.jsx)("input",{type:"text",defaultValue:o.year1,name:"year1",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-10 col-md-10",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Company Name"}),Object(j.jsx)("input",{type:"text",defaultValue:o.company2,name:"company2",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-2 col-md-2",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Total years"}),Object(j.jsx)("input",{type:"text",defaultValue:o.year2,name:"year2",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-10 col-md-10",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Company Name"}),Object(j.jsx)("input",{type:"text",defaultValue:o.company3,name:"company3",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-2 col-md-2",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Total years"}),Object(j.jsx)("input",{type:"text",defaultValue:o.year3,name:"year3",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),0===o.status?Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:h,children:"Activate"}):Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:p,children:"Disable"}),n?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:u,children:"Update"})}):Object(j.jsx)("button",{type:"button",className:"btn btn-primary",children:"Save"})]})]})]})},we=a(15),Ce=window.$,Pe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return'<input class="pageCheckBox" type="checkbox" \n  name="'.concat(e,"\"\n  data-id='").concat(t,"'\n  data-obj='").concat(c,"'\n  ").concat(a?"checked":"","\n  />")},De=function(){var e=Object(c.useRef)();return Object(c.useEffect)((function(){S.get("".concat("https://icdi.herokuapp.com","/api/page/users")).then(function(){var t=Object(w.a)(k.a.mark((function t(a){var c,s,n,r,l;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=[],s=Object(we.a)(a.data);try{for(s.s();!(n=s.n()).done;)r=n.value,l=JSON.stringify(r.pages),console.log(l),c.push(Object(q.a)(Object(q.a)({},r),{},{pages:{1:Pe(r.userId,1,r.pages[1],l),2:Pe(r.userId,2,r.pages[2],l),3:Pe(r.userId,3,r.pages[3],l),4:Pe(r.userId,4,r.pages[4],l),5:Pe(r.userId,5,r.pages[5],l),6:Pe(r.userId,6,r.pages[6],l),7:Pe(r.userId,7,r.pages[7],l),8:Pe(r.userId,8,r.pages[8],l),9:Pe(r.userId,9,r.pages[9],l),10:Pe(r.userId,10,r.pages[10],l)}}))}catch(i){s.e(i)}finally{s.f()}return t.next=5,e.current.init(c);case 5:Ce(".pageCheckBox").on("change",(function(){var e=this;console.log(Ce(this).data("id"),"pageCheckBox",Ce(this).attr("name"));var t=Ce(this).attr("name"),a=Ce(this).data("id"),c=Ce(this).prop("checked"),s=Ce(this).closest("tr").data("obj")||Ce(this).data("obj");s[a]=c,S.post("".concat("https://icdi.herokuapp.com","/api/page/").concat(t,"/update"),s).then((function(){Ce(e).closest("tr").attr("data-obj",JSON.stringify(s))})).catch((function(e){return console.log(e)}))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})),Ce("#staticBackdrop").on("hidden.bs.modal",(function(e){}))}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Employee Lists"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{header:[{title:"First Name",data:"firstName"},{title:"Last Name",data:"lastName"},{title:"Email",data:"email"},{title:"SAQ Sites",orderable:!1,data:"pages.1"},{title:"SAQ Files",orderable:!1,data:"pages.2"},{title:"Site Evaluation Summary",orderable:!1,data:"pages.3"},{title:"Partner Evaluation Summary",orderable:!1,data:"pages.4"},{title:"Site Technical Evaluation",orderable:!1,data:"pages.5"},{title:"Site Technical Summary",orderable:!1,data:"pages.6"},{title:"Site Construction",orderable:!1,data:"pages.7"},{title:"Site legal asssestment",orderable:!1,data:"pages.8"},{title:"Site legal Summary",orderable:!1,data:"pages.9"},{title:"Approve Sites",orderable:!1,data:"pages.10"}],ref:e})})]})})},Ie=window.$,Se=window.moment,Ye=function(){var e=Object(c.useRef)(),t=Object(c.useState)(1),a=Object(z.a)(t,2),s=a[0],n=(a[1],Object(c.useState)({team:[],documents:{DO174:null,BZNPERMIT:null,COR:null,SEC:null,PCAB:null,BIO:null}})),r=Object(z.a)(n,2),l=r[0],i=r[1];Object(c.useEffect)((function(){u(),Ie("#staticBackdrop").on("hidden.bs.modal",(function(e){b(!1)})),Ie("#reservation").daterangepicker({opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 22:59:59")})}))}),[]);var o=Object(c.useState)(!1),d=Object(z.a)(o,2),m=d[0],b=d[1],u=function(t){var a=!0;t||(t={from:Se().format("YYYY-MM-DD 00:00:00"),end:Se().format("YYYY-MM-DD 23:59:59")},a=!1),S.get("".concat("https://icdi.herokuapp.com","/api/contractor-evalation/").concat(t.from,"/").concat(t.end)).then((function(t){e.current.init(t.data)})).catch((function(e){a&&window.toastr.error(A)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:s,onChange:function(){},name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Partner Evaluation Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{getSelected:function(e){b(!0),i(e),Ie("#staticBackdrop").modal("show")},header:[{title:"First Name",data:"firstName"},{title:"Middle Name",data:"middleName"},{title:"Last Name",data:"lastName"},{title:"Email",data:"email"}],ref:e,buttons:!0})})]}),Object(j.jsxs)(U,{title:"Contractor Information",size:"modal-lg",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"card card-primary card-outline card-tabs w-100",children:[Object(j.jsx)("div",{className:"card-header p-0 pt-1 border-bottom-0",children:Object(j.jsxs)("ul",{className:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link active",id:"custom-tabs-three-form-tab","data-toggle":"pill",href:"#custom-tabs-three-form",role:"tab","aria-controls":"custom-tabs-three-form","aria-selected":"false",children:"Form"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-team-tab","data-toggle":"pill",href:"#custom-tabs-three-team",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Team"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-docu-tab","data-toggle":"pill",href:"#custom-tabs-three-docu",role:"tab","aria-controls":"custom-tabs-three-docu","aria-selected":"true",children:"Documents"})})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",style:{overflow:"hidden"},children:[Object(j.jsx)("div",{className:"tab-pane fade active show",id:"custom-tabs-three-form",role:"tabpanel","aria-labelledby":"custom-tabs-three-form-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Name of Contractor"}),Object(j.jsx)("input",{disabled:!0,name:"contractorName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Location"}),Object(j.jsx)("input",{name:"location",type:"text",className:"form-control",placeholder:"Location"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Region"}),Object(j.jsx)("input",{name:"region",type:"text",className:"form-control",placeholder:"Region"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{disabled:!0,type:"text",className:"form-control",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Person"}),Object(j.jsx)("input",{name:"contactPerson",type:"text",className:"form-control",placeholder:"Contact Person"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Number"}),Object(j.jsx)("input",{name:"contaactNum2",type:"text",className:"form-control",placeholder:"Contact Number"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-team",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab",children:Object(j.jsx)("div",{className:"mt-3 row",children:l.team.map((function(e,t){return Object(j.jsxs)("div",{id:"team-container"+t,className:"row col-12 legend-container",children:[Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 font-weight-bold legend-group",children:e.title}),Object(j.jsx)("div",{className:"col-lg-12 clearfix"}),e.person.map((function(e,t){return function(e,t,a){return e.type,Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:R(e.role)}),Object(j.jsx)("input",{type:"text",defaultValue:e.value,name:e.role,className:"form-control",placeholder:""})]},a)}(e,0,t)}))]},t)}))})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-docu",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"DO174",title:"DOLE DO174",src:l.documents.DO174}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BZNPERMIT",title:"Business Permit",src:l.documents.BZNPERMIT}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"COR",title:"Certificate of Registration",src:l.documents.COR}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"SEC",title:"SEC Registration",src:l.documents.SEC}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"PCAB",title:"PCAB Liscense",src:l.documents.PCAB}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Billing / Invoice / O.R",src:l.documents.BIO}})})]})})]})})]}),Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter ..."})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),m&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"btn btn-danger",children:"Reject"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",children:"Confirm"})]})]})]})]})},Ee=window.$,Me=window.XLSX,Fe=window.moment,Ae=function(){var e=Object(c.useRef)(),t=Object(c.useState)({team:[],documents:{DO174:null,BZNPERMIT:null,COR:null,SEC:null,PCAB:null,BIO:null}}),a=Object(z.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)([]),l=Object(z.a)(r,2),i=l[0],o=l[1];Object(c.useEffect)((function(){d(),Ee("#staticBackdrop").on("hidden.bs.modal",(function(e){})),Ee("#reservation").daterangepicker({opens:"right"},(function(e,t,a){d({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 22:59:59")})}))}),[]);var d=function(t){var a=!0;t||(t={from:Fe().format("YYYY-MM-DD 00:00:00"),end:Fe().format("YYYY-MM-DD 23:59:59")},a=!1),S.get("".concat("https://icdi.herokuapp.com","/api/contractor-evalation/").concat(t.from,"/").concat(t.end)).then((function(t){e.current.init(t),o(t),a&&window.toastr.success(T)})).catch((function(e){a&&window.toastr.error(A)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})})}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Contractor Evaluation Summary Table"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{id:"custom-tbl-btn col-12",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Me.utils.book_new(),t=[];t.push(["CONTRACTOR NAME","REMARKS"]),i.forEach((function(e){var a=[e.contactPerson,e.contactPerson];t.push(a)}));var a=Me.utils.aoa_to_sheet(t);Me.utils.book_append_sheet(e,a,"Sheet1"),Me.writeFile(e,"ContractorEvalSummary.xls")},children:"Download XLS"})}),Object(j.jsx)(ge,{getSelected:function(e){n(e),Ee("#staticBackdrop").modal("show")},header:[{title:"First Name",data:"contactPerson"},{title:"Middle Name",data:"contactPerson"},{title:"Last Name",data:"contactPerson"},{title:"Email",data:"contactPerson"}],ref:e})]})]}),Object(j.jsxs)(U,{title:"Contractor Information",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"card card-primary card-outline card-tabs w-100",children:[Object(j.jsx)("div",{className:"card-header p-0 pt-1 border-bottom-0",children:Object(j.jsxs)("ul",{className:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link active",id:"custom-tabs-three-form-tab","data-toggle":"pill",href:"#custom-tabs-three-form",role:"tab","aria-controls":"custom-tabs-three-form","aria-selected":"false",children:"Form"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-team-tab","data-toggle":"pill",href:"#custom-tabs-three-team",role:"tab","aria-controls":"custom-tabs-three-team","aria-selected":"false",children:"Team"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",id:"custom-tabs-three-docu-tab","data-toggle":"pill",href:"#custom-tabs-three-docu",role:"tab","aria-controls":"custom-tabs-three-docu","aria-selected":"true",children:"Documents"})})]})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"tab-content",style:{overflow:"hidden"},children:[Object(j.jsx)("div",{className:"tab-pane fade active show",id:"custom-tabs-three-form",role:"tabpanel","aria-labelledby":"custom-tabs-three-form-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Name of Contractor"}),Object(j.jsx)("input",{disabled:!0,name:"contractorName",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Location"}),Object(j.jsx)("input",{name:"location",type:"text",className:"form-control",placeholder:"Location"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Region"}),Object(j.jsx)("input",{name:"region",type:"text",className:"form-control",placeholder:"Region"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Email"}),Object(j.jsx)("input",{disabled:!0,type:"text",className:"form-control",placeholder:"Email"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Person"}),Object(j.jsx)("input",{name:"contactPerson",type:"text",className:"form-control",placeholder:"Contact Person"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Contact Number"}),Object(j.jsx)("input",{name:"contaactNum2",type:"text",className:"form-control",placeholder:"Contact Number"})]})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-team",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab",children:Object(j.jsx)("div",{className:"mt-3 row",children:s.team.map((function(e,t){return Object(j.jsxs)("div",{id:"team-container"+t,className:"row col-12 legend-container",children:[Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 font-weight-bold legend-group",children:e.title}),Object(j.jsx)("div",{className:"col-lg-12 clearfix"}),e.person.map((function(e,t){return function(e,t,a){return e.type,Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputPassword1",children:R(e.role)}),Object(j.jsx)("input",{type:"text",defaultValue:e.value,name:e.role,className:"form-control",placeholder:""})]},a)}(e,0,t)}))]},t)}))})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"custom-tabs-three-docu",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab",children:Object(j.jsxs)("div",{className:"mt-3 row",children:[Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"DO174",title:"DOLE DO174",src:s.documents.DO174}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BZNPERMIT",title:"Business Permit",src:s.documents.BZNPERMIT}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"COR",title:"Certificate of Registration",src:s.documents.COR}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"SEC",title:"SEC Registration",src:s.documents.SEC}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"PCAB",title:"PCAB Liscense",src:s.documents.PCAB}})}),Object(j.jsx)("div",{className:"form-group col-sm-12 col-lg-4 col-md-6",children:Object(j.jsx)(G,{props:{name:"BIO",title:"Billing / Invoice / O.R",src:s.documents.BIO}})})]})})]})})]}),Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter ..."})]})]}),Object(j.jsx)("div",{className:"modal-footer card-footer text-right",children:Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})]})},Te=(a(54),window.$),Re=function(){var e=Object(c.useState)({to:[],from:f._id,subject:"",message:""}),t=Object(z.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),r=Object(z.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)([]),d=Object(z.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)([{from:"Alexander Pierce",subject:"4th-JARB",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"},{from:"Alexander Pierce",subject:"JARB",message:"consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"},{from:"Alexander Pierce",subject:"4",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"},{from:"Alexander Pierce",subject:"Theq quick brown fox jump over the lazy dog",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores nemo tempore nisi autem doloremque veniam suscipit alias eveniet, provident recusandae et dolore! Ipsa voluptas voluptates animi excepturi iusto nostrum quaerat!"}]),p=Object(z.a)(u,1)[0];Object(c.useEffect)((function(){Te("#compose-textarea").summernote({height:300,placeholder:"Compose a message.."}),S.get("".concat("https://icdi.herokuapp.com","/api/user/").concat(f._id)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),[]);var h=function(){var e=Object(w.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target,s(Object(q.a)(Object(q.a)({},a),{},Object(C.a)({},c.name,c.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(w.a)(k.a.mark((function e(t){var a,c,s,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value.split(","),i(a),c=a[a.length-1].trim(),e.next=5,S.post("".concat("https://icdi.herokuapp.com","/api/user/search"),{key:c});case 5:s=e.sent,n=s.data,b(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"card card-primary card-outline col-lg-12",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("h3",{className:"card-title",children:"Inbox"}),Object(j.jsx)("div",{className:"card-tools",children:Object(j.jsxs)("div",{className:"input-group input-group-sm",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Message"}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("div",{className:"btn btn-primary",children:Object(j.jsx)("i",{className:"fas fa-search"})})})]})})]}),Object(j.jsxs)("div",{className:"card-body p-0",children:[Object(j.jsxs)("div",{className:"mailbox-controls",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm checkbox-toggle",children:Object(j.jsx)("i",{className:"far fa-square"})}),Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"far fa-trash-alt"})}),Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm","data-toggle":"modal","data-target":"#staticBackdrop",children:Object(j.jsx)("i",{className:"far fa-sticky-note"})})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"fas fa-sync-alt"})}),Object(j.jsxs)("div",{className:"float-right",children:["1-50/200",Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"fas fa-chevron-left"})}),Object(j.jsx)("button",{type:"button",className:"btn btn-default btn-sm",children:Object(j.jsx)("i",{className:"fas fa-chevron-right"})})]})]})]}),Object(j.jsx)("div",{className:"table-responsive mailbox-messages",children:Object(j.jsx)("table",{className:"table table-hover table-striped",children:Object(j.jsx)("tbody",{children:p.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"icheck-primary",children:[Object(j.jsx)("input",{type:"checkbox",name:"checkbox",value:"",id:"check"+t}),Object(j.jsx)("label",{htmlFor:"check"+t})]})}),Object(j.jsx)("td",{className:"mailbox-name",children:Object(j.jsx)("a",{href:"#/",onClick:function(){return function(e){s(Object(q.a)(Object(q.a)({},a),{},{message:e.message,subject:e.subject,to:e.from})),Te("#compose-textarea").summernote("code",e.message),Te("#staticBackdrop").modal("show")}(e)},children:e.from})}),Object(j.jsxs)("td",{className:"mailbox-subject",children:[Object(j.jsx)("b",{children:e.subject})," - ",(e.subject+e.message).slice(e.subject.length,50)+"..."]}),Object(j.jsx)("td",{className:"mailbox-date",children:"5 mins ago"})]},t)}))})})})]})]}),Object(j.jsxs)(U,{title:"New Message",children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"form-group position-relative",children:[Object(j.jsx)("input",{value:l,onChange:x,name:"to",className:"form-control",placeholder:"To:"}),Object(j.jsx)("div",{className:m.length&&l?"message-search-list position-absolute":"d-none",children:m.map((function(e){return Object(j.jsx)("button",{type:"button",onClick:function(){return function(e){var t=(e.firstName+" "+e.lastName).trim(),c=a.to;c.push({_iduser:e._id,name:t,email:e.email}),s(Object(q.a)(Object(q.a)({},a),{},{to:c}));var n=l;l?n[n.length-1]=t:n.push(t),n.push(""),i(n),b([])}(e)},className:"list-group-item list-group-item-action px-4",children:e.firstName+" "+e.lastName},e._id)}))})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{value:a.subject,onChange:h,name:"subject",className:"form-control",placeholder:"Subject:"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{id:"compose-textarea",children:a.message})})]}),Object(j.jsx)("div",{className:"modal-footer card-footer text-right",children:Object(j.jsxs)("button",{type:"button",onClick:function(){var e=Te("#compose-textarea").summernote("code");console.log(e)},className:"btn btn-primary","data-dismiss":"modal",children:["Send",Object(j.jsx)("i",{className:"fab fa-telegram-plane pl-2"})]})})]})]})},_e=function(){return Object(j.jsx)("div",{className:"card card-primary card-outline card-tabs",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("iframe",{title:"tae",src:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",style:{width:"100%",height:"100vh",border:0},target:"_self"})})})},Le=window.XLSX,Be=window.toastr,qe=function(e){var t=e.uploaded;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"btn btn-white",htmlFor:"upload-site",children:Object(j.jsx)("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:".7em"}})}),Object(j.jsx)("input",{type:"file",name:"file",onChange:function(e){var a,c=e.target.files;if(c&&0!==c.length){a=c[0];var s=new FileReader;s.onload=function(){var e=Object(w.a)(k.a.mark((function e(a){var c,s,n,r,l,i,o,d,m,j,b,u,p,h;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c="",s=new Uint8Array(a.target.result),n=s.byteLength,r=0;r<n;r++)c+=String.fromCharCode(s[r]);return l=Le.read(c,{type:"binary",cellDates:!0,cellStyles:!0}),i=l.SheetNames[0],o=l.Sheets[i],e.next=9,Le.utils.sheet_to_json(o);case 9:d=e.sent,m=0,j=[],b=Object(we.a)(d),e.prev=13,b.s();case 15:if((u=b.n()).done){e.next=26;break}if(p=u.value,h=p.Coordinates.replace(/ /g,"").trim(),m<=200&&(j.push({location:h||"",address:"".concat(p.Barangays||""," ").concat(p.Barangays_1||""," ").concat(p.Municipality||""),siteContactPerson:p["Owner/s"]||"",_idcontractor:p.Team||""}),m++),200!==m){e.next=24;break}return e.next=22,S.post("".concat("https://icdi.herokuapp.com","/api/site/upload"),j).then((function(e){t(e.data)})).catch((function(e){console.log(e),Be.error("An error encountered, please try again")}));case 22:m=0,j=[];case 24:e.next=15;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(13),b.e(e.t0);case 31:return e.prev=31,b.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[13,28,31,34]])})));return function(t){return e.apply(this,arguments)}}(),s.readAsArrayBuffer(a)}},className:"d-none",id:"upload-site"})]})},ze=window.XLSX,Ue=function(e){var t=e.title,a=e.data;return Object(j.jsx)("span",{onClick:function(){var e=ze.utils.book_new(),c=ze.utils.json_to_sheet(a);ze.utils.book_append_sheet(e,c,"Sheet1"),ze.writeFile(e,t+".xls")},children:"Download"})},Ge=function(e){var t=e.icon,a=void 0===t?"far fa-envelope":t,c=e.title,s=void 0===c?"":c,n=e.value,r=void 0===n?0:n,l=e.bgClass,i=void 0===l?"bg-info":l;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"info-box",children:[Object(j.jsx)("span",{className:"info-box-icon "+i,children:Object(j.jsx)("i",{className:a})}),Object(j.jsxs)("div",{className:"info-box-content",children:[Object(j.jsx)("span",{className:"info-box-text",children:s||""}),Object(j.jsx)("span",{className:"info-box-number",children:new Intl.NumberFormat("en-IN",{maximumSignificantDigits:3}).format(Number(r))})]})]})})},He=window.moment,$e=window.google,Ve=window.$,Je=window.toastr,Qe={},We=[],Ke=function(){var e=Object(c.useState)({TotalApproved:1,TotalPending:0,TotalRejected:0,TotalSites:0}),t=Object(z.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(z.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)(""),d=Object(z.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)([]),p=Object(z.a)(u,2),h=p[0],x=p[1],O=Object(c.useState)(""),v=Object(z.a)(O,2),g=v[0],N=v[1],y=Object(c.useState)([]),P=Object(z.a)(y,2),D=P[0],I=P[1],Y=Object(c.useState)({location:"",address:"",_saqfileurl:"",siteContactPerson:"",siteContactNum:"",_idcontractor:"",contractor:"",taxDec:!1,taxClearance:!1,sketchPlan:!1,contactPerID:!1,coordPhoto:!1,photoLandOwner:!1,visinityPlan:!1,LIS:!1}),E=Object(z.a)(Y,2),M=E[0],F=E[1];Object(c.useEffect)((function(){var e=0,t=D.filter((function(t){return(t.address.toLowerCase().includes(m)||t.siteContactPerson.toLowerCase().includes(m))&&e++<10}));x(t)}),[D,m]),Object(c.useEffect)((function(){S.get("".concat("https://icdi.herokuapp.com","/api/site/1/stat")).then((function(e){I(e.data)})).catch((function(e){console.log(e),Je.error("An error encountered, please try again")})),Ve(".modal").on("show.bs.modal",(function(){var e,t=Object(we.a)(We);try{for(t.s();!(e=t.n()).done;){e.value.close()}}catch(a){t.e(a)}finally{t.f()}})),S.get("".concat("https://icdi.herokuapp.com","/api/site/count")).then((function(e){s(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(c.useEffect)((function(){var e=new $e.maps.Map(document.getElementById("map"),{center:{lat:10.714222484489797,lng:123.92758604369578},zoom:6});N(e);for(var t=0;t<D.length;t++)R(e,D[t],We,Qe)}),[D]);var R=function(e,t,a,c){var s="standard"!==f.role,n=t.location.split(","),r=new $e.maps.Marker({position:new $e.maps.LatLng(Number(n[0]),Number(n[1])),map:e});c[t.location]=r;var l='\n            <form id="infowindowMap">\n             <div class="container">\n               <div class="row mt-3">\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">\n                       Site Docs/<a href='.concat(t._saqfileurl?t._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_new">Check Docs</a>\n                     </label>\n                     <span style="float:right">').concat(t.auditPercent,'% completed</span>\n                     <input \n                     value="').concat(t._saqfileurl,'"\n                     ').concat(s&&"readOnly",'\n                     name="_saqfileurl"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Doc url link" />\n                 </div>\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">Site Address</label>\n                     <input \n                     value="').concat(t.address,'"\n                     ').concat(s&&"readOnly",'\n                     name="address"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Contact Person</label>\n                     <input \n                     value="').concat(t.siteContactPerson,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactPerson"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Contact Number</label>\n                     <input \n                     value="').concat(t.siteContactNum,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactNum"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinates</label>\n                     <input \n                     value="').concat(n.join(", "),'"\n                     readOnly\n                     name="location"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 \n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinator</label>\n                     <input \n                     value="').concat(t._idcontractor,'"\n                     ').concat(s&&"readOnly",'\n                     name="_idcontractor"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="').concat(0!==t.status?"d-none":"form-group col-12",' style="width: 100%">\n                    <label htmlFor="exampleInputEmail1">Remarks</label>\n                    <textarea class="form-control" rows="3" placeholder="Type here ..." \n                    readOnly\n                    name="actionRemarks">').concat(t.actionRemarks,'</textarea>\n                </div>\n                \x3c!---checklist ---\x3e\n                <div class="col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary">\n                  <span data-toggle="collapse" data-target="#updatesitechecklist" class="cursor-pointer">\n                    <i class="fas fa-tasks"></i> &nbsp;Checklist\n                  </span>\n                </div>\n                <div class="col-12">\n                    <div id="updatesitechecklist" class="collapse row">\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxDec">Tax Dec/Land Title\n                              <input id="taxDec" name="taxDec" type="checkbox" value="1" ').concat(t.taxDec&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxClearance">Tax Clearance\n                              <input id="taxClearance" name="taxClearance" type="checkbox" value="1" ').concat(t.taxClearance&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="sketchPlan">Sketch Plan\n                              <input id="sketchPlan" name="sketchPlan" type="checkbox" value="1" ').concat(t.sketchPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="contactPerID">Contact person ID with 3 signature\n                              <input id="contactPerID" name="contactPerID" type="checkbox" value="1" ').concat(t.contactPerID&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="coordPhoto">Coordinates Photo\n                              <input id="coordPhoto" name="coordPhoto" type="checkbox" value="1" ').concat(t.coordPhoto&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="photoLandOwner">Photo with land owner\n                              <input id="photoLandOwner" name="photoLandOwner" type="checkbox" value="1" ').concat(t.photoLandOwner&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="visinityPlan">Visinity Plan\n                              <input id="visinityPlan" name="visinityPlan" type="checkbox" value="1" ').concat(t.visinityPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="LIS">Lease Information Sheet (LIS)\n                              <input id="LIS" name="LIS" type="checkbox" value="1" ').concat(t.LIS&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                    </div>\n                </div>\n\n                \x3c!---end checklist ---\x3e\n               </div>\n               <div class="form-group col-12 text-right">\n                  <div class="').concat(1!==t.status||0===t.docstat?"d-none":"",'">\n                    <button class="btn btn-danger" id="btn0">Delete</button>   \n                    <button class="btn btn-primary" id="btn1">Update</button>\n                  </div>\n                  <button class="').concat(0!==t.docstat?"d-none":"btn btn-primary",'" id="btn-restore">Restore</button>\n               </div>\n             </div>\n           </form>');r.addListener("click",(function(){var c=new $e.maps.InfoWindow({content:l});a.push(c);var s,n=Object(we.a)(a);try{for(n.s();!(s=n.n()).done;){s.value.close()}}catch(i){n.e(i)}finally{n.f()}c.open(e,r),$e.maps.event.addListener(c,"domready",(function(){document.getElementById("btn1").addEventListener("click",function(){var e=Object(w.a)(k.a.mark((function e(a){var s,n,r,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s=document.querySelector("#infowindowMap"),(n=Object.fromEntries(new FormData(s).entries()))._updatedby=f._id,n.updated_at=He(new Date).format("YYYY-MM-DD HH:mm:ss"),n.status=1,delete n.contractorName,r=((r=(n.location?1:0)+(n.address?1:0)+(n.siteContactPerson?1:0)+(n.siteContactNum?1:0)+(n._idcontractor?1:0)+(n._saqfileurl?1:0)+(n.taxDec?1:0)+(n.taxClearance?1:0)+(n.sketchPlan?1:0)+(n.contactPerID?1:0)+(n.coordPhoto?1:0)+(n.photoLandOwner?1:0)+(n.visinityPlan?1:0)+(n.LIS?1:0))/14*100).toFixed(0),n.auditPercent=r,e.next=12,S.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t.location,"/update"),n);case 12:200===e.sent.status?(Je.success(T),l=D.findIndex((function(e){return e.location===t.location})),D[l]=Object(q.a)(Object(q.a)({},D[l]),n),I([]),I(D),c.close()):Je.error(A);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("btn0").addEventListener("click",function(){var e=Object(w.a)(k.a.mark((function e(a){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),window.confirm("Are you sure you want to delete this location?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,S.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t.location,"/update"),{docstat:0});case 5:200===e.sent.status?(c=D.filter((function(e){return e.location!==t.location})),I(c),Je.success(T)):Je.error(A);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("btn-restore").addEventListener("click",function(){var e=Object(w.a)(k.a.mark((function e(a){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,S.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t.location,"/update"),{docstat:1});case 3:200===e.sent.status?(c=D.filter((function(e){return e.location!==t.location})),I(c),Je.success(T)):Je.error(A);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}))},_=function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=((t=(M.location?1:0)+(M.address?1:0)+(M.siteContactPerson?1:0)+(M.siteContactNum?1:0)+(M._idcontractor?1:0)+(M._saqfileurl?1:0)+(M.taxDec||0)+(M.taxClearance||0)+(M.sketchPlan||0)+(M.contactPerID||0)+(M.coordPhoto||0)+(M.photoLandOwner||0)+(M.visinityPlan||0)+(M.LIS||0))/14*100).toFixed(0),e.next=4,S.post("".concat("https://icdi.herokuapp.com","/api/site/create"),{location:M.location.replace(/ /g,"").trim(),address:M.address,siteContactPerson:M.siteContactPerson,siteContactNum:M.siteContactNum,_idcontractor:M._idcontractor,_saqfileurl:M._saqfileurl,_createdby:f._id,taxDec:M.taxDec,taxClearance:M.taxClearance,sketchPlan:M.sketchPlan,contactPerID:M.contactPerID,coordPhoto:M.coordPhoto,photoLandOwner:M.photoLandOwner,visinityPlan:M.visinityPlan,LIS:M.LIS,auditPercent:t,status:1});case 4:if(400!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",Je.error("Location already exist"));case 7:I([].concat(Object(B.a)(D),[a.data])),Ve("#staticBackdrop").modal("hide");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.target;"location"===t.name&&(t.value=t.value.replace(/ /g,"")),"checkbox"===t.type?F(Object(q.a)(Object(q.a)({},M),{},Object(C.a)({},t.name,t.checked))):F(Object(q.a)(Object(q.a)({},M),{},Object(C.a)({},t.name,t.value)))},G=function(){var e=Object(w.a)(k.a.mark((function e(){var t,a=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,i(!0),!t){e.next=10;break}return e.next=5,t.split(",");case 5:t=e.sent,Qe[t].setAnimation($e.maps.Animation.BOUNCE),setTimeout((function(){Qe[t].setAnimation(null)}),2e3),g.setCenter({lat:Number(t[0]),lng:Number(t[1])}),g.setZoom(15);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){S.get(e).then((function(e){I(e.data)})).catch((function(e){console.log(e),Je.error("An error encountered, please try again")}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(Ge,{icon:"fas fa-map-marker-alt",title:"Total Sites",value:a.TotalSites,bgClass:"bg-info"})}),Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(Ge,{icon:"far fa-thumbs-up",title:"Total Approved",value:a.TotalApproved,bgClass:"bg-gradient-success"})}),Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(Ge,{icon:"fas fa-spell-check",title:"Total Pending",value:a.TotalPending,bgClass:"bg-warning"})}),Object(j.jsx)("div",{className:"col-md-3 col-sm-6 col-12",children:Object(j.jsx)(Ge,{icon:"far fa-thumbs-down",title:"Total Rejected",value:a.TotalRejected,bgClass:"bg-danger"})})]}),Object(j.jsx)("div",{"aria-label":"breadcrumb",children:Object(j.jsxs)("ol",{className:"breadcrumb",children:[Object(j.jsx)("li",{className:"breadcrumb-item",children:Object(j.jsx)("a",{href:"#/",onClick:function(){H("".concat("https://icdi.herokuapp.com","/api/site/1/stat"))},children:"Pending"})}),Object(j.jsx)("li",{className:"breadcrumb-item",children:Object(j.jsx)("a",{href:"#/",onClick:function(){H("".concat("https://icdi.herokuapp.com","/api/site/2/stat"))},children:"Approved"})}),Object(j.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:Object(j.jsx)("a",{href:"#/",onClick:function(){H("".concat("https://icdi.herokuapp.com","/api/site/0/stat"))},children:"Rejected"})}),Object(j.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:Object(j.jsx)("a",{href:"#/",onClick:function(){H("".concat("https://icdi.herokuapp.com","/api/site/-1/stat"))},children:"Deleted"})}),Object(j.jsx)("li",{className:"flex-grow-1 text-right",children:Object(j.jsx)("a",{href:"#/",children:Object(j.jsx)(Ue,{title:"XlsFile",data:D})})})]})}),Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)("button",{className:"btn btn-white",style:{position:"absolute",zIndex:1,top:50,right:0,margin:10},"data-toggle":"modal","data-target":"#staticBackdrop",children:Object(j.jsx)("i",{className:"fas fa-map-marker-alt",style:{fontSize:"1.1em",color:"red"}})}),Object(j.jsx)("button",{className:"btn btn-white d-nonex",onClick:function(){return G()},style:{position:"absolute",zIndex:1,top:100,right:0,margin:10},children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})}),Object(j.jsx)("div",{style:{position:"absolute",zIndex:1,top:150,right:0,margin:10},children:Object(j.jsx)(qe,{uploaded:function(e){I(e)}})}),Object(j.jsx)("div",{id:"map",style:{width:"100%",height:"80vh",position:"relative"}}),Object(j.jsx)("div",{id:"fadeInRight",style:{position:"fixed",width:"240px",height:"80%",right:22,top:127,zIndex:1,background:"rgba(255,255,255,1)",overflow:"hidden"},className:l?"row active":"row",children:Object(j.jsxs)("div",{className:"container-fluid py-4 mt-3",children:[Object(j.jsx)("div",{className:"close",style:{position:"absolute",top:10,right:10,cursor:"pointer"},children:Object(j.jsx)("span",{"aria-hidden":"true",onClick:function(){return i(!1)},children:"\xd7"})}),Object(j.jsxs)("div",{className:"input-group col-12",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text bg-primary",children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})})}),Object(j.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value.trim();b(t)},name:"firstName",className:"form-control",id:"exampleInputEmail1",placeholder:"search"})]}),Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"list-group-flush mt-2",children:h.map((function(e,t){return Object(j.jsx)("button",{type:"button",className:"list-group-item list-group-item-action px-0",onClick:function(){return G(e.location)},children:e.address},t)}))})})]})}),Object(j.jsxs)(U,{title:"Add New Site",size:"modal-md",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:Object(j.jsx)("a",{href:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",target:"_blank",rel:"noreferrer",children:"Site Docs"})}),Object(j.jsx)("input",{onChange:L,value:M._saqfileurl,name:"_saqfileurl",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"doc url link"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Site Address"}),Object(j.jsx)("input",{onChange:L,value:M.address,name:"address",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Person"}),Object(j.jsx)("input",{onChange:L,value:M.siteContactPerson,name:"siteContactPerson",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Number"}),Object(j.jsx)("input",{onChange:L,value:M.siteContactNum,name:"siteContactNum",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinates"}),Object(j.jsx)("input",{onChange:L,value:M.location,name:"location",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinator"}),Object(j.jsx)("input",{onChange:L,value:M._idcontractor,name:"_idcontractor",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:Object(j.jsxs)("span",{"data-toggle":"collapse","data-target":"#newsitechecklist",className:"cursor-pointer",children:[Object(j.jsx)("i",{className:"fas fa-tasks"})," \xa0Checklist"]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{id:"newsitechecklist",className:"collapse row",children:[Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"taxDec",value:"1",onChange:L,id:"taxDec1"}),Object(j.jsx)("label",{htmlFor:"taxDec1",children:"Tax Dec/Land Title"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"taxClearance",value:"1",onChange:L,id:"taxClearance1"}),Object(j.jsx)("label",{htmlFor:"taxClearance1",children:"Tax Clearance"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"sketchPlan",value:"1",onChange:L,id:"sketchPlan1"}),Object(j.jsx)("label",{htmlFor:"sketchPlan1",children:"Sketch Plan"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"contactPerID",value:"1",onChange:L,id:"contactPerID1"}),Object(j.jsx)("label",{htmlFor:"contactPerID1",children:"Contact person ID with 3 signature"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"coordPhoto",value:"1",onChange:L,id:"coordPhoto1"}),Object(j.jsx)("label",{htmlFor:"coordPhoto1",children:"Coordinates Photo"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"photoLandOwner",value:"1",onChange:L,id:"photoLandOwner"}),Object(j.jsx)("label",{htmlFor:"photoLandOwner",children:"Photo with land owner"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"visinityPlan",value:"1",onChange:L,id:"visinityPlan"}),Object(j.jsx)("label",{htmlFor:"visinityPlan",children:"Visinity Plan"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"LIS",value:"1",onChange:L,id:"LIS"}),Object(j.jsx)("label",{htmlFor:"LIS",children:"Lease Information Sheet (LIS)"})]})})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:_,children:"Add"})]})]})]})]})},Ze=window.$,Xe=window.moment,et=function(){var e=Object(c.useRef)(),t=Object(c.useState)({location:"",actionRemarks:""}),a=Object(z.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),l=Object(z.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:Xe(new Date).format("YYYY-MM-DD 00:00:00"),end:Xe(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(z.a)(d,2),b=m[0],u=m[1],p=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Site Files",data:"_saqfileurl",render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Tax Dec",data:"taxDec",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tax Clearance",data:"taxClearance",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Sketch Plan",data:"sketchPlan",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Contact Person 3 ID",data:"contactPerID",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Coordinates Photo",data:"coordPhoto",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Photo with land owner",data:"photoLandOwner",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Visinity Plan",data:"visinityPlan",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Lease Information Sheet (LIS)",data:"LIS",render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Created By",visible:!1,data:"_createdby"},{title:"Date Created",visible:!1,data:"created_at",render:function(e){return Xe(e).format("YYYY-MM-DD")}},{title:"Remarks",orderable:!1,data:"actionRemarks"},{title:"Action",orderable:!1,data:"status",render:function(e,t,a,c){return 1===e?'<button data-id="'.concat(a.location,'" class="btn btn-primary site-eval-proceed-btn">Approved</button>\n                <button data-id="').concat(a.location,'" class="btn btn-danger site-eval-reject-btn">Reject</button>\n                      '):2===e?"Approved":"Rejected"}},{title:"Action By",visible:!1,data:"_actionby"},{title:"Action Date",visible:!1,data:"action_date",render:function(e){return Xe(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){h(),Ze("#staticBackdrop").on("hidden.bs.modal",(function(e){})),Ze("#reservation").daterangepicker({opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),h({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[i]);var h=function(t,a){var c=!0;t||(t=b,c=!1),S.post("".concat("https://icdi.herokuapp.com","/api/site/eval-summary/").concat(t.from,"/").concat(t.end),{status:a||i}).then(function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:Ze(".site-eval-proceed-btn").on("click",(function(){var e=Ze(this).data("id");x(e,2)})),Ze(".site-eval-reject-btn").on("click",(function(){var e=Ze(this).data("id");v(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},x=function(t,a){S.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(t,"/update"),{status:a,_actionby:f._id,action_date:Xe(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){e.current.remove({location:t})})).catch((function(e){}))},O=function(e){var t=e.target;"status"===t.name?o((function(){return e.target.value})):n(Object(q.a)(Object(q.a)({},s),{},Object(C.a)({},t.name,t.value)))},v=function(e){n({location:e}),Ze("#staticBackdrop").modal("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:O,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Evaluation Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{header:p,ref:e,buttons:!0})})]}),Object(j.jsxs)(U,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsx)("div",{className:"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",onChange:O,value:s.actionRemarks})]})})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){S.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(s.location,"/update"),{actionRemarks:s.actionRemarks||"",_actionby:f._id,action_date:Xe(new Date).format("YYYY-MM-DD HH:mm:ss"),status:0}).then((function(t){Ze("#staticBackdrop").modal("hide"),e.current.remove({location:s.location})})).catch((function(e){console.log(e)}))},children:"Confirm Reject"})]})]})]})},tt=window.$,at=window.moment,ct=function(){var e=Object(c.useRef)(),t=Object(c.useState)(1),a=Object(z.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({_saqfileurl:"",address:"",siteContactPerson:"",siteContactNum:"",location:"",_idcontractor:"",siteSurvey:0,soilTest:0,siteEvalForm:0}),l=Object(z.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:at(new Date).format("YYYY-MM-DD 00:00:00"),end:at(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(z.a)(d,2),b=m[0],u=m[1],p=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Created By",data:"_createdby"},{title:"Date Created",data:"created_at",render:function(e){return at(e).format("YYYY-MM-DD")}},{title:"Tax Dec",data:"taxDec",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tax Clearance",data:"taxClearance",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Sketch Plan",data:"sketchPlan",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Land Title",data:"landTitle",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Coordinates Photo",data:"coordPhoto",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Photo with land owner",data:"photoLandOwner",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Visinity Plan",data:"visinityPlan",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Lease Information Sheet (LIS)",data:"LIS",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tech Eval Percentage",data:"techEvalPercent",visible:!0,render:function(e,t,a,c){return(e||"0")+"%"}},{title:"Evaluated By",data:"_evaluatedby",visible:!0},{title:"Date Evaluated",data:"updated_at",visible:!0,render:function(e){return at(e).format("YYYY-MM-DD")}},{title:"Status",orderable:!1,data:"status",visible:!1,render:function(e){return 1===e?"For approval":2===e?"Approved":"Rejected"}},{title:"Action By",data:"_actionby",visible:!0},{title:"Action Date",data:"action_date",visible:!0,render:function(e){return at(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){h(),tt("#staticBackdrop").on("hidden.bs.modal",(function(e){})),tt("#reservation").daterangepicker({opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),h({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[s]);var h=function(t,a){var c=!0;t||(t=b,c=!1),S.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(t.from,"/").concat(t.end),{status:a||s}).then(function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:tt(".site-eval-proceed-btn").on("click",(function(){var e=tt(this).data("id");x(e,2)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},x=function(e,t){S.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(e,"/update"),{status:t}).then((function(e){console.log(e)})).catch((function(e){}))},O=function(e){var t=e.target;"status"===t.name?n((function(){return e.target.value})):o(Object(q.a)(Object(q.a)({},i),{},Object(C.a)({},t.name,t.checked)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:s,onChange:O,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Technical Evaluation Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{getSelected:function(e){o(e),tt("#staticBackdrop").modal("show")},header:p,ref:e,buttons:!0})})]}),Object(j.jsxs)(U,{title:"Site Technical Information",size:"modal-md",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsxs)("label",{htmlFor:"exampleInputEmail1",children:["Site Docs/",Object(j.jsx)("a",{href:i._saqfileurl?i._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",target:"_new",children:"Check Docs"})]}),Object(j.jsx)("span",{className:"float-right",children:"".concat(i.techEvalPercent||0,"% completed")}),Object(j.jsx)("input",{value:i._saqfileurl||"",readOnly:!0,name:"_saqfileurl",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"doc url link"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Site Address"}),Object(j.jsx)("input",{value:i.address||"",readOnly:!0,name:"address",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Person"}),Object(j.jsx)("input",{value:i.siteContactPerson||"",readOnly:!0,name:"siteContactPerson",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Number"}),Object(j.jsx)("input",{value:i.siteContactNum||"",readOnly:!0,name:"siteContactNum",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinates"}),Object(j.jsx)("input",{value:i.location||"",readOnly:!0,name:"location",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinator"}),Object(j.jsx)("input",{value:i._idcontractor||"",readOnly:!0,name:"_idcontractor",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsx)("div",{className:0!==i.status?"d-none":"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",value:i.actionRemarks,readOnly:!0})]})}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:Object(j.jsxs)("span",{"data-toggle":"collapse","data-target":"#newsitechecklist",className:"cursor-pointer",children:[Object(j.jsx)("i",{className:"fas fa-tasks"})," \xa0Checklist"]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{id:"newsitechecklist",className:"collapse row",children:[Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"siteSurvey",value:"1",onChange:O,checked:i.siteSurvey||!1,id:"siteSurvey"}),Object(j.jsx)("label",{htmlFor:"siteSurvey",children:"Site Survey"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"soilTest",value:"1",onChange:O,checked:i.soilTest||!1,id:"soilTest"}),Object(j.jsx)("label",{htmlFor:"soilTest",children:"Soil Test Result"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"siteEvalForm",value:"1",onChange:O,checked:i.siteEvalForm||!1,id:"siteEvalForm"}),Object(j.jsx)("label",{htmlFor:"siteEvalForm",children:"Site Technical Evaluation Form"})]})})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:1!==i.status&&null!==i.status?"d-none":"btn btn-primary",onClick:function(){var t=(i.siteSurvey||0)+(i.soilTest||0)+(i.siteEvalForm||0);t=(t/3*100).toFixed(0);var a={siteSurvey:i.siteSurvey,soilTest:i.soilTest,siteEvalForm:i.siteEvalForm,techEvalPercent:t,_evaluatedby:f._id,updated_at:at(new Date).format("YYYY-MM-DD HH:mm:ss"),status:1};S.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(i.location,"/update"),a).then((function(t){e.current.update("location",Object(q.a)(Object(q.a)({},i),a)),tt("#staticBackdrop").modal("hide")}))},children:"Update"})]})]})]})},st=window.$,nt=window.moment,rt=function(){var e=Object(c.useRef)(),t=Object(c.useState)({location:"",actionRemarks:""}),a=Object(z.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),l=Object(z.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:nt(new Date).format("YYYY-MM-DD 00:00:00"),end:nt(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(z.a)(d,2),b=m[0],u=m[1],p=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Site Survey",data:"siteSurvey",visible:!0,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Soil Test",data:"soilTest",visible:!0,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Site Evaluation Form",data:"siteEvalForm",visible:!0,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tech Eval Percentage",data:"techEvalPercent",visible:!0,render:function(e,t,a,c){return e+"%"}},{title:"Evaluated By",data:"_evaluatedby",visible:!0},{title:"Date Evaluated",data:"created_at",visible:!0,render:function(e){return nt(e).format("YYYY-MM-DD")}},{title:"Action",orderable:!1,data:"status",render:function(e,t,a,c){return 1===e?'<button data-id="'.concat(a.location,'" class="btn btn-primary site-eval-proceed-btn">Approved</button>\n                        <button data-id="').concat(a.location,'" class="btn btn-danger site-eval-reject-btn">Reject</button>\n                      '):2===e?"Approved":"Rejected"}},{title:"Remarks",data:"actionRemarks",visible:!1},{title:"Action By",data:"_actionby",visible:!1},{title:"Action Date",data:"action_date",visible:!1,render:function(e){return nt(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){h(),st("#staticBackdrop").on("hidden.bs.modal",(function(e){})),st("#reservation").daterangepicker({opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),h({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[i]);var h=function(t,a){var c=!0;t||(t=b,c=!1),S.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval-summary/").concat(t.from,"/").concat(t.end),{status:a||i}).then(function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:st(".site-eval-proceed-btn").on("click",(function(){var e=st(this).data("id");x(e,2)})),st(".site-eval-reject-btn").on("click",(function(){var e=st(this).data("id");v(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},x=function(t,a){S.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(t,"/update"),{status:a,_actionby:f._id,action_date:nt(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){console.log(a),e.current.remove({location:t})})).catch((function(e){}))},O=function(e){var t=e.target;"status"===t.name?o((function(){return e.target.value})):n(Object(q.a)(Object(q.a)({},s),{},Object(C.a)({},t.name,t.value)))},v=function(e){n({location:e}),st("#staticBackdrop").modal("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:O,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Technical Evaluation Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{header:p,ref:e,buttons:!0})})]}),Object(j.jsxs)(U,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsx)("div",{className:"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",onChange:O,value:s.actionRemarks})]})})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){S.post("".concat("https://icdi.herokuapp.com","/api/site/tech-eval/").concat(s.location,"/update"),{actionRemarks:s.actionRemarks||"",_actionby:f._id,action_date:nt(new Date).format("YYYY-MM-DD HH:mm:ss"),status:0}).then((function(t){st("#staticBackdrop").modal("hide"),e.current.remove({location:s.location})})).catch((function(e){console.log(e)}))},children:"Confirm Reject"})]})]})]})},lt=window.$,it=window.moment,ot=function(){var e=Object(c.useRef)(),t=Object(c.useState)(1),a=Object(z.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({}),l=Object(z.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:it(new Date).format("YYYY-MM-DD 00:00:00"),end:it(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(z.a)(d,2),b=m[0],u=m[1],p=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Legal Assess Percentage",data:"legalAssessPercent",render:function(e){return(e||"0")+"%"}},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Contracts",data:"contracts",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"LCR",data:"LCR",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tower Construction Permit",data:"towerConsPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Fencing Permit",data:"fencingPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Excavation Permit",data:"excavationPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Bldg Permit",data:"bldgPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Cutting Permit",data:"cenroPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Assess By",data:"_legalAssessBy",visible:!1},{title:"Date Assess",data:"updated_at",visible:!1,render:function(e){return it(e).format("YYYY-MM-DD")}},{title:"Status",orderable:!1,data:"status",visible:!1,render:function(e){return 1===e?"For approval":2===e?"Approved":"Rejected"}},{title:"Remarks",data:"actionRemarks",visible:!1},{title:"Action By",data:"_actionby",visible:!1},{title:"Action Date",data:"action_date",visible:!1,render:function(e){return it(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){h(),lt("#staticBackdrop").on("hidden.bs.modal",(function(e){})),lt("#reservation").daterangepicker({opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),h({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[s]);var h=function(t,a){var c=!0;t||(t=b,c=!1),S.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(t.from,"/").concat(t.end),{status:a||s}).then(function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:lt(".site-eval-proceed-btn").on("click",(function(){var e=lt(this).data("id");x(e,2)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},x=function(e,t){S.post("".concat("https://icdi.herokuapp.com","/api/site/").concat(e,"/update"),{status:t}).then((function(e){console.log(e)})).catch((function(e){}))},O=function(e){var t=e.target;"status"===t.name?n((function(){return e.target.value})):o(Object(q.a)(Object(q.a)({},i),{},Object(C.a)({},t.name,t.checked)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:s,onChange:O,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Legal Assessment Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{getSelected:function(e){o(e),lt("#staticBackdrop").modal("show")},header:p,ref:e,buttons:!0})})]}),Object(j.jsxs)(U,{title:"Site Technical Information",size:"modal-lg",children:[Object(j.jsxs)("div",{className:"card-body row",children:[Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsxs)("label",{htmlFor:"exampleInputEmail1",children:["Site Docs/",Object(j.jsx)("a",{href:i._saqfileurl?i._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",target:"_new",children:"Check Docs"})]}),Object(j.jsx)("span",{className:"float-right",children:"".concat(i.legalAssessPercent||0,"% completed")}),Object(j.jsx)("input",{value:i._saqfileurl||"",readOnly:!0,name:"_saqfileurl",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"doc url link"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-12 col-md-12",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Site Address"}),Object(j.jsx)("input",{value:i.address||"",readOnly:!0,name:"address",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Person"}),Object(j.jsx)("input",{value:i.siteContactPerson||"",readOnly:!0,name:"siteContactPerson",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Contact Number"}),Object(j.jsx)("input",{value:i.siteContactNum||"",readOnly:!0,name:"siteContactNum",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinates"}),Object(j.jsx)("input",{value:i.location||"",readOnly:!0,name:"location",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsxs)("div",{className:"form-group col-sm-12 col-lg-6 col-md-6",children:[Object(j.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Coordinator"}),Object(j.jsx)("input",{value:i._idcontractor||"",readOnly:!0,name:"_idcontractor",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Name"})]}),Object(j.jsx)("div",{className:0!==i.status?"d-none":"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",value:i.actionRemarks,readOnly:!0})]})}),Object(j.jsx)("div",{className:"col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary",children:Object(j.jsxs)("span",{"data-toggle":"collapse","data-target":"#newsitechecklist",className:"cursor-pointer",children:[Object(j.jsx)("i",{className:"fas fa-tasks"})," \xa0Checklist"]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("div",{id:"newsitechecklist",className:"collapse row",children:[Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"contracts",value:"1",onChange:O,checked:i.contracts||!1,id:"contracts"}),Object(j.jsx)("label",{htmlFor:"contracts",children:"Contracts"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"LCR",value:"1",onChange:O,checked:i.LCR||!1,id:"LCR"}),Object(j.jsx)("label",{htmlFor:"LCR",children:"Lease Certificate & Receipt(LCR)"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"towerConsPermit",value:"1",onChange:O,checked:i.towerConsPermit||!1,id:"towerConsPermit"}),Object(j.jsx)("label",{htmlFor:"towerConsPermit",children:"Tower Construction Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"fencingPermit",value:"1",onChange:O,checked:i.fencingPermit||!1,id:"fencingPermit"}),Object(j.jsx)("label",{htmlFor:"fencingPermit",children:"Fencing Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"excavationPermit",value:"1",onChange:O,checked:i.excavationPermit||!1,id:"excavationPermit"}),Object(j.jsx)("label",{htmlFor:"excavationPermit",children:"Excavation Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"bldgPermit",value:"1",onChange:O,checked:i.bldgPermit||!1,id:"bldgPermit"}),Object(j.jsx)("label",{htmlFor:"bldgPermit",children:"Bldg. Permit"})]})}),Object(j.jsx)("div",{className:"col-6 form-group",children:Object(j.jsxs)("div",{className:"icheck-primary d-inline text-secondary",children:[Object(j.jsx)("input",{type:"checkbox",name:"cenroPermit",value:"1",onChange:O,checked:i.cenroPermit||!1,id:"cenroPermit"}),Object(j.jsx)("label",{htmlFor:"cenroPermit",children:"Cutting permit"})]})})]})]}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:1!==i.status&&null!==i.status?"d-none":"btn btn-primary",onClick:function(){var t=(i.contracts||0)+(i.LCR||0)+(i.towerConsPermit||0)+(i.fencingPermit||0)+(i.excavationPermit||0)+(i.bldgPermit||0)+(i.cenroPermit||0);t=(t/7*100).toFixed(0);var a={contracts:i.contracts,LCR:i.LCR,towerConsPermit:i.towerConsPermit,fencingPermit:i.fencingPermit,excavationPermit:i.excavationPermit,bldgPermit:i.bldgPermit,cenroPermit:i.cenroPermit,legalAssessPercent:t,_legalAssessBy:f._id,updated_at:it(new Date).format("YYYY-MM-DD HH:mm:ss"),status:1};S.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(i.location,"/update"),a).then((function(t){e.current.update("location",Object(q.a)(Object(q.a)({},i),a)),lt("#staticBackdrop").modal("hide")}))},children:"Update"})]})]})]})},dt=window.$,mt=window.moment,jt=function(){var e=Object(c.useRef)(),t=Object(c.useState)({location:"",actionRemarks:""}),a=Object(z.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),l=Object(z.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:mt(new Date).format("YYYY-MM-DD 00:00:00"),end:mt(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(z.a)(d,2),b=m[0],u=m[1],p=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Legal Assess Percentage",data:"legalAssessPercent",render:function(e){return e+"%"}},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Contracts",data:"contracts",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"LCR",data:"LCR",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tower Construction Permit",data:"towerConsPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Fencing Permit",data:"fencingPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Excavation Permit",data:"excavationPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Bldg Permit",data:"bldgPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Cutting Permit",data:"cenroPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Assess By",data:"_legalAssessBy",visible:!1},{title:"Date Assess",data:"updated_at",visible:!1,render:function(e){return mt(e).format("YYYY-MM-DD")}},{title:"Remarks",orderable:!1,data:"actionRemarks"},{title:"Action",orderable:!1,data:"status",render:function(e,t,a,c){return 1===e?'<button data-id="'.concat(a.location,'" class="btn btn-primary site-eval-proceed-btn">Approved</button>\n                        <button data-id="').concat(a.location,'" class="btn btn-danger site-eval-reject-btn">Reject</button>\n                      '):2===e?"Approved":"Rejected"}},{title:"Action By",visible:!1,data:"_actionby"},{title:"Action Date",visible:!1,data:"action_date",render:function(e){return mt(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){h(),dt("#staticBackdrop").on("hidden.bs.modal",(function(e){})),dt("#reservation").daterangepicker({opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),h({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[i]);var h=function(t,a){var c=!0;t||(t=b,c=!1),S.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess-summary/").concat(t.from,"/").concat(t.end),{status:a||i}).then(function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:dt(".site-eval-proceed-btn").on("click",(function(){var e=dt(this).data("id");x(e,2)})),dt(".site-eval-reject-btn").on("click",(function(){var e=dt(this).data("id");v(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},x=function(t,a){S.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(t,"/update"),{status:a,_actionby:f._id,action_date:mt(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){console.log(a),e.current.remove({location:t})})).catch((function(e){}))},O=function(e){var t=e.target;"status"===t.name?o((function(){return e.target.value})):n(Object(q.a)(Object(q.a)({},s),{},Object(C.a)({},t.name,t.value)))},v=function(e){n({location:e}),dt("#staticBackdrop").modal("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:O,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Legal Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{header:p,ref:e,buttons:!0})})]}),Object(j.jsxs)(U,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsx)("div",{className:"col-lg-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Remarks"}),Object(j.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Type here ...",name:"actionRemarks",onChange:O,value:s.actionRemarks})]})})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){S.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(s.location,"/update"),{actionRemarks:s.actionRemarks||"",_actionby:f._id,action_date:mt(new Date).format("YYYY-MM-DD"),status:0}).then((function(t){dt("#staticBackdrop").modal("hide"),e.current.remove({location:s.location})})).catch((function(e){console.log(e)}))},children:"Confirm Reject"})]})]})]})},bt=window.google,ut=window.$,pt=window.toastr,ht={},xt=[],ft=function(){var e=Object(c.useState)(!1),t=Object(z.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(z.a)(n,2),l=r[0],i=r[1],o=Object(c.useState)([]),d=Object(z.a)(o,2),m=d[0],b=d[1],u=Object(c.useState)(""),p=Object(z.a)(u,2),h=p[0],x=p[1],O=Object(c.useState)([]),v=Object(z.a)(O,2),g=v[0],N=v[1];Object(c.useEffect)((function(){var e=0,t=g.filter((function(t){return(t.address.toLowerCase().includes(l)||t.siteContactPerson.toLowerCase().includes(l))&&e++<10}));b(t)}),[g,l]),Object(c.useEffect)((function(){S.get("".concat("https://icdi.herokuapp.com","/api/site")).then((function(e){N(e.data)})).catch((function(e){console.log(e),pt.error("An error encountered, please try again")})),ut(".modal").on("show.bs.modal",(function(){var e,t=Object(we.a)(xt);try{for(t.s();!(e=t.n()).done;){e.value.close()}}catch(a){t.e(a)}finally{t.f()}}))}),[]),Object(c.useEffect)((function(){var e=new bt.maps.Map(document.getElementById("map"),{center:{lat:10.714222484489797,lng:123.92758604369578},zoom:6});x(e);for(var t=0;t<g.length;t++)y(e,g[t],xt,ht)}),[g]);var y=function(e,t,a,c){var s="standard"!==f.role,n=t.location.split(","),r=new bt.maps.Marker({position:new bt.maps.LatLng(Number(n[0]),Number(n[1])),map:e});c[t.location]=r;var l='\n            <form id="infowindowMap">\n             <div class="container">\n               <div class="row mt-3">\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">\n                       Site Docs/<a href='.concat(t._saqfileurl?t._saqfileurl:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_new">Check Docs</a>\n                     </label>\n                     <span style="float:right">').concat(t.auditPercent,'% completed</span>\n                     <input \n                     value="').concat(t._saqfileurl,'"\n                     ').concat(s&&"readOnly",'\n                     name="_saqfileurl"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Doc url link" />\n                 </div>\n                  <div class="form-group col-12">\n                     <label htmlFor="exampleInputEmail1">Site Address</label>\n                     <input \n                     value="').concat(t.address,'"\n                     ').concat(s&&"readOnly",'\n                     name="address"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Contact Person</label>\n                     <input \n                     value="').concat(t.siteContactPerson,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactPerson"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Contact Number</label>\n                     <input \n                     value="').concat(t.siteContactNum,'"\n                     ').concat(s&&"readOnly",'\n                     name="siteContactNum"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinates</label>\n                     <input \n                     value="').concat(n.join(", "),'"\n                     readOnly\n                     name="location"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 \n                 <div class="form-group col-6">\n                     <label htmlFor="exampleInputEmail1">Coordinator</label>\n                     <input \n                     value="').concat(t._idcontractor,'"\n                     ').concat(s&&"readOnly",'\n                     name="_idcontractor"\n                     type="text" class="form-control" id="exampleInputEmail1" placeholder="Name" />\n                 </div>\n                 <div class="').concat(0!==t.status?"d-none":"form-group col-12",' style="width: 100%">\n                    <label htmlFor="exampleInputEmail1">Remarks</label>\n                    <textarea class="form-control" rows="3" placeholder="Type here ..." \n                    readOnly\n                    name="actionRemarks">').concat(t.actionRemarks,'</textarea>\n                </div>\n                \x3c!---checklist ---\x3e\n                <div class="col-12 pb-1 mb-4 mt-2 font-weight-bold legend-group text-secondary">\n                  <span data-toggle="collapse" data-target="#updatesitechecklist" class="cursor-pointer">\n                    <i class="fas fa-tasks"></i> &nbsp;Checklist\n                  </span>\n                </div>\n                <div class="col-12">\n                    <div id="updatesitechecklist" class="collapse row">\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxDec">Tax Dec\n                              <input id="taxDec" name="taxDec" type="checkbox" value="1" ').concat(t.taxDec&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="taxClearance">Tax Clearance\n                              <input id="taxClearance" name="taxClearance" type="checkbox" value="1" ').concat(t.taxClearance&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="sketchPlan">Sketch Plan\n                              <input id="sketchPlan" name="sketchPlan" type="checkbox" value="1" ').concat(t.sketchPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="landTitle">Land Title\n                              <input id="landTitle" name="landTitle" type="checkbox" value="1" ').concat(t.landTitle&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="coordPhoto">Coordinates Photo\n                              <input id="coordPhoto" name="coordPhoto" type="checkbox" value="1" ').concat(t.coordPhoto&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="photoLandOwner">Photo with land owner\n                              <input id="photoLandOwner" name="photoLandOwner" type="checkbox" value="1" ').concat(t.photoLandOwner&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="visinityPlan">Visinity Plan\n                              <input id="visinityPlan" name="visinityPlan" type="checkbox" value="1" ').concat(t.visinityPlan&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                      <div class="col-6 form-group">\n                          <label class="checkboxcontainer" for="LIS">Lease Information Sheet (LIS)\n                              <input id="LIS" name="LIS" type="checkbox" value="1" ').concat(t.LIS&&"checked",' >\n                              <span class="checkmark"></span>\n                          </label>\n                      </div>\n                    </div>\n                </div>\n\n                \x3c!---end checklist ---\x3e\n               </div>\n               <div class="form-group col-12 text-right">\n                 \n               </div>\n             </div>\n           </form>');r.addListener("click",(function(){var t=new bt.maps.InfoWindow({content:l});a.push(t);var c,s=Object(we.a)(a);try{for(s.s();!(c=s.n()).done;){c.value.close()}}catch(n){s.e(n)}finally{s.f()}t.open(e,r),bt.maps.event.addListener(t,"domready",(function(){}))}))},C=function(){var e=Object(w.a)(k.a.mark((function e(){var t,a=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,s(!0),!t){e.next=10;break}return e.next=5,t.split(",");case 5:t=e.sent,ht[t].setAnimation(bt.maps.Animation.BOUNCE),setTimeout((function(){ht[t].setAnimation(null)}),2e3),h.setCenter({lat:Number(t[0]),lng:Number(t[1])}),h.setZoom(15);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{"aria-label":"breadcrumb",children:Object(j.jsx)("ol",{className:"breadcrumb",children:Object(j.jsx)("li",{className:"flex-grow-1 text-right",children:Object(j.jsx)("a",{href:"#/",children:Object(j.jsx)(Ue,{title:"XlsFile",data:g})})})})}),Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)("button",{className:"btn btn-white d-nonex",onClick:function(){return C()},style:{position:"absolute",zIndex:1,top:50,right:0,margin:10},children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})}),Object(j.jsx)("div",{id:"map",style:{width:"100%",height:"80vh",position:"relative"}}),Object(j.jsx)("div",{id:"fadeInRight",style:{position:"fixed",width:"240px",height:"80%",right:22,top:127,zIndex:1,background:"rgba(255,255,255,1)",overflow:"hidden"},className:a?"row active":"row",children:Object(j.jsxs)("div",{className:"container-fluid py-4 mt-3",children:[Object(j.jsx)("div",{className:"close",style:{position:"absolute",top:10,right:10,cursor:"pointer"},children:Object(j.jsx)("span",{"aria-hidden":"true",onClick:function(){return s(!1)},children:"\xd7"})}),Object(j.jsxs)("div",{className:"input-group col-12",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text bg-primary",children:Object(j.jsx)("i",{className:"fas fa-search",style:{fontSize:".9em"}})})}),Object(j.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value.trim();i(t)},name:"firstName",className:"form-control",id:"exampleInputEmail1",placeholder:"search"})]}),Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"list-group-flush mt-2",children:m.map((function(e,t){return Object(j.jsx)("button",{type:"button",className:"list-group-item list-group-item-action px-0",onClick:function(){return C(e.location)},children:e.address},t)}))})})]})})]})]})},Ot=window.$,vt=window.moment,gt=function(){var e=Object(c.useRef)(),t=Object(c.useState)({location:"",actionRemarks:""}),a=Object(z.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),l=Object(z.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)({from:vt(new Date).format("YYYY-MM-DD 00:00:00"),end:vt(new Date).format("YYYY-MM-DD 23:59:59")}),m=Object(z.a)(d,2),b=m[0],u=m[1],p=[{title:"Address",data:"address"},{title:"Contact Person",data:"siteContactPerson"},{title:"Contact Num",data:"siteContactNum"},{title:"Coordinates",data:"location"},{title:"Coordinator",data:"_idcontractor"},{title:"Legal Assess Percentage",data:"legalAssessPercent",render:function(e){return e+"%"}},{title:"Site Files",data:"_saqfileurl",visible:!0,render:function(e,t,a,c){return"<a href=".concat(e&&"undefined"!==e?e:"https://drive.google.com/embeddedfolderview?id=1kCdsTKo_87CtG5QEIbGwU7xytpTWNbwC#grid",' target="_blank">Check File</a>')}},{title:"Contracts",data:"contracts",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"LCR",data:"LCR",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Tower Construction Permit",data:"towerConsPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Fencing Permit",data:"fencingPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Excavation Permit",data:"excavationPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Bldg Permit",data:"bldgPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Cutting Permit",data:"cenroPermit",visible:!1,render:function(e,t,a,c){return e?'<i class="fas fa-check text-success"></i>':'<i class="fas fa-times text-danger"></i>'}},{title:"Assess By",data:"_legalAssessBy",visible:!1},{title:"Date Assess",data:"updated_at",visible:!1,render:function(e){return vt(e).format("YYYY-MM-DD")}},{title:"Remarks",orderable:!1,data:"actionRemarks"},{title:"Action",orderable:!1,data:"status",render:function(e,t,a,c){return 1===e?'<button data-id="'.concat(a.location,'" class="btn btn-primary site-eval-proceed-btn">Approved</button>\n                        <button data-id="').concat(a.location,'" class="btn btn-danger site-eval-reject-btn">Reject</button>\n                      '):2===e?"Approved":"Rejected"}},{title:"Action By",visible:!1,data:"_actionby"},{title:"Action Date",visible:!1,data:"action_date",render:function(e){return vt(e).format("YYYY-MM-DD")}}];Object(c.useEffect)((function(){h(),Ot("#staticBackdrop").on("hidden.bs.modal",(function(e){})),Ot("#reservation").daterangepicker({opens:"right"},(function(e,t,a){u({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")}),h({from:e.format("YYYY-MM-DD 00:00:00"),end:t.format("YYYY-MM-DD 23:59:59")})}))}),[i]);var h=function(t,a){var c=!0;t||(t=b,c=!1),S.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess-summary/").concat(t.from,"/").concat(t.end),{status:a||i}).then(function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.init(a.data);case 2:Ot(".site-eval-proceed-btn").on("click",(function(){var e=Ot(this).data("id");x(e,2)})),Ot(".site-eval-reject-btn").on("click",(function(){var e=Ot(this).data("id");v(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){c&&window.toastr.error(A)}))},x=function(t,a){S.post("".concat("https://icdi.herokuapp.com","/api/site/legal-assess/").concat(t,"/update"),{status:a,_actionby:f._id,action_date:vt(new Date).format("YYYY-MM-DD HH:mm:ss")}).then((function(a){console.log(a),e.current.remove({location:t})})).catch((function(e){}))},O=function(e){var t=e.target;"status"===t.name?o((function(){return e.target.value})):n(Object(q.a)(Object(q.a)({},s),{},Object(C.a)({},t.name,t.value)))},v=function(e){n({location:e}),Ot("#staticBackdrop").modal("show")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3",children:Object(j.jsxs)("div",{className:"form-group w-100",children:[Object(j.jsx)("label",{children:"Date range:"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("span",{className:"input-group-text",children:Object(j.jsx)("i",{className:"far fa-calendar-alt"})})}),Object(j.jsx)("input",{type:"text",className:"form-control float-right",id:"reservation"})]})]})})}),Object(j.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(j.jsx)("div",{className:"info-box bg-primary px-3 flex-column",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Category:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:O,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"For Approval"}),Object(j.jsx)("option",{value:"2",children:"Approved"}),Object(j.jsx)("option",{value:"0",children:"Rejected"})]})]})})})]}),Object(j.jsxs)("div",{className:"card mt-3 card-outline card-primary",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h3",{className:"card-title",children:"Site Legal Summary Table"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ge,{getSelected:function(e){console.log(e)},header:p,ref:e,buttons:!0})})]}),Object(j.jsxs)(U,{title:"Confirm Delete",size:"modal-md",children:[Object(j.jsx)("div",{className:"card-body row",children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Select Partner:"}),Object(j.jsxs)("select",{className:"form-control",value:i,onChange:O,name:"status",children:[Object(j.jsx)("option",{value:"1",children:"Partner 1"}),Object(j.jsx)("option",{value:"2",children:"Partner 2"}),Object(j.jsx)("option",{value:"0",children:"Partner 3"})]})]})})}),Object(j.jsxs)("div",{className:"modal-footer card-footer text-right",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){},children:"Continue"})]})]})]})};var Nt=function(){return Object(j.jsx)(d.a,{children:Object(j.jsxs)(m.d,{children:[Object(j.jsx)(he,{exact:!0,path:"/",component:N,title:"dashboard"}),Object(j.jsx)(he,{exact:!0,path:"/manage-user",component:ke,title:"Manage Users"}),Object(j.jsx)(he,{exact:!0,path:"/manage-message",component:Re,title:"Messages"}),Object(j.jsx)(he,{exact:!0,path:"/manage-sites",component:Ke,title:"Messages"}),Object(j.jsx)(he,{exact:!0,path:"/all-sites",component:ft,title:"ALL SITES"}),Object(j.jsx)(he,{exact:!0,path:"/saq-files",component:_e,title:"SAQ FILES"}),Object(j.jsx)(he,{exact:!0,path:"/saq-sites",component:Ke,title:"SAQ Sites"}),Object(j.jsx)(he,{exact:!0,path:"/site-evaluation-summary",component:et,title:"Site evaluation summary"}),Object(j.jsx)(he,{exact:!0,path:"/site-technical-evaluation",component:ct,title:"Site technical evaluation"}),Object(j.jsx)(he,{exact:!0,path:"/site-technical-summary",component:rt,title:"Site technical summary"}),Object(j.jsx)(he,{exact:!0,path:"/site-construction",component:u,title:"Site Construction"}),Object(j.jsx)(he,{exact:!0,path:"/site-legal-assessment",component:ot,title:"Site legal assessment"}),Object(j.jsx)(he,{exact:!0,path:"/site-legal-summary",component:jt,title:"Site legal Summary"}),Object(j.jsx)(he,{exact:!0,path:"/approved-site",component:gt,title:"APPROVED SITES"}),Object(j.jsx)(he,{exact:!0,path:"/authorization-pages",component:De,title:"Page Authorization"}),Object(j.jsx)(he,{exact:!0,path:"/partner-evaluator",component:Ye,title:"team evaluation"}),Object(j.jsx)(he,{exact:!0,path:"/partner-eval-summary",component:Ae,title:"contractor evaluation Summary "}),Object(j.jsx)(he,{exact:!0,path:"/partner-documents",component:V,title:"My Documents"}),Object(j.jsx)(he,{exact:!0,path:"/partner-payment",component:u,title:"Payment History"}),Object(j.jsx)(he,{exact:!0,path:"/partner-progress-report",component:u,title:"Progress Report"}),Object(j.jsx)(he,{exact:!0,path:"/message",component:Re,title:"Messages"}),Object(j.jsx)(he,{exact:!0,path:"/reports",component:u,title:"Reports"}),Object(j.jsx)(he,{exact:!0,path:"/regional-team",component:u,title:"Regional Team"}),Object(j.jsx)(he,{exact:!0,path:"/area-supervisor-team",component:u,title:"Regional Team"}),Object(j.jsx)(m.b,{exact:!0,path:"/login",component:L}),Object(j.jsx)(m.b,{exact:!0,path:"/register",component:Oe}),Object(j.jsx)(m.b,{exact:!0,path:"/404",component:b}),Object(j.jsx)(m.b,{path:"*",component:b})]})})},yt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))},kt=new i.a;r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsxs)(o.a,{client:kt,children:[Object(j.jsx)(Nt,{}),Object(j.jsx)(l.ReactQueryDevtools,{initialIsOpen:!1})]})}),document.getElementById("root")),yt()}},[[55,1,2]]]);
//# sourceMappingURL=main.aee75af4.chunk.js.map